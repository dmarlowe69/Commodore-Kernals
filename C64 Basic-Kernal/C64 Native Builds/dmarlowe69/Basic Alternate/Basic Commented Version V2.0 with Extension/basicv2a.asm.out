BASICV2A.ASM......PAGE 0001

LINE# LOC   CODE        LINE


00001  0000              *=$A000
00002  A000              ;********************************
00003  A000              ; COMMODORE 64 BASICV2 ROM 
00004  A000              ;
00005  A000              ; (C) 1982 COMMODORE BUSINESS MACHINES
00006  A000              ;
00007  A000              ;********************************
00008  A000              ; PAGE ZERO EQUATES
00009  A000              ;********************************
00010  A000              ADRAY1 = $03
00011  A000              ADRAY2 = $05
00012  A000              CHARAC = $07
00013  A000              ENDCHR = $08
00014  A000              VERCK  = $0A
00015  A000              COUNT  = $0B
00016  A000              DIMFLG = $0C
00017  A000              VALTYP = $0D
00018  A000              INTFLG = $0E
00019  A000              GARBFL = $0F
00020  A000              SUBFLG = $10
00021  A000              INPFLG = $11
00022  A000              TANSGN = $12
00023  A000              CHANNL = $13
00024  A000              C
00025  A000              LINNUM = $14
00026  A000              TEMPPT = $16
00027  A000              LASTPT = $17
00028  A000              TEMPST = $19           ;NOT USED IN BASIC ROM
00029  A000              INDEX  = $22
00030  A000              RESHO  = $26
00031  A000              TXTTAB = $2B
00032  A000              VARTAB = $2D
00033  A000              ARYTAB = $2F
00034  A000              STREND = $31
00035  A000              FRETOP = $33
00036  A000              FRESPC = $35
00037  A000              MEMSIZ = $37
00038  A000              CURLIN = $39
00039  A000              OLDLIN = $3B
00040  A000              OLDTXT = $3D
00041  A000              DATLIN = $3F
00042  A000              DATPRT = $41
00043  A000              INPPTR = $43
00044  A000              VARNAM = $45
00045  A000              VARPNT = $47
00046  A000              FORPNT = $49
00047  A000              OPPTR  = $4B
00048  A000              OPMASK = $4D
00049  A000              DEFPNT = $4E
00050  A000              DSCPNT = $50
00051  A000              FOUR6  = $53
00052  A000              JMPER  = $54
00053  A000              J
00054  A000              CHRGET = $73
00055  A000              CHRGOT = $79






BASICV2A.ASM......PAGE 0002

LINE# LOC   CODE        LINE


00056  A000              TXTPTR = $7A
00057  A000              POINTB = $7C
00058  A000              ;********************************
00059  A000              ; PAGE ONE EQUATES
00060  A000              ;********************************
00061  A000              STACK  = $0100         ; PROCESSOR STACK
00062  A000              ;********************************
00063  A000              ; PAGE TWO EQUATES
00064  A000              ;********************************
00065  A000              BUF    = $0200
00066  A000              LAT    = $0259
00067  A000              FAT    = $0263
00068  A000              SAT    = $026D
00069  A000              KEYD   = $0277
00070  A000              MEMSTR = $0281
00071  A000              MEMSI2 = $0282
00072  A000              TIMOUT = $0285
00073  A000              COLOR  = $0286
00074  A000              GDCOL  = $0287
00075  A000              HIBASE = $0288
00076  A000              XMAX   = $0289
00077  A000              LSTSHF = $028E
00078  A000              KEYLOG = $028F
00079  A000              MODE   = $0291
00080  A000              AUTODN = $0292
00081  A000              ;********************************
00082  A000              ; RS-232 EQUATES
00083  A000              ;********************************
00084  A000              M51CTR = $0293
00085  A000              M51CDR = $0294
00086  A000              M51AJB = $0295
00087  A000              RSSTAT = $0297
00088  A000              BITNUM = $0298
00089  A000              BAUDOF = $0299
00090  A000              RIDBE  = $029B
00091  A000              RIDBS  = $029C
00092  A000              RODBS  = $029D
00093  A000              RODBE  = $029E
00094  A000              IRQTMP = $029F
00095  A000              ENABL  = $02A1
00096  A000              CIA1CA = $02A2
00097  A000              CIA1IR = $02A3
00098  A000              CIA1CB = $02A4
00099  A000              NEXSRO = $02A5
00100  A000              PALNTS = $02A6
00101  A000              ;********************************
00102  A000              ; PAGE THREE EQUATES
00103  A000              ;********************************
00104  A000              IERROR = $0300
00105  A000              IMAIN  = $0302
00106  A000              ICRNCH = $0304
00107  A000              IQPLOP = $0306
00108  A000              IGONE  = $0308
00109  A000              IEVAL  = $030A
00110  A000              ;********************************






BASICV2A.ASM......PAGE 0003

LINE# LOC   CODE        LINE


00111  A000              ; SYS - USR EQUATES
00112  A000              ;********************************
00113  A000              SAREG  = $030C
00114  A000              SXREG  = $030D
00115  A000              SYREG  = $030E
00116  A000              SPREG  = $030F
00117  A000              USRPOK = $0310
00118  A000              USRADD = $0311
00119  A000              ;********************************
00120  A000              ; 
00121  A000              ;********************************
00122  A000              CBINV  = $0316
00123  A000              NMINV  = $0318
00124  A000              ;********************************
00125  A000              ; KERNAL INDIRECT VECTORS 
00126  A000              ;********************************
00127  A000              IOPNE  = $031A
00128  A000              ICLOSE = $031C
00129  A000              ICHKIN = $031E
00130  A000              ICKOUT = $0320
00131  A000              ICLRCH = $0322
00132  A000              IBASIN = $0324
00133  A000              IBSOUT = $0326
00134  A000              ISTOP  = $0328
00135  A000              IGETIN = $032A
00136  A000              ICLALL = $032C
00137  A000              USRCMD = $03EE
00138  A000              ILOAD  = $0330
00139  A000              ISAVE  = $0332
00140  A000              ;********************************
00141  A000              ; CASSETTE I/O BUFFER $033C-$03FB 
00142  A000              ;********************************
00143  A000              TBUFER = $033C
00144  A000              ;********************************
00145  A000              ; PAGE FOUR EQUATES
00146  A000              ;********************************
00147  A000              VICSCN = $0400
00148  A000              ;********************************
00149  A000              ; PAGE FIVE EQUATES
00150  A000              ;********************************
00151  A000              
00152  A000              ;********************************
00153  A000              ; PAGE SIX EQUATES
00154  A000              ;********************************
00155  A000              
00156  A000              ;********************************
00157  A000              ; PAGE SEVEN EQUATES
00158  A000              ;********************************
00159  A000              
00160  A000              ;********************************
00161  A000              ; PAGE EIGHT EQUATES
00162  A000              ;********************************
00163  A000              
00164  A000              ;********************************
00165  A000              ; BASIC-KERNAL ROM EQUATES






BASICV2A.ASM......PAGE 0004

LINE# LOC   CODE        LINE


00166  A000              ;********************************
00167  A000              POLY1  = $E043         ; COMPUTE ODD DEGREES FOR 
SIN AND ATN
00168  A000              KKE112 = $E112         ; CHRIN
00169  A000              KKE118 = $E118         ; SET OUTPUT DEVICE
00170  A000              KKE11E = $E11E         ; CHKIN
00171  A000              KKE124 = $E124         ; GETIN
00172  A000              ;
00173  A000              KKE12A = $E12A         ; SYS
00174  A000              KKE156 = $E156         ; SAVE
00175  A000              KKE165 = $E165         ; VERIFY
00176  A000              KKE168 = $E168         ; LOAD
00177  A000              KKE1BE = $E1BE         ; OPEN
00178  A000              KKE1C7 = $E1C7         ; CLOSE
00179  A000              ;
00180  A000              ; ADDRESS TABLE FOR FUNCTIONS
00181  A000              ;
00182  A000              ZZE097 = $E097         ; RND
00183  A000              ;KKE264 = $E264   ; COS
00184  A000              ;XXE26B = $E26B   ; SIN
00185  A000              ;ZZE2B4 = $E2B4   ; TAN
00186  A000              ;KKE30E = $E30E   ; ATN
00187  A000              ;********************************
00188  A000              ; KERNAL ROM EQUATES - VECTOR TABLE
00189  A000              ;********************************
00190  A000              SETMSG = $FF90
00191  A000              READST = $FFB7
00192  A000              CLRCHN = $FFCC
00193  A000              RDTIM  = $FFDE
00194  A000              STOP   = $FFE1         ; TEST STOP KEY
00195  A000              CLALL  = $FFE7         ; CLOSE ALL FILES
00196  A000              PLOT   = $FFF0
00197  A000              ;********************************
00198  A000              ; KERNAL ROM EQUATES
00199  A000              ;********************************
00200  A000              KERNAL = $E000         ; START OF KERNAL ROM
00201  A000              BASCLD = $E394         ; BASIC COLD START ENTRY P
OINT
00202  A000              BASWRM = $E37B         ; BASIC WARM START ENTRY P
OINT
00203  A000              ;********************************
00204  A000              ;*** START OF THE BASIC ROM
00205  A000              ;********************************
00206  A000  94 E3       ZZA000 .WORD BASCLD    ; BASIC COLD START ENTRY P
OINT
00207  A002  7B E3       ZZA002 .WORD BASWRM    ; BASIC WARM START ENTRY P
OINT
00208  A004              ;********************************
00209  A004              ; CBMBASIC
00210  A004              ;********************************
00211  A004  43 42       ZZA004 .BYTE 'CBMBASIC'
00212  A00C              ;********************************
00213  A00C              ; ADDRESS TABLE FOR COMMANDS
00214  A00C              ; (ADDRESS MINUS 1 USED)
00215  A00C              ;********************************
00216  A00C  30 A8       ZZA00C .WORD ZZA831-1  ;$A830   ; END
00217  A00E  41 A7              .WORD ZZA742-1  ;$A741   ; FOR
00218  A010  1D AD              .WORD ZZAD1E-1  ;$AD1D   ; NEXT
00219  A012  F7 A8              .WORD XXA8F8-1  ;$A8F7   ; DATA
00220  A014  A4 AB              .WORD ZZABA5-1  ;$ABA4   ; INPUT#






BASICV2A.ASM......PAGE 0005

LINE# LOC   CODE        LINE


00221  A016  BE AB              .WORD ZZABBF-1  ;$ABBE   ; INPUT
00222  A018  80 B0              .WORD ZZB081-1  ;$B080   ; DIM
00223  A01A  05 AC              .WORD ZZAC06-1  ;$AC05   ; READ
00224  A01C  A4 A9              .WORD XXA9A5-1  ;$A9A4   ; LET
00225  A01E  9F A8              .WORD XXA8A0-1  ;$A89F   ; GOTO
00226  A020  70 A8              .WORD ZZA871-1  ;$A870   ; RUN
00227  A022  27 A9              .WORD ZZA928-1  ;$A927   ; IF
00228  A024  1C A8              .WORD XXA81D-1  ;$A81C   ; RESTORE
00229  A026  82 A8              .WORD ZZA883-1  ;$A882   ; GOSUB
00230  A028  D1 A8              .WORD ZZA8D2-1  ;$A8D1   ; RETURN
00231  A02A  3A A9              .WORD ZZA93B-1  ;$A93A   ; REM
00232  A02C  2E A8              .WORD ZZA82F-1  ;$A82E   ; STOP
00233  A02E  4A A9              .WORD ZZA94B-1  ;$A94A   ; ON
00234  A030  2C B8              .WORD ZZB82D-1  ;$B82C   ; WAIT
00235  A032  67 E1              .WORD KKE168-1  ;$E167   ; LOAD
00236  A034  55 E1              .WORD KKE156-1  ;$E155   ; SAVE
00237  A036  64 E1              .WORD KKE165-1  ;$E164   ; VERIFY
00238  A038  B2 B3              .WORD ZZB3B3-1  ;$B3B2   ; DEF
00239  A03A  23 B8              .WORD ZZB824-1  ;$B823   ; POKE
00240  A03C  7F AA              .WORD ZZAA80-1  ;$AA7F   ; PRINT#
00241  A03E  9F AA              .WORD XXAAA0-1  ;$AA9F   ; PRINT
00242  A040  56 A8              .WORD ZZA857-1  ;$A856   ; CONT
00243  A042  9B A6              .WORD ZZA69C-1  ;$A69B   ; LIST
00244  A044  5D A6              .WORD ZZA65E-1  ;$A65D   ; CLR
00245  A046  85 AA              .WORD XXAA86-1  ;$AA85   ; CMD
00246  A048  29 E1              .WORD KKE12A-1  ;$E129   ; SYS
00247  A04A  BD E1              .WORD KKE1BE-1  ;$E1BD   ; OPEN
00248  A04C  C6 E1              .WORD KKE1C7-1  ;$E1C6   ; CLOSE
00249  A04E  7A AB              .WORD XXAB7B-1  ;$AB7A   ; GET
00250  A050  41 A6       ZZA050 .WORD ZZA642-1  ;$A641   ; NEW
00251  A052              ;********************************
00252  A052              ; OFFSET TO ADDRESS TABLE
00253  A052              ;********************************
00254  A052              TABLEN = ZZA050 - ZZA00C ; $44
00255  A052              ;********************************
00256  A052              ; ADDRESS TABLE FOR FUNCTIONS
00257  A052              ;********************************
00258  A052  39 BC       ZZA052 .WORD XXBC39    ; SGN
00259  A054  CC BC              .WORD XXBCCC    ; INT
00260  A056  58 BC              .WORD XXBC58    ; ABS
00261  A058  10 03              .WORD USRPOK    ; USR
00262  A05A  7D B3              .WORD XXB37D    ; FRE
00263  A05C  9E B3              .WORD XXB39E    ; POS
00264  A05E  71 BF              .WORD XXBF71    ; SQR
00265  A060  97 E0              .WORD ZZE097    ; RND
00266  A062  EA B9              .WORD XXB9EA    ; LOG
00267  A064  ED BF              .WORD XXBFED    ; EXP
00268  A066  64 E2              .WORD KKE264    ; COS
00269  A068  6B E2              .WORD XXE26B    ; SIN
00270  A06A  B4 E2              .WORD ZZE2B4    ; TAN
00271  A06C  0E E3              .WORD KKE30E    ; ATN
00272  A06E  0D B8              .WORD XXB80D    ; PEEK
00273  A070  7C B7              .WORD XXB77C    ; LEN
00274  A072  65 B4              .WORD XXB465    ; STR$
00275  A074  AD B7              .WORD XXB7AD    ; VAL






BASICV2A.ASM......PAGE 0006

LINE# LOC   CODE        LINE


00276  A076  8B B7              .WORD XXB78B    ; ASC
00277  A078  EC B6              .WORD XXB6EC    ; CHR$
00278  A07A  00 B7              .WORD XXB700    ; LEFT$
00279  A07C  2C B7              .WORD XXB72C    ; RIGHT$
00280  A07E  37 B7              .WORD XXB737    ; MID$
00281  A080              ;********************************
00282  A080              ; PRIORITY AND ADDRESS TABLE
00283  A080              ; FOR OPERATORS
00284  A080              ; (ADDRESS MINUS 1 USED)
00285  A080              ;
00286  A080              ;*** PRECEDENCE BYTE AND ACTION ADDRESSES
00287  A080              ; FOR OPERATORS
00288  A080              ; LIKE THE PRIMARY COMMANDS THESE ARE CALLED
00289  A080              ; BY PUSHING THE ADDRESS ONTO THE STACK
00290  A080              ; AND DOING AN RTS, SO AGAIN THE 
00291  A080              ; ACTUAL ADDRESS -1 NEEDS TO BE PUSHED
00292  A080              ;********************************
00293  A080  79          XXA080 .BYTE $79
00294  A081  69 B8       XXA081 .WORD XXB86A-1  ;$B869   ; PLUS
00295  A083  79                 .BYTE $79
00296  A084  52 B8              .WORD KKB853-1  ;$B852   ; MINUS
00297  A086  7B                 .BYTE $7B
00298  A087  2A BA              .WORD ZZBA2B-1  ;$BA2A   ; MULTIPLY
00299  A089  7B                 .BYTE $7B
00300  A08A  11 BB              .WORD XXBB12-1  ;$BB11   ; DIVIDE
00301  A08C  7F                 .BYTE $7F
00302  A08D  7A BF              .WORD ZZBF7B-1  ;$BF7A   ; POWER
00303  A08F  50                 .BYTE $50
00304  A090  E8 AF              .WORD ZZAFE9-1  ;$AFE8   ; AND
00305  A092  46                 .BYTE $46
00306  A093  E5 AF              .WORD ZZAFE6-1  ;$AFE5   ; OR
00307  A095  7D                 .BYTE $7D
00308  A096  B3 BF              .WORD XXBFB4-1  ;$BFB3   ; NEGATIVE
00309  A098  5A                 .BYTE $5A
00310  A099  D3 AE              .WORD ZZAED4-1  ;$AED3   ; NOT
00311  A09B  64                 .BYTE $64
00312  A09C  15 B0       WWA09C .WORD ZZB016-1  ;$B015   ; GREATER / EQUAL
 / LESS
00313  A09E              ;********************************
00314  A09E              ; TABLE OF COMMANDS
00315  A09E              ; EACH ENDED WITH A +$80
00316  A09E              ;
00317  A09E              ; *** BASIC KEYWORDS
00318  A09E              ; EACH WORD HAS B7 SET IN IT'S LAST CHARACTER
00319  A09E              ; AS AN END MARKER, EVEN THE ONE CHARACTER
00320  A09E              ; KEYWORDS SUCH AS "<" OR "="
00321  A09E              ; FIRST ARE THE PRIMARY COMMAND KEYWORDS,
00322  A09E              ; ONLY THESE CAN START A STATEMENT
00323  A09E              ;
00324  A09E              ;********************************
00325  A09E  45          XXA09E .BYTE $45,$4E,$C4                 ; END
00325  A09F  4E 
00325  A0A0  C4 
00326  A0A1  46                 .BYTE $46,$4F,$D2                 ; FOR
00326  A0A2  4F 
00326  A0A3  D2 






BASICV2A.ASM......PAGE 0007

LINE# LOC   CODE        LINE


00327  A0A4  4E                 .BYTE $4E,$45,$58,$D4             ; NEXT
00327  A0A5  45 
00327  A0A6  58 
00327  A0A7  D4 
00328  A0A8  44                 .BYTE $44,$41,$54,$C1             ; DATA
00328  A0A9  41 
00328  A0AA  54 
00328  A0AB  C1 
00329  A0AC  49                 .BYTE $49,$4E,$50,$55,$54,$A3     ; INPUT#

00329  A0AD  4E 
00329  A0AE  50 
00329  A0AF  55 
00329  A0B0  54 
00329  A0B1  A3 
00330  A0B2  49                 .BYTE $49,$4E,$50,$55,$D4         ; INPUT
00330  A0B3  4E 
00330  A0B4  50 
00330  A0B5  55 
00330  A0B6  D4 
00331  A0B7  44                 .BYTE $44,$49,$CD                 ; DIM
00331  A0B8  49 
00331  A0B9  CD 
00332  A0BA  52                 .BYTE $52,$45,$41,$C4             ; READ
00332  A0BB  45 
00332  A0BC  41 
00332  A0BD  C4 
00333  A0BE  4C                 .BYTE $4C,$45,$D4                 ; LET
00333  A0BF  45 
00333  A0C0  D4 
00334  A0C1  47                 .BYTE $47,$4F,$54,$CF             ; GOTO
00334  A0C2  4F 
00334  A0C3  54 
00334  A0C4  CF 
00335  A0C5  52                 .BYTE $52,$55,$CE                 ; RUN
00335  A0C6  55 
00335  A0C7  CE 
00336  A0C8  49                 .BYTE $49,$C6                     ; IF
00336  A0C9  C6 
00337  A0CA  52                 .BYTE $52,$45,$53,$54,$4F,$52,$C5 ; RESTOR
E
00337  A0CB  45 
00337  A0CC  53 
00337  A0CD  54 
00337  A0CE  4F 
00337  A0CF  52 
00337  A0D0  C5 
00338  A0D1  47                 .BYTE $47,$4F,$53,$55,$C2         ; GOSUB
00338  A0D2  4F 
00338  A0D3  53 
00338  A0D4  55 
00338  A0D5  C2 
00339  A0D6  52                 .BYTE $52,$45,$54,$55,$52,$CE     ; RETURN

00339  A0D7  45 
00339  A0D8  54 
00339  A0D9  55 
00339  A0DA  52 






BASICV2A.ASM......PAGE 0008

LINE# LOC   CODE        LINE


00339  A0DB  CE 
00340  A0DC  52                 .BYTE $52,$45,$CD                 ; REM
00340  A0DD  45 
00340  A0DE  CD 
00341  A0DF  53                 .BYTE $53,$54,$4F,$D0             ; STOP
00341  A0E0  54 
00341  A0E1  4F 
00341  A0E2  D0 
00342  A0E3  4F                 .BYTE $4F,$CE                     ; ON
00342  A0E4  CE 
00343  A0E5  57                 .BYTE $57,$41,$49,$D4             ; WAIT
00343  A0E6  41 
00343  A0E7  49 
00343  A0E8  D4 
00344  A0E9  4C                 .BYTE $4C,$4F,$41,$C4             ; LOAD
00344  A0EA  4F 
00344  A0EB  41 
00344  A0EC  C4 
00345  A0ED  53                 .BYTE $53,$41,$56,$C5             ; SAVE
00345  A0EE  41 
00345  A0EF  56 
00345  A0F0  C5 
00346  A0F1  56                 .BYTE $56,$45,$52,$49,$46,$D9     ; VERIFY

00346  A0F2  45 
00346  A0F3  52 
00346  A0F4  49 
00346  A0F5  46 
00346  A0F6  D9 
00347  A0F7  44                 .BYTE $44,$45,$C6                 ; DEF
00347  A0F8  45 
00347  A0F9  C6 
00348  A0FA  50                 .BYTE $50,$4F,$4B,$C5             ; POKE
00348  A0FB  4F 
00348  A0FC  4B 
00348  A0FD  C5 
00349  A0FE  50                 .BYTE $50,$52,$49,$4E,$54,$A3     ; PRINT#

00349  A0FF  52 
00349  A100  49 
00349  A101  4E 
00349  A102  54 
00349  A103  A3 
00350  A104  50                 .BYTE $50,$52,$49,$4E,$D4         ; PRINT
00350  A105  52 
00350  A106  49 
00350  A107  4E 
00350  A108  D4 
00351  A109  43                 .BYTE $43,$4F,$4E,$D4             ; CONT
00351  A10A  4F 
00351  A10B  4E 
00351  A10C  D4 
00352  A10D  4C                 .BYTE $4C,$49,$53,$D4             ; LIST
00352  A10E  49 
00352  A10F  53 
00352  A110  D4 
00353  A111  43                 .BYTE $43,$4C,$D2                 ; CLR






BASICV2A.ASM......PAGE 0009

LINE# LOC   CODE        LINE


00353  A112  4C 
00353  A113  D2 
00354  A114  43                 .BYTE $43,$4D,$C4                 ; CMD
00354  A115  4D 
00354  A116  C4 
00355  A117  53                 .BYTE $53,$59,$D3                 ; SYS
00355  A118  59 
00355  A119  D3 
00356  A11A  4F                 .BYTE $4F,$50,$45,$CE             ; OPEN
00356  A11B  50 
00356  A11C  45 
00356  A11D  CE 
00357  A11E  43                 .BYTE $43,$4C,$4F,$53,$C5         ; CLOSE
00357  A11F  4C 
00357  A120  4F 
00357  A121  53 
00357  A122  C5 
00358  A123  47                 .BYTE $47,$45,$D4                 ; GET
00358  A124  45 
00358  A125  D4 
00359  A126  4E                 .BYTE $4E,$45,$D7                 ; NEW
00359  A127  45 
00359  A128  D7 
00360  A129              ;********************************
00361  A129              ; TABLE OF FUNCTIONS
00362  A129              ; EACH ENDED WITH A +$80
00363  A129              ;********************************
00364  A129  54          ZZA129 .BYTE $54,$41,$42,$A8         ; TAB(
00364  A12A  41 
00364  A12B  42 
00364  A12C  A8 
00365  A12D  54                 .BYTE $54,$CF                 ; TO
00365  A12E  CF 
00366  A12F  46                 .BYTE $46,$CE                 ; FN
00366  A130  CE 
00367  A131  53                 .BYTE $53,$50,$43,$A8         ; SPC(
00367  A132  50 
00367  A133  43 
00367  A134  A8 
00368  A135  54                 .BYTE $54,$48,$45,$CE         ; THEN
00368  A136  48 
00368  A137  45 
00368  A138  CE 
00369  A139  4E                 .BYTE $4E,$4F,$D4             ; NOT
00369  A13A  4F 
00369  A13B  D4 
00370  A13C  53                 .BYTE $53,$54,$45,$D0         ; STEP
00370  A13D  54 
00370  A13E  45 
00370  A13F  D0 
00371  A140  AB                 .BYTE $AB                     ; PLUS
00372  A141  AD                 .BYTE $AD                     ; MINUS
00373  A142  AA                 .BYTE $AA                     ; MULTIPLY
00374  A143  AF                 .BYTE $AF                     ; DIVIDE
00375  A144  DE                 .BYTE $DE                     ; POWER






BASICV2A.ASM......PAGE 0010

LINE# LOC   CODE        LINE


00376  A145  41                 .BYTE $41,$4E,$C4             ; AND
00376  A146  4E 
00376  A147  C4 
00377  A148  4F                 .BYTE $4F,$D2                 ; ON
00377  A149  D2 
00378  A14A  BE                 .BYTE $BE                     ; GREATER
00379  A14B  BD                 .BYTE $BD                     ; EQUAL
00380  A14C  BC                 .BYTE $BC                     ; LESS
00381  A14D  53                 .BYTE $53,$47,$CE             ; SGN
00381  A14E  47 
00381  A14F  CE 
00382  A150  49                 .BYTE $49,$4E,$D4             ; INT
00382  A151  4E 
00382  A152  D4 
00383  A153  41                 .BYTE $41,$42,$D3             ; ABS
00383  A154  42 
00383  A155  D3 
00384  A156  55                 .BYTE $55,$53,$D2             ; USR
00384  A157  53 
00384  A158  D2 
00385  A159  46                 .BYTE $46,$52,$C5             ; FRE
00385  A15A  52 
00385  A15B  C5 
00386  A15C  50                 .BYTE $50,$4F,$D3             ; POS
00386  A15D  4F 
00386  A15E  D3 
00387  A15F  53                 .BYTE $53,$51,$D2             ; SQR
00387  A160  51 
00387  A161  D2 
00388  A162  52                 .BYTE $52,$4E,$C4             ; RND
00388  A163  4E 
00388  A164  C4 
00389  A165  4C                 .BYTE $4C,$4F,$C7             ; LOG
00389  A166  4F 
00389  A167  C7 
00390  A168  45                 .BYTE $45,$58,$D0             ; EXP
00390  A169  58 
00390  A16A  D0 
00391  A16B  43                 .BYTE $43,$4F,$D3             ; COS
00391  A16C  4F 
00391  A16D  D3 
00392  A16E  53                 .BYTE $53,$49,$CE             ; SIN
00392  A16F  49 
00392  A170  CE 
00393  A171  54                 .BYTE $54,$41,$CE             ; TAN
00393  A172  41 
00393  A173  CE 
00394  A174  41                 .BYTE $41,$54,$CE             ; ATN
00394  A175  54 
00394  A176  CE 
00395  A177  50                 .BYTE $50,$45,$45,$CB         ; PEEK
00395  A178  45 
00395  A179  45 
00395  A17A  CB 
00396  A17B  4C                 .BYTE $4C,$45,$CE             ; LEN






BASICV2A.ASM......PAGE 0011

LINE# LOC   CODE        LINE


00396  A17C  45 
00396  A17D  CE 
00397  A17E  53                 .BYTE $53,$54,$52,$A4         ; STR$
00397  A17F  54 
00397  A180  52 
00397  A181  A4 
00398  A182  56                 .BYTE $56,$41,$CC             ; VAL
00398  A183  41 
00398  A184  CC 
00399  A185  41                 .BYTE $41,$53,$C3             ; ASC
00399  A186  53 
00399  A187  C3 
00400  A188  43                 .BYTE $43,$48,$52,$A4         ; CHR$
00400  A189  48 
00400  A18A  52 
00400  A18B  A4 
00401  A18C  4C                 .BYTE $4C,$45,$46,$54,$A4     ; LEFT$
00401  A18D  45 
00401  A18E  46 
00401  A18F  54 
00401  A190  A4 
00402  A191  52                 .BYTE $52,$49,$47,$48,$54,$A4 ; RIGHT$
00402  A192  49 
00402  A193  47 
00402  A194  48 
00402  A195  54 
00402  A196  A4 
00403  A197  4D                 .BYTE $4D,$49,$44,$A4         ; MID$
00403  A198  49 
00403  A199  44 
00403  A19A  A4 
00404  A19B              ;********************************
00405  A19B              ; OTHER COMMANDS
00406  A19B              ;********************************
00407  A19B  47                 .BYTE $47,$CF                 ; GO
00407  A19C  CF 
00408  A19D  00                 .BYTE $00
00409  A19E              ;********************************
00410  A19E              ; TABLE OF ERRORS MESSAGES
00411  A19E              ; EACH ENDED WITH A +$80
00412  A19E              ;********************************
00413  A19E              ; TOO MANY FILES
00414  A19E  54 4F       XXA19E .BYTE 'TOO MANY FILE'
00415  A1AB  D3                 .BYTE $D3
00416  A1AC              ; FILE OPEN
00417  A1AC  46 49       XXA1AC .BYTE 'FILE OPE'
00418  A1B4  CE                 .BYTE $CE
00419  A1B5              ; FILE NOT OPEN
00420  A1B5  46 49       XXA1B5 .BYTE 'FILE NOT OPE'
00421  A1C1  CE                 .BYTE $CE
00422  A1C2              ; FILE NOT FOUND
00423  A1C2  46 49       XXA1C2 .BYTE 'FILE NOT FOUN'
00424  A1CF  C4                 .BYTE $C4
00425  A1D0              ; DEVICE NOT PRESENT
00426  A1D0  44 45       XXA1D0 .BYTE 'DEVICE NOT PRESEN'






BASICV2A.ASM......PAGE 0012

LINE# LOC   CODE        LINE


00427  A1E1  D4                 .BYTE $D4
00428  A1E2              ; NOT INPUT FILE
00429  A1E2  4E 4F       XXA1E2 .BYTE 'NOT INPUT FIL'
00430  A1EF  C5                 .BYTE $C5
00431  A1F0              ; NOT OUTPUT FILE
00432  A1F0  4E 4F       XXA1F0 .BYTE 'NOT OUTPUT FIL'
00433  A1FE  C5                 .BYTE $C5
00434  A1FF              ; MISSISNG FILE NAME
00435  A1FF  4D 49       XXA1FF .BYTE 'MISSING FILE NAM'
00436  A20F  C5                 .BYTE $C5
00437  A210              ; ILLEGAL DEVICE NUMBER
00438  A210  49 4C       XXA210 .BYTE 'ILLEGAL DEVICE NUMBE'
00439  A224  D2                 .BYTE $D2
00440  A225              ; NEXT WITHOUT FOR
00441  A225  4E 45       XXA225 .BYTE 'NEXT WITHOUT FO'
00442  A234  D2                 .BYTE $D2
00443  A235              ; SYNTAX
00444  A235  53 59       XXA235 .BYTE 'SYNTA'
00445  A23A  D8                 .BYTE $D8
00446  A23B              ; RETURN WITHOUT GOSUB
00447  A23B  52 45       XXA23B .BYTE 'RETURN WITHOUT GOSU'
00448  A24E  C2                 .BYTE $C2
00449  A24F              ; OUT OF DATA
00450  A24F  4F 55       XXA24F .BYTE 'OUT OF DAT'
00451  A259  C1                 .BYTE $C1
00452  A25A              ; ILLEGAL QUANTITY
00453  A25A  49 4C       XXA25A .BYTE 'ILLEGAL QUANTIT'
00454  A269  D9                 .BYTE $D9
00455  A26A              ; OVERFLOW
00456  A26A  4F 56       XXA26A .BYTE 'OVERFLO'
00457  A271  D7                 .BYTE $D7
00458  A272              ; OUT OF MEMORY
00459  A272  4F 55       XXA272 .BYTE 'OUT OF MEMOR'
00460  A27E  D9                 .BYTE $D9
00461  A27F              ; UNDEF'D STATEMENT
00462  A27F  55 4E       XXA27F .BYTE 'UNDEF''D STATEMEN'
00463  A28F  D4                 .BYTE $D4
00464  A290              ; BAD SUBSCRIPT
00465  A290  42 41       XXA290 .BYTE 'BAD SUBSCRIP'
00466  A29C  D4                 .BYTE $D4
00467  A29D              ; REDIM'D ARRAY
00468  A29D  52 45       XXA29D .BYTE 'REDIM''D ARRA'
00469  A2A9  D9                 .BYTE $D9
00470  A2AA              ; DIVISION BY ZERO
00471  A2AA  44 49       XXA2AA .BYTE 'DIVISION BY ZER'
00472  A2B9  CF                 .BYTE $CF
00473  A2BA              ; ILLEGAL DIRECT
00474  A2BA  49 4C       XXA2BA .BYTE 'ILLEGAL DIREC'
00475  A2C7  D4                 .BYTE $D4
00476  A2C8              ; TYPE MISMATCH
00477  A2C8  54 59       XXA2C8 .BYTE 'TYPE MISMATC'
00478  A2D4  C8                 .BYTE $C8
00479  A2D5              ; STRING TO LONG
00480  A2D5  53 54       XXA2D5 .BYTE 'STRING TOO LON'
00481  A2E3  C7                 .BYTE $C7






BASICV2A.ASM......PAGE 0013

LINE# LOC   CODE        LINE


00482  A2E4              ; FILE DATA
00483  A2E4  46 49       XXA2E4 .BYTE 'FILE DAT'
00484  A2EC  C1                 .BYTE $C1
00485  A2ED              ; FORMULA TOO COMPLEX
00486  A2ED  46 4F       XXA2ED .BYTE 'FORMULA TOO COMPLE'
00487  A2FF  D8                 .BYTE $D8
00488  A300              ; CAN'T CONTINUE
00489  A300  43 41       XXA300 .BYTE 'CAN''T CONTINU'
00490  A30D  C5                 .BYTE $C5
00491  A30E              ; UNDEF'D FUNCTION
00492  A30E  55 4E       XXA30E .BYTE 'UNDEF''D FUNCTIO'
00493  A31D  CE                 .BYTE $CE
00494  A31E              ; VERIFY
00495  A31E  56 45       XXA31E .BYTE 'VERIF'
00496  A323  D9                 .BYTE $D9
00497  A324              ; LOAD
00498  A324  4C 4F 41    XXA324 .BYTE 'LOA'
00499  A327  C4          XXA327 .BYTE $C4
00500  A328              ;********************************
00501  A328              ; ERROR MESSAGE ADDRESS LOCATIONS
00502  A328              ;********************************
00503  A328  9E A1       WWA328 .WORD XXA19E    ; 01 TOO MANY FILES
00504  A32A  AC A1              .WORD XXA1AC    ; 02 FILE OPEN
00505  A32C  B5 A1              .WORD XXA1B5    ; 03 FILE NOT OPEN
00506  A32E  C2 A1              .WORD XXA1C2    ; 04 FILE NOT FOUND
00507  A330  D0 A1              .WORD XXA1D0    ; 05 DEVICE NOT PRESENT
00508  A332  E2 A1              .WORD XXA1E2    ; 06 NOT INPUT FILE
00509  A334  F0 A1              .WORD XXA1F0    ; 07 NOT OUTPUT FILE
00510  A336  FF A1              .WORD XXA1FF    ; 08 MISSING FILE NAME
00511  A338  10 A2              .WORD XXA210    ; 09 ILLEGAL DEVICE NUMBER

00512  A33A  25 A2              .WORD XXA225    ; 0A NEXT WITHOUT FOR
00513  A33C  35 A2              .WORD XXA235    ; 0B SYNTAX
00514  A33E  3B A2              .WORD XXA23B    ; 0C RETURN WITHOUT GOSUB
00515  A340  4F A2              .WORD XXA24F    ; 0D OUT OF DATA
00516  A342  5A A2              .WORD XXA25A    ; 0E ILLEGAL QUANTITY
00517  A344  6A A2              .WORD XXA26A    ; 0F OVERFLOW
00518  A346  72 A2              .WORD XXA272    ; 10 OUT OF MEMORY
00519  A348  7F A2              .WORD XXA27F    ; 11 UNDEF'D STATMENT
00520  A34A  90 A2              .WORD XXA290    ; 12 BAD SUBSCRIPT
00521  A34C  9D A2              .WORD XXA29D    ; 13 REDIM'D ARRAY
00522  A34E  AA A2              .WORD XXA2AA    ; 14 DEVISION BY ZERO
00523  A350  BA A2              .WORD XXA2BA    ; 15 ILLEGAL DIRECT
00524  A352  C8 A2              .WORD XXA2C8    ; 16 TYPE MISMATCH
00525  A354  D5 A2              .WORD XXA2D5    ; 17 STRING TOO LONG
00526  A356  E4 A2              .WORD XXA2E4    ; 18 FILE DATA
00527  A358  ED A2              .WORD XXA2ED    ; 19 FORMULA TOO COMPLEX
00528  A35A  00 A3              .WORD XXA300    ; 1A CAN'T CONTINUE
00529  A35C  0E A3              .WORD XXA30E    ; 1B UNDEF'D FUNCTION
00530  A35E  1E A3              .WORD XXA31E    ; 1C VERIFY
00531  A360  24 A3              .WORD XXA324    ; 1D LOAD
00532  A362  83 A3              .WORD XXA383    ; 1E BREAK
00533  A364              ;********************************
00534  A364              ; OTHER MESSAGES
00535  A364              ;********************************
00536  A364              ; OK






BASICV2A.ASM......PAGE 0014

LINE# LOC   CODE        LINE


00537  A364  0D          WWA364 .BYTE $0D
00538  A365  4F 4B              .BYTE 'OK'
00539  A367  0D                 .BYTE $0D
00540  A368  00                 .BYTE $00
00541  A369              ; ERROR
00542  A369  20 20       WWA369 .BYTE '  ERROR'
00543  A370  00                 .BYTE $00
00544  A371              ; IN
00545  A371  20 49       WWA371 .BYTE ' IN '
00546  A375  00                 .BYTE $00
00547  A376              ; READY.
00548  A376  0D          WWA376 .BYTE $0D
00549  A377  0A                 .BYTE $0A
00550  A378  52 45              .BYTE 'READY.'
00551  A37E  0D                 .BYTE $0D
00552  A37F  0A                 .BYTE $0A
00553  A380  00                 .BYTE $00
00554  A381              ; BREAK
00555  A381  0D          WWA381 .BYTE $0D
00556  A382  0A                 .BYTE $0A
00557  A383  42 52       XXA383 .BYTE 'BREAK'
00558  A388  00                 .BYTE $00
00559  A389  A0                 .BYTE $A0
00560  A38A              ;********************************
00561  A38A              ; SEARCH FOR "FOR" BLOCKS ON STACK
00562  A38A              ;
00563  A38A              ; *** SEARCH THE STACK FOR FOR OR GOSUB ACTIVITY
00564  A38A              ; RETURN ZB=1 IF FOR VARIABLE FOUND
00565  A38A              ;********************************
00566  A38A  BA          XXA38A TSX             ;COPY STACK POINTER
00567  A38B  E8                 INX             ;+1 PASS RETURN ADDRESS
00568  A38C  E8                 INX             ;+2 PASS RETURN ADDRESS
00569  A38D  E8                 INX             ;+3 PASS CALLING ROUTINE R
ETURN ADDRESS
00570  A38E  E8                 INX             ;+4 PASS CALLING ROUTINE R
ETURN ADDRESS
00571  A38F  BD 01 01    XXA38F LDA STACK+1,X GET THE TOKEN BYTE FROM THE 
STACK
00572  A392  C9 81              CMP #$81        ; FOR BLOCK CODE - IS IT T
HE FOR TOKEN
00573  A394  D0 21              BNE XXA3B7      ; IF NOT FOR TOKEN JUST EX
IT
00574  A396                                     ;IT WAS THE FOR TOKEN
00575  A396  A5 4A              LDA FORPNT+1     ;GET FOR/NEXT VARIABLE PO
INTER HIGH BYTE
00576  A398  D0 0A              BNE XXA3A4      ;BRANCH IF NOT NULL
00577  A39A  BD 02 01           LDA STACK+2,X   ;GET FOR VARIABLE POINTER 
LOW BYTE
00578  A39D  85 49              STA FORPNT      ;SAVE FOR/NEXT VARIABLE PO
INTER LOW BYTE
00579  A39F  BD 03 01           LDA STACK+3,X   ;GET FOR VARIABLE POINTER 
HIGH BYTE
00580  A3A2  85 4A              STA FORPNT+1     ;SAVE FOR/NEXT VARIABLE P
OINTER HIGH BYTE
00581  A3A4  DD 03 01    XXA3A4 CMP STACK+3,X   ;COMPARE VARIABLE POINTER 
WITH STACKED VARIABLE POINTER
00582  A3A7                                     ;HIGH BYTE
00583  A3A7  D0 07              BNE XXA3B0      ;BRANCH IF NO MATCH
00584  A3A9  A5 49              LDA FORPNT      ;GET FOR/NEXT VARIABLE POI
NTER LOW BYTE
00585  A3AB  DD 02 01           CMP STACK+2,X   ;COMPARE VARIABLE POINTER 
WITH STACKED VARIABLE POINTER
00586  A3AE                                     ;LOW BYTE
00587  A3AE  F0 07              BEQ XXA3B7      ;EXIT IF MATCH FOUND
00588  A3B0  8A          XXA3B0 TXA             ;COPY INDEX
00589  A3B1  18                 CLC             ;CLEAR CARRY FOR ADD
00590  A3B2  69 12              ADC #$12        ;ADD FOR STACK USE SIZE
00591  A3B4  AA                 TAX             ;COPY BACK TO INDEX






BASICV2A.ASM......PAGE 0015

LINE# LOC   CODE        LINE


00592  A3B5  D0 D8              BNE XXA38F      ;LOOP IF NOT AT START OF S
TACK
00593  A3B7  60          XXA3B7 RTS             ;DONE WITH IT
00594  A3B8              ;********************************
00595  A3B8              ; MOVE BYTES AFTER CHECK FOR SPACE
00596  A3B8              ;********************************
00597  A3B8  20 08 A4    XXA3B8 JSR XXA408
00598  A3BB  85 31              STA STREND
00599  A3BD  84 32              STY STREND+1
00600  A3BF              ;********************************
00601  A3BF              ; MOVE BYTES ROUTINE
00602  A3BF              ;  $5F/$60 SOURCE START ADDRESS
00603  A3BF              ;  $5A/$5B SOURCE END ADDRESS
00604  A3BF              ;  $58/$59 DESTINATION END ADDRESS
00605  A3BF              ;********************************
00606  A3BF  38          XXA3BF SEC 
00607  A3C0  A5 5A              LDA $5A
00608  A3C2  E5 5F              SBC $5F
00609  A3C4  85 22              STA INDEX
00610  A3C6  A8                 TAY 
00611  A3C7  A5 5B              LDA $5B
00612  A3C9  E5 60              SBC $60
00613  A3CB  AA                 TAX 
00614  A3CC  E8                 INX 
00615  A3CD  98                 TYA 
00616  A3CE  F0 23              BEQ XXA3F3
00617  A3D0  A5 5A              LDA $5A
00618  A3D2  38                 SEC 
00619  A3D3  E5 22              SBC INDEX
00620  A3D5  85 5A              STA $5A
00621  A3D7  B0 03              BCS XXA3DC
00622  A3D9  C6 5B              DEC $5B
00623  A3DB  38                 SEC 
00624  A3DC  A5 58       XXA3DC LDA $58
00625  A3DE  E5 22              SBC INDEX
00626  A3E0  85 58              STA $58
00627  A3E2  B0 08              BCS XXA3EC
00628  A3E4  C6 59              DEC $59
00629  A3E6  90 04              BCC XXA3EC
00630  A3E8  B1 5A       XXA3E8 LDA ($5A),Y
00631  A3EA  91 58              STA ($58),Y
00632  A3EC  88          XXA3EC DEY 
00633  A3ED  D0 F9              BNE XXA3E8
00634  A3EF  B1 5A              LDA ($5A),Y
00635  A3F1  91 58              STA ($58),Y
00636  A3F3  C6 5B       XXA3F3 DEC $5B
00637  A3F5  C6 59              DEC $59
00638  A3F7  CA                 DEX 
00639  A3F8  D0 F2              BNE XXA3EC
00640  A3FA  60                 RTS 
00641  A3FB              ;********************************
00642  A3FB              ; TEST FOR 2 * A BYTES FREE ON STACK
00643  A3FB              ;********************************
00644  A3FB  0A          XXA3FB ASL A
00645  A3FC  69 3E              ADC #$3E        ;'>'
00646  A3FE  B0 35              BCS XXA435






BASICV2A.ASM......PAGE 0016

LINE# LOC   CODE        LINE


00647  A400  85 22              STA INDEX
00648  A402  BA                 TSX 
00649  A403  E4 22              CPX INDEX
00650  A405  90 2E              BCC XXA435
00651  A407  60                 RTS 
00652  A408              ;********************************
00653  A408              ; ARRAY AREA OVERFLOW CHECK
00654  A408              ;********************************
00655  A408  C4 34       XXA408 CPY FRETOP+1
00656  A40A  90 28              BCC XXA434
00657  A40C  D0 04              BNE XXA412
00658  A40E  C5 33              CMP FRETOP
00659  A410  90 22              BCC XXA434
00660  A412  48          XXA412 PHA 
00661  A413  A2 09              LDX #$09
00662  A415  98                 TYA 
00663  A416  48          XXA416 PHA 
00664  A417  B5 57              LDA $57,X
00665  A419  CA                 DEX 
00666  A41A  10 FA              BPL XXA416
00667  A41C  20 26 B5           JSR XXB526
00668  A41F  A2 F7              LDX #$F7
00669  A421  68          XXA421 PLA 
00670  A422  95 61              STA $61,X
00671  A424  E8                 INX 
00672  A425  30 FA              BMI XXA421
00673  A427  68                 PLA 
00674  A428  A8                 TAY 
00675  A429  68                 PLA 
00676  A42A  C4 34              CPY FRETOP+1
00677  A42C  90 06              BCC XXA434
00678  A42E  D0 05              BNE XXA435
00679  A430  C5 33              CMP FRETOP
00680  A432  B0 01              BCS XXA435
00681  A434  60          XXA434 RTS 
00682  A435              ;********************************
00683  A435              ; OUT OF MEMORY ERROR
00684  A435              ;********************************
00685  A435  A2 10       XXA435 LDX #$10        ; ERROR NUMBER
00686  A437              ;********************************
00687  A437              ; HANDLE ERROR MESSAGES
00688  A437              ;********************************
00689  A437  6C 00 03    XXA437 JMP (IERROR)    ; NORMALLY A43A
00690  A43A              ;********************************
00691  A43A              ; STANDARD ERROR MESSAGE HANDLER
00692  A43A              ;********************************
00693  A43A  8A          KKA43A TXA 
00694  A43B  0A                 ASL A
00695  A43C  AA                 TAX 
00696  A43D  BD 26 A3           LDA XXA327-1,X
00697  A440  85 22              STA INDEX
00698  A442  BD 27 A3           LDA XXA327,X
00699  A445  85 23              STA INDEX+1
00700  A447  20 CC FF           JSR CLRCHN
00701  A44A  A9 00              LDA #$00






BASICV2A.ASM......PAGE 0017

LINE# LOC   CODE        LINE


00702  A44C  85 13              STA CHANNL
00703  A44E  20 D7 AA           JSR XXAAD7
00704  A451  20 45 AB           JSR XXAB45
00705  A454  A0 00              LDY #$00
00706  A456  B1 22       XXA456 LDA (INDEX),Y
00707  A458  48                 PHA 
00708  A459  29 7F              AND #$7F
00709  A45B  20 47 AB           JSR XXAB47
00710  A45E  C8                 INY 
00711  A45F  68                 PLA 
00712  A460  10 F4              BPL XXA456
00713  A462  20 7A A6           JSR XXA67A
00714  A465  A9 69              LDA #<WWA369    ;#$69   ; LOW  A369
00715  A467  A0 A3              LDY #>WWA369    ;#$A3   ; HIGH A369
00716  A469  20 1E AB    XXA469 JSR XXAB1E
00717  A46C  A4 3A              LDY CURLIN+1
00718  A46E  C8                 INY 
00719  A46F  F0 03              BEQ XXA474
00720  A471  20 C2 BD           JSR XXBDC2
00721  A474  A9 76       XXA474 LDA #<WWA376    ;#$76   ; LOW A376
00722  A476  A0 A3              LDY #>WWA376    ;#$A3   ; HIGH A376
00723  A478  20 1E AB           JSR XXAB1E
00724  A47B  A9 80              LDA #$80
00725  A47D  20 90 FF           JSR SETMSG
00726  A480  6C 02 03    XXA480 JMP (IMAIN)     ; NORMALLY A483
00727  A483              ;################################
00728  A483              ;********************************
00729  A483              ;
00730  A483              ; STANDARD WARM START ROUTINE
00731  A483              ;
00732  A483              ;********************************
00733  A483              ;################################
00734  A483  20 60 A5    KKA483 JSR XXA560
00735  A486  86 7A              STX TXTPTR
00736  A488  84 7B              STY TXTPTR+1
00737  A48A  20 73 00           JSR CHRGET
00738  A48D  AA                 TAX 
00739  A48E  F0 F0              BEQ XXA480
00740  A490  A2 FF              LDX #$FF
00741  A492  86 3A              STX CURLIN+1
00742  A494  90 06              BCC XXA49C
00743  A496  20 79 A5           JSR XXA579
00744  A499  4C E1 A7           JMP XXA7E1
00745  A49C              ;********************************
00746  A49C              ; HANDLE INSERT/DELETE BASIC LINES
00747  A49C              ;********************************
00748  A49C  20 6B A9    XXA49C JSR XXA96B
00749  A49F  20 79 A5           JSR XXA579
00750  A4A2  84 0B              STY COUNT
00751  A4A4  20 13 A6           JSR XXA613
00752  A4A7  90 44              BCC XXA4ED
00753  A4A9              ;********************************
00754  A4A9              ; DELETE OLD LINE
00755  A4A9              ;********************************
00756  A4A9  A0 01              LDY #$01






BASICV2A.ASM......PAGE 0018

LINE# LOC   CODE        LINE


00757  A4AB  B1 5F              LDA ($5F),Y
00758  A4AD  85 23              STA INDEX+1
00759  A4AF  A5 2D              LDA VARTAB
00760  A4B1  85 22              STA INDEX
00761  A4B3  A5 60              LDA $60
00762  A4B5  85 25              STA INDEX+3
00763  A4B7  A5 5F              LDA $5F
00764  A4B9  88                 DEY 
00765  A4BA  F1 5F              SBC ($5F),Y
00766  A4BC  18                 CLC 
00767  A4BD  65 2D              ADC VARTAB
00768  A4BF  85 2D              STA VARTAB
00769  A4C1  85 24              STA INDEX+2
00770  A4C3  A5 2E              LDA VARTAB+1
00771  A4C5  69 FF              ADC #$FF
00772  A4C7  85 2E              STA VARTAB+1
00773  A4C9  E5 60              SBC $60
00774  A4CB  AA                 TAX 
00775  A4CC  38                 SEC 
00776  A4CD  A5 5F              LDA $5F
00777  A4CF  E5 2D              SBC VARTAB
00778  A4D1  A8                 TAY 
00779  A4D2  B0 03              BCS XXA4D7
00780  A4D4  E8                 INX 
00781  A4D5  C6 25              DEC INDEX+3
00782  A4D7  18          XXA4D7 CLC 
00783  A4D8  65 22              ADC INDEX
00784  A4DA  90 03              BCC XXA4DF
00785  A4DC  C6 23              DEC INDEX+1
00786  A4DE  18                 CLC 
00787  A4DF  B1 22       XXA4DF LDA (INDEX),Y
00788  A4E1  91 24              STA (INDEX+2),Y
00789  A4E3  C8                 INY 
00790  A4E4  D0 F9              BNE XXA4DF
00791  A4E6  E6 23              INC INDEX+1
00792  A4E8  E6 25              INC INDEX+3
00793  A4EA  CA                 DEX 
00794  A4EB  D0 F2              BNE XXA4DF
00795  A4ED              ;********************************
00796  A4ED              ; INSERT NEW LINE
00797  A4ED              ;********************************
00798  A4ED  20 59 A6    XXA4ED JSR XXA659
00799  A4F0  20 33 A5           JSR XXA533
00800  A4F3  AD 00 02           LDA BUF
00801  A4F6  F0 88              BEQ XXA480
00802  A4F8  18                 CLC 
00803  A4F9  A5 2D              LDA VARTAB
00804  A4FB  85 5A              STA $5A
00805  A4FD  65 0B              ADC COUNT
00806  A4FF  85 58              STA $58
00807  A501  A4 2E              LDY VARTAB+1
00808  A503  84 5B              STY $5B
00809  A505  90 01              BCC XXA508
00810  A507  C8                 INY 
00811  A508  84 59       XXA508 STY $59






BASICV2A.ASM......PAGE 0019

LINE# LOC   CODE        LINE


00812  A50A  20 B8 A3           JSR XXA3B8
00813  A50D  A5 14              LDA LINNUM
00814  A50F  A4 15              LDY LINNUM+1
00815  A511  8D FE 01           STA $01FE
00816  A514  8C FF 01           STY $01FF
00817  A517  A5 31              LDA STREND
00818  A519  A4 32              LDY STREND+1
00819  A51B  85 2D              STA VARTAB
00820  A51D  84 2E              STY VARTAB+1
00821  A51F  A4 0B              LDY COUNT
00822  A521  88                 DEY 
00823  A522  B9 FC 01    XXA522 LDA $01FC,Y
00824  A525  91 5F              STA ($5F),Y
00825  A527  88                 DEY 
00826  A528  10 F8              BPL XXA522
00827  A52A  20 59 A6    KKA52A JSR XXA659
00828  A52D  20 33 A5           JSR XXA533
00829  A530  4C 80 A4           JMP XXA480
00830  A533              ;********************************
00831  A533              ; RELINK BASIC PROGRAM
00832  A533              ;********************************
00833  A533  A5 2B       XXA533 LDA TXTTAB
00834  A535  A4 2C              LDY TXTTAB+1
00835  A537  85 22              STA INDEX
00836  A539  84 23              STY INDEX+1
00837  A53B  18                 CLC 
00838  A53C  A0 01       XXA53C LDY #$01
00839  A53E  B1 22              LDA (INDEX),Y
00840  A540  F0 1D              BEQ XXA55F
00841  A542  A0 04              LDY #$04
00842  A544  C8          XXA544 INY 
00843  A545  B1 22              LDA (INDEX),Y
00844  A547  D0 FB              BNE XXA544
00845  A549  C8                 INY 
00846  A54A  98                 TYA 
00847  A54B  65 22              ADC INDEX
00848  A54D  AA                 TAX 
00849  A54E  A0 00              LDY #$00
00850  A550  91 22              STA (INDEX),Y
00851  A552  A5 23              LDA INDEX+1
00852  A554  69 00              ADC #$00
00853  A556  C8                 INY 
00854  A557  91 22              STA (INDEX),Y
00855  A559  86 22              STX INDEX
00856  A55B  85 23              STA INDEX+1
00857  A55D  90 DD              BCC XXA53C
00858  A55F  60          XXA55F RTS 
00859  A560              ;********************************
00860  A560              ; GET STATEMENT INTO BUFFER
00861  A560              ;********************************
00862  A560  A2 00       XXA560 LDX #$00
00863  A562  20 12 E1    XXA562 JSR KKE112
00864  A565  C9 0D              CMP #$0D
00865  A567  F0 0D              BEQ XXA576
00866  A569  9D 00 02           STA BUF,X






BASICV2A.ASM......PAGE 0020

LINE# LOC   CODE        LINE


00867  A56C  E8                 INX 
00868  A56D  E0 59              CPX #$59        ;'Y'
00869  A56F  90 F1              BCC XXA562
00870  A571  A2 17              LDX #$17        ; ERROR NUMBER
00871  A573  4C 37 A4           JMP XXA437
00872  A576              ;********************************
00873  A576  4C CA AA    XXA576 JMP XXAACA      ; GOTO END OF LINE
00874  A579              ;********************************
00875  A579              ; CRUNCH TOKENS
00876  A579              ;********************************
00877  A579  6C 04 03    XXA579 JMP (ICRNCH)    ; NORMALLY A57C
00878  A57C              ;********************************
00879  A57C              ; STANDARD TOKEN CRUNCHER
00880  A57C              ;********************************
00881  A57C  A6 7A       KKA57C LDX TXTPTR
00882  A57E  A0 04              LDY #$04
00883  A580  84 0F              STY GARBFL
00884  A582  BD 00 02    XXA582 LDA BUF,X
00885  A585  10 07              BPL XXA58E
00886  A587  C9 FF              CMP #$FF        ; PI
00887  A589  F0 3E              BEQ XXA5C9
00888  A58B  E8                 INX 
00889  A58C  D0 F4              BNE XXA582
00890  A58E  C9 20       XXA58E CMP #$20        ;' '
00891  A590  F0 37              BEQ XXA5C9
00892  A592  85 08              STA ENDCHR
00893  A594  C9 22              CMP #$22        ;'"'
00894  A596  F0 56              BEQ XXA5EE
00895  A598  24 0F              BIT GARBFL
00896  A59A  70 2D              BVS XXA5C9
00897  A59C  C9 3F              CMP #$3F        ;'?'
00898  A59E  D0 04              BNE XXA5A4
00899  A5A0  A9 99              LDA #$99        ; PRINT CODE
00900  A5A2  D0 25              BNE XXA5C9
00901  A5A4  C9 30       XXA5A4 CMP #$30        ;'0'
00902  A5A6  90 04              BCC XXA5AC
00903  A5A8  C9 3C              CMP #$3C        ;'<'
00904  A5AA  90 1D              BCC XXA5C9
00905  A5AC  84 71       XXA5AC STY $71
00906  A5AE  A0 00              LDY #$00
00907  A5B0  84 0B              STY COUNT
00908  A5B2  88                 DEY 
00909  A5B3  86 7A              STX TXTPTR
00910  A5B5  CA                 DEX 
00911  A5B6  C8          XXA5B6 INY 
00912  A5B7  E8                 INX 
00913  A5B8  BD 00 02    XXA5B8 LDA BUF,X
00914  A5BB  38                 SEC 
00915  A5BC  F9 9E A0           SBC XXA09E,Y
00916  A5BF  F0 F5              BEQ XXA5B6
00917  A5C1  C9 80              CMP #$80
00918  A5C3  D0 30              BNE XXA5F5
00919  A5C5  05 0B              ORA COUNT
00920  A5C7  A4 71       XXA5C7 LDY $71
00921  A5C9  E8          XXA5C9 INX 






BASICV2A.ASM......PAGE 0021

LINE# LOC   CODE        LINE


00922  A5CA  C8                 INY 
00923  A5CB  99 FB 01           STA $01FB,Y
00924  A5CE  B9 FB 01           LDA $01FB,Y
00925  A5D1  F0 36              BEQ XXA609
00926  A5D3  38                 SEC 
00927  A5D4  E9 3A              SBC #$3A        ;':'
00928  A5D6  F0 04              BEQ XXA5DC
00929  A5D8  C9 49              CMP #$49        ; DATA CODE
00930  A5DA  D0 02              BNE XXA5DE
00931  A5DC  85 0F       XXA5DC STA GARBFL
00932  A5DE  38          XXA5DE SEC 
00933  A5DF  E9 55              SBC #$55        ; REM CODE
00934  A5E1  D0 9F              BNE XXA582
00935  A5E3  85 08              STA ENDCHR
00936  A5E5  BD 00 02    XXA5E5 LDA BUF,X
00937  A5E8  F0 DF              BEQ XXA5C9
00938  A5EA  C5 08              CMP ENDCHR
00939  A5EC  F0 DB              BEQ XXA5C9
00940  A5EE  C8          XXA5EE INY 
00941  A5EF  99 FB 01           STA $01FB,Y
00942  A5F2  E8                 INX 
00943  A5F3  D0 F0              BNE XXA5E5
00944  A5F5  A6 7A       XXA5F5 LDX TXTPTR
00945  A5F7  E6 0B              INC COUNT
00946  A5F9  C8          XXA5F9 INY 
00947  A5FA  B9 9D A0           LDA XXA09E-1,Y
00948  A5FD  10 FA              BPL XXA5F9
00949  A5FF  B9 9E A0           LDA XXA09E,Y
00950  A602  D0 B4              BNE XXA5B8
00951  A604  BD 00 02           LDA BUF,X
00952  A607  10 BE              BPL XXA5C7
00953  A609  99 FD 01    XXA609 STA $01FD,Y
00954  A60C  C6 7B              DEC TXTPTR+1
00955  A60E  A9 FF              LDA #$FF
00956  A610  85 7A              STA TXTPTR
00957  A612  60                 RTS 
00958  A613              ;********************************
00959  A613              ; SEARCH FOR A LINE IN A PROGRAM
00960  A613              ;********************************
00961  A613  A5 2B       XXA613 LDA TXTTAB
00962  A615  A6 2C              LDX TXTTAB+1
00963  A617  A0 01       XXA617 LDY #$01
00964  A619  85 5F              STA $5F
00965  A61B  86 60              STX $60
00966  A61D  B1 5F              LDA ($5F),Y
00967  A61F  F0 1F              BEQ XXA640
00968  A621  C8                 INY 
00969  A622  C8                 INY 
00970  A623  A5 15              LDA LINNUM+1
00971  A625  D1 5F              CMP ($5F),Y
00972  A627  90 18              BCC XXA641
00973  A629  F0 03              BEQ XXA62E
00974  A62B  88                 DEY 
00975  A62C  D0 09              BNE XXA637
00976  A62E  A5 14       XXA62E LDA LINNUM






BASICV2A.ASM......PAGE 0022

LINE# LOC   CODE        LINE


00977  A630  88                 DEY 
00978  A631  D1 5F              CMP ($5F),Y
00979  A633  90 0C              BCC XXA641
00980  A635  F0 0A              BEQ XXA641
00981  A637  88          XXA637 DEY 
00982  A638  B1 5F              LDA ($5F),Y
00983  A63A  AA                 TAX 
00984  A63B  88                 DEY 
00985  A63C  B1 5F              LDA ($5F),Y
00986  A63E  B0 D7              BCS XXA617
00987  A640  18          XXA640 CLC 
00988  A641  60          XXA641 RTS 
00989  A642              ;********************************
00990  A642              ; NEW COMMAND
00991  A642              ;********************************
00992  A642  D0 FD       ZZA642 BNE XXA641
00993  A644  A9 00       KKA644 LDA #$00
00994  A646  A8                 TAY 
00995  A647  91 2B              STA (TXTTAB),Y
00996  A649  C8                 INY 
00997  A64A  91 2B              STA (TXTTAB),Y
00998  A64C  A5 2B              LDA TXTTAB
00999  A64E  18                 CLC 
01000  A64F  69 02              ADC #$02
01001  A651  85 2D              STA VARTAB
01002  A653  A5 2C              LDA TXTTAB+1
01003  A655  69 00              ADC #$00
01004  A657  85 2E              STA VARTAB+1
01005  A659  20 8E A6    XXA659 JSR XXA68E
01006  A65C  A9 00              LDA #$00
01007  A65E              ;********************************
01008  A65E              ; CLR COMMAND
01009  A65E              ;********************************
01010  A65E  D0 2D       ZZA65E BNE XXA68D
01011  A660  20 E7 FF    XXA660 JSR CLALL
01012  A663  A5 37       KKA663 LDA MEMSIZ
01013  A665  A4 38              LDY MEMSIZ+1
01014  A667  85 33              STA FRETOP
01015  A669  84 34              STY FRETOP+1
01016  A66B  A5 2D              LDA VARTAB
01017  A66D  A4 2E              LDY VARTAB+1
01018  A66F  85 2F              STA ARYTAB
01019  A671  84 30              STY ARYTAB+1
01020  A673  85 31              STA STREND
01021  A675  84 32              STY STREND+1
01022  A677  20 1D A8    KKA677 JSR XXA81D
01023  A67A              ;********************************
01024  A67A              ; RESET STACK AND PROGRAM POINTERS
01025  A67A              ;********************************
01026  A67A  A2 19       XXA67A LDX #$19
01027  A67C  86 16              STX TEMPPT
01028  A67E  68                 PLA 
01029  A67F  A8                 TAY 
01030  A680  68                 PLA 
01031  A681  A2 FA              LDX #$FA






BASICV2A.ASM......PAGE 0023

LINE# LOC   CODE        LINE


01032  A683  9A                 TXS 
01033  A684  48                 PHA 
01034  A685  98                 TYA 
01035  A686  48                 PHA 
01036  A687  A9 00              LDA #$00
01037  A689  85 3E              STA OLDTXT+1
01038  A68B  85 10              STA SUBFLG
01039  A68D  60          XXA68D RTS 
01040  A68E              ;********************************
01041  A68E              ; SET CURRENT CHARACTER POINTER TO START OF BASIC
 - 1
01042  A68E              ;********************************
01043  A68E  18          XXA68E CLC 
01044  A68F  A5 2B              LDA TXTTAB
01045  A691  69 FF              ADC #$FF
01046  A693  85 7A              STA TXTPTR
01047  A695  A5 2C              LDA TXTTAB+1
01048  A697  69 FF              ADC #$FF
01049  A699  85 7B              STA TXTPTR+1
01050  A69B  60          XXA69B RTS 
01051  A69C              ;********************************
01052  A69C              ; LIST COMMAND
01053  A69C              ;********************************
01054  A69C  90 06       ZZA69C BCC XXA6A4
01055  A69E  F0 04              BEQ XXA6A4
01056  A6A0  C9 AB              CMP #$AB
01057  A6A2  D0 E9              BNE XXA68D
01058  A6A4  20 6B A9    XXA6A4 JSR XXA96B
01059  A6A7  20 13 A6           JSR XXA613
01060  A6AA  20 79 00           JSR CHRGOT
01061  A6AD  F0 0C              BEQ XXA6BB
01062  A6AF  C9 AB              CMP #$AB
01063  A6B1  D0 8E              BNE XXA641
01064  A6B3  20 73 00           JSR CHRGET
01065  A6B6  20 6B A9           JSR XXA96B
01066  A6B9  D0 86              BNE XXA641
01067  A6BB  68          XXA6BB PLA 
01068  A6BC  68                 PLA 
01069  A6BD  A5 14              LDA LINNUM
01070  A6BF  05 15              ORA LINNUM+1
01071  A6C1  D0 06              BNE XXA6C9
01072  A6C3  A9 FF              LDA #$FF
01073  A6C5  85 14              STA LINNUM
01074  A6C7  85 15              STA LINNUM+1
01075  A6C9              ;********************************
01076  A6C9              ; LIST LINES FROM $5F/$60 TO LINNUM/LINNUM+1
01077  A6C9              ;********************************
01078  A6C9  A0 01       XXA6C9 LDY #$01
01079  A6CB  84 0F              STY GARBFL
01080  A6CD  B1 5F              LDA ($5F),Y
01081  A6CF  F0 43              BEQ XXA714
01082  A6D1  20 2C A8           JSR XXA82C
01083  A6D4  20 D7 AA           JSR XXAAD7
01084  A6D7  C8                 INY 
01085  A6D8  B1 5F              LDA ($5F),Y
01086  A6DA  AA                 TAX 






BASICV2A.ASM......PAGE 0024

LINE# LOC   CODE        LINE


01087  A6DB  C8                 INY 
01088  A6DC  B1 5F              LDA ($5F),Y
01089  A6DE  C5 15              CMP LINNUM+1
01090  A6E0  D0 04              BNE XXA6E6
01091  A6E2  E4 14              CPX LINNUM
01092  A6E4  F0 02              BEQ XXA6E8
01093  A6E6  B0 2C       XXA6E6 BCS XXA714
01094  A6E8  84 49       XXA6E8 STY FORPNT
01095  A6EA  20 CD BD           JSR XXBDCD
01096  A6ED  A9 20              LDA #$20        ;' '
01097  A6EF  A4 49       XXA6EF LDY FORPNT
01098  A6F1  29 7F              AND #$7F
01099  A6F3  20 47 AB    XXA6F3 JSR XXAB47
01100  A6F6  C9 22              CMP #$22        ;'"'
01101  A6F8  D0 06              BNE XXA700
01102  A6FA  A5 0F              LDA GARBFL
01103  A6FC  49 FF              EOR #$FF
01104  A6FE  85 0F              STA GARBFL
01105  A700  C8          XXA700 INY 
01106  A701  F0 11              BEQ XXA714
01107  A703  B1 5F              LDA ($5F),Y
01108  A705  D0 10              BNE XXA717
01109  A707  A8                 TAY 
01110  A708  B1 5F              LDA ($5F),Y
01111  A70A  AA                 TAX 
01112  A70B  C8                 INY 
01113  A70C  B1 5F              LDA ($5F),Y
01114  A70E  86 5F              STX $5F
01115  A710  85 60              STA $60
01116  A712  D0 B5              BNE XXA6C9
01117  A714  4C 86 E3    XXA714 JMP $E386
01118  A717              ;********************************
01119  A717              ; PRINT TOKENS ROUTINE
01120  A717              ;********************************
01121  A717  6C 06 03    XXA717 JMP (IQPLOP)    ; NORMALLY A71A
01122  A71A              ;********************************
01123  A71A              ; STANDARD TOKEN PRINTER
01124  A71A              ;********************************
01125  A71A  10 D7       ZZA71A BPL XXA6F3
01126  A71C  C9 FF              CMP #$FF
01127  A71E  F0 D3              BEQ XXA6F3
01128  A720  24 0F              BIT GARBFL
01129  A722  30 CF              BMI XXA6F3
01130  A724  38                 SEC 
01131  A725  E9 7F              SBC #$7F
01132  A727  AA                 TAX 
01133  A728  84 49              STY FORPNT
01134  A72A  A0 FF              LDY #$FF
01135  A72C  CA          XXA72C DEX 
01136  A72D  F0 08              BEQ XXA737
01137  A72F  C8          XXA72F INY 
01138  A730  B9 9E A0           LDA XXA09E,Y
01139  A733  10 FA              BPL XXA72F
01140  A735  30 F5              BMI XXA72C
01141  A737              ;********************************






BASICV2A.ASM......PAGE 0025

LINE# LOC   CODE        LINE


01142  A737              ; PRINT KEYWORD
01143  A737              ;********************************
01144  A737  C8          XXA737 INY 
01145  A738  B9 9E A0           LDA XXA09E,Y
01146  A73B  30 B2              BMI XXA6EF
01147  A73D  20 47 AB           JSR XXAB47
01148  A740  D0 F5              BNE XXA737
01149  A742              ;********************************
01150  A742              ; FOR COMMAND
01151  A742              ;********************************
01152  A742  A9 80       ZZA742 LDA #$80
01153  A744  85 10              STA SUBFLG
01154  A746  20 A5 A9           JSR XXA9A5
01155  A749  20 8A A3           JSR XXA38A
01156  A74C  D0 05              BNE XXA753
01157  A74E  8A                 TXA 
01158  A74F  69 0F              ADC #$0F
01159  A751  AA                 TAX 
01160  A752  9A                 TXS 
01161  A753  68          XXA753 PLA 
01162  A754  68                 PLA 
01163  A755  A9 09              LDA #$09
01164  A757  20 FB A3           JSR XXA3FB
01165  A75A  20 06 A9           JSR XXA906
01166  A75D  18                 CLC 
01167  A75E  98                 TYA 
01168  A75F  65 7A              ADC TXTPTR
01169  A761  48                 PHA 
01170  A762  A5 7B              LDA TXTPTR+1
01171  A764  69 00              ADC #$00
01172  A766  48                 PHA 
01173  A767  A5 3A              LDA CURLIN+1
01174  A769  48                 PHA 
01175  A76A  A5 39              LDA CURLIN
01176  A76C  48                 PHA 
01177  A76D  A9 A4              LDA #$A4
01178  A76F  20 FF AE           JSR XXAEFF
01179  A772  20 8D AD           JSR XXAD8D
01180  A775  20 8A AD           JSR XXAD8A
01181  A778  A5 66              LDA $66
01182  A77A  09 7F              ORA #$7F
01183  A77C  25 62              AND $62
01184  A77E  85 62              STA $62
01185  A780  A9 8B              LDA #$8B        ; LOW  A78B
01186  A782  A0 A7              LDY #$A7        ; HIGH A78B
01187  A784  85 22              STA INDEX
01188  A786  84 23              STY INDEX+1
01189  A788  4C 43 AE           JMP XXAE43
01190  A78B              ;********************************
01191  A78B              ;
01192  A78B              ;********************************
01193  A78B  A9 BC       ZZA78B LDA #$BC        ; LOW  B9BC
01194  A78D  A0 B9              LDY #$B9        ; HIGH B9BC
01195  A78F  20 A2 BB           JSR XXBBA2
01196  A792  20 79 00           JSR CHRGOT






BASICV2A.ASM......PAGE 0026

LINE# LOC   CODE        LINE


01197  A795  C9 A9              CMP #$A9
01198  A797  D0 06              BNE XXA79F
01199  A799  20 73 00           JSR CHRGET
01200  A79C  20 8A AD           JSR XXAD8A
01201  A79F  20 2B BC    XXA79F JSR XXBC2B
01202  A7A2  20 38 AE           JSR XXAE38
01203  A7A5  A5 4A              LDA FORPNT+1
01204  A7A7  48                 PHA 
01205  A7A8  A5 49              LDA FORPNT
01206  A7AA  48                 PHA 
01207  A7AB  A9 81              LDA #$81        ; FOR BLOCK CODE
01208  A7AD  48                 PHA 
01209  A7AE              ;********************************
01210  A7AE              ; EXECUTE NEXT STATEMENT
01211  A7AE              ;********************************
01212  A7AE  20 2C A8    XXA7AE JSR XXA82C
01213  A7B1  A5 7A              LDA TXTPTR
01214  A7B3  A4 7B              LDY TXTPTR+1
01215  A7B5  C0 02              CPY #$02
01216  A7B7  EA                 NOP 
01217  A7B8  F0 04              BEQ XXA7BE
01218  A7BA  85 3D              STA OLDTXT
01219  A7BC  84 3E              STY OLDTXT+1
01220  A7BE  A0 00       XXA7BE LDY #$00
01221  A7C0  B1 7A              LDA (TXTPTR),Y
01222  A7C2  D0 43              BNE XXA807
01223  A7C4  A0 02              LDY #$02
01224  A7C6  B1 7A              LDA (TXTPTR),Y
01225  A7C8  18                 CLC 
01226  A7C9  D0 03              BNE XXA7CE
01227  A7CB  4C 4B A8           JMP XXA84B
01228  A7CE              ;********************************
01229  A7CE              ;
01230  A7CE              ;********************************
01231  A7CE  C8          XXA7CE INY 
01232  A7CF  B1 7A              LDA (TXTPTR),Y
01233  A7D1  85 39              STA CURLIN
01234  A7D3  C8                 INY 
01235  A7D4  B1 7A              LDA (TXTPTR),Y
01236  A7D6  85 3A              STA CURLIN+1
01237  A7D8  98                 TYA 
01238  A7D9  65 7A              ADC TXTPTR
01239  A7DB  85 7A              STA TXTPTR
01240  A7DD  90 02              BCC XXA7E1
01241  A7DF  E6 7B              INC TXTPTR+1
01242  A7E1  6C 08 03    XXA7E1 JMP (IGONE)     ; NORMALLY A7E4
01243  A7E4              ;********************************
01244  A7E4              ; EXECUTE A STATEMENT
01245  A7E4              ;********************************
01246  A7E4  20 73 00    KKA7E4 JSR CHRGET
01247  A7E7  20 ED A7           JSR XXA7ED
01248  A7EA  4C AE A7           JMP XXA7AE
01249  A7ED              ;********************************
01250  A7ED              ; EXECUTE COMMAND IN A
01251  A7ED              ;********************************






BASICV2A.ASM......PAGE 0027

LINE# LOC   CODE        LINE


01252  A7ED  F0 3C       XXA7ED BEQ XXA82B
01253  A7EF  E9 80       XXA7EF SBC #$80
01254  A7F1  90 11              BCC XXA804
01255  A7F3  C9 23              CMP #$23        ;'#'
01256  A7F5  B0 17              BCS XXA80E
01257  A7F7  0A                 ASL A
01258  A7F8  A8                 TAY 
01259  A7F9  B9 0D A0           LDA ZZA00C+1,Y
01260  A7FC  48                 PHA 
01261  A7FD  B9 0C A0           LDA ZZA00C,Y
01262  A800  48                 PHA 
01263  A801  4C 73 00           JMP CHRGET
01264  A804              ;********************************
01265  A804              ;
01266  A804              ;********************************
01267  A804  4C A5 A9    XXA804 JMP XXA9A5
01268  A807              ;********************************
01269  A807  C9 3A       XXA807 CMP #$3A        ;':'
01270  A809  F0 D6              BEQ XXA7E1
01271  A80B  4C 08 AF    XXA80B JMP XXAF08
01272  A80E              ;********************************
01273  A80E              ;
01274  A80E              ;********************************
01275  A80E  C9 4B       XXA80E CMP #$4B        ; GO CODE
01276  A810  D0 F9              BNE XXA80B
01277  A812  20 73 00           JSR CHRGET
01278  A815  A9 A4              LDA #$A4        ; TO CODE
01279  A817  20 FF AE           JSR XXAEFF
01280  A81A  4C A0 A8           JMP XXA8A0      ; DO GOTO
01281  A81D              ;********************************
01282  A81D              ; RESTORE COMMAND
01283  A81D              ;********************************
01284  A81D  38          XXA81D SEC 
01285  A81E  A5 2B              LDA TXTTAB
01286  A820  E9 01              SBC #$01
01287  A822  A4 2C              LDY TXTTAB+1
01288  A824  B0 01              BCS XXA827
01289  A826  88                 DEY 
01290  A827  85 41       XXA827 STA DATPRT
01291  A829  84 42              STY DATPRT+1
01292  A82B  60          XXA82B RTS 
01293  A82C              ;********************************
01294  A82C              ; STOP COMMAND
01295  A82C              ;********************************
01296  A82C  20 E1 FF    XXA82C JSR STOP        ; TEST STOP KEY
01297  A82F              ;********************************
01298  A82F              ; STOP COMMAND
01299  A82F              ;********************************
01300  A82F  B0 01       ZZA82F BCS XXA832
01301  A831  18          ZZA831 CLC
01302  A832              ;********************************
01303  A832              ; END COMMAND
01304  A832              ;********************************
01305  A832  D0 3C       XXA832 BNE XXA870
01306  A834  A5 7A              LDA TXTPTR






BASICV2A.ASM......PAGE 0028

LINE# LOC   CODE        LINE


01307  A836  A4 7B              LDY TXTPTR+1
01308  A838  A6 3A              LDX CURLIN+1
01309  A83A  E8                 INX 
01310  A83B  F0 0C              BEQ XXA849
01311  A83D  85 3D              STA OLDTXT
01312  A83F  84 3E              STY OLDTXT+1
01313  A841  A5 39              LDA CURLIN
01314  A843  A4 3A              LDY CURLIN+1
01315  A845  85 3B              STA OLDLIN
01316  A847  84 3C              STY OLDLIN+1
01317  A849  68          XXA849 PLA 
01318  A84A  68                 PLA 
01319  A84B  A9 81       XXA84B LDA #<WWA381    ;#$81   ; LOW  A381
01320  A84D  A0 A3              LDY #>WWA381    ;#$A3   ; HIGH A381
01321  A84F  90 03              BCC XXA854
01322  A851  4C 69 A4           JMP XXA469
01323  A854              ;********************************
01324  A854              ;
01325  A854              ;********************************
01326  A854  4C 86 E3    XXA854 JMP $E386
01327  A857              ;********************************
01328  A857              ; CONT COMMAND
01329  A857              ;********************************
01330  A857  D0 17       ZZA857 BNE XXA870
01331  A859  A2 1A              LDX #$1A        ; ERROR NUMBER
01332  A85B  A4 3E              LDY OLDTXT+1
01333  A85D  D0 03              BNE XXA862
01334  A85F  4C 37 A4           JMP XXA437
01335  A862              ;********************************
01336  A862              ;
01337  A862              ;********************************
01338  A862  A5 3D       XXA862 LDA OLDTXT
01339  A864  85 7A              STA TXTPTR
01340  A866  84 7B              STY TXTPTR+1
01341  A868  A5 3B              LDA OLDLIN
01342  A86A  A4 3C              LDY OLDLIN+1
01343  A86C  85 39              STA CURLIN
01344  A86E  84 3A              STY CURLIN+1
01345  A870  60          XXA870 RTS 
01346  A871              ;********************************
01347  A871              ; RUN COMMAND
01348  A871              ;********************************
01349  A871  08          ZZA871 PHP 
01350  A872  A9 00              LDA #$00
01351  A874  20 90 FF           JSR SETMSG
01352  A877  28                 PLP 
01353  A878  D0 03              BNE XXA87D
01354  A87A  4C 59 A6           JMP XXA659
01355  A87D              ;********************************
01356  A87D              ;
01357  A87D              ;********************************
01358  A87D  20 60 A6    XXA87D JSR XXA660      ; DO CLR
01359  A880  4C 97 A8           JMP XXA897      ; DO GOTO
01360  A883              ;********************************
01361  A883              ; GOSUB COMMAND






BASICV2A.ASM......PAGE 0029

LINE# LOC   CODE        LINE


01362  A883              ;********************************
01363  A883  A9 03       ZZA883 LDA #$03
01364  A885  20 FB A3           JSR XXA3FB
01365  A888  A5 7B              LDA TXTPTR+1
01366  A88A  48                 PHA 
01367  A88B  A5 7A              LDA TXTPTR
01368  A88D  48                 PHA 
01369  A88E  A5 3A              LDA CURLIN+1
01370  A890  48                 PHA 
01371  A891  A5 39              LDA CURLIN
01372  A893  48                 PHA 
01373  A894  A9 8D              LDA #$8D
01374  A896  48                 PHA 
01375  A897  20 79 00    XXA897 JSR CHRGOT
01376  A89A  20 A0 A8           JSR XXA8A0
01377  A89D  4C AE A7           JMP XXA7AE
01378  A8A0              ;********************************
01379  A8A0              ;
01380  A8A0              ;********************************
01381  A8A0  20 6B A9    XXA8A0 JSR XXA96B
01382  A8A3  20 09 A9           JSR XXA909
01383  A8A6  38                 SEC 
01384  A8A7  A5 39              LDA CURLIN
01385  A8A9  E5 14              SBC LINNUM
01386  A8AB  A5 3A              LDA CURLIN+1
01387  A8AD  E5 15              SBC LINNUM+1
01388  A8AF  B0 0B              BCS XXA8BC
01389  A8B1  98                 TYA 
01390  A8B2  38                 SEC 
01391  A8B3  65 7A              ADC TXTPTR
01392  A8B5  A6 7B              LDX TXTPTR+1
01393  A8B7  90 07              BCC XXA8C0
01394  A8B9  E8                 INX 
01395  A8BA  B0 04              BCS XXA8C0
01396  A8BC  A5 2B       XXA8BC LDA TXTTAB
01397  A8BE  A6 2C              LDX TXTTAB+1
01398  A8C0  20 17 A6    XXA8C0 JSR XXA617
01399  A8C3  90 1E              BCC XXA8E3
01400  A8C5  A5 5F              LDA $5F
01401  A8C7  E9 01              SBC #$01
01402  A8C9  85 7A              STA TXTPTR
01403  A8CB  A5 60              LDA $60
01404  A8CD  E9 00              SBC #$00
01405  A8CF  85 7B              STA TXTPTR+1
01406  A8D1  60          XXA8D1 RTS 
01407  A8D2              ;********************************
01408  A8D2              ;
01409  A8D2              ;********************************
01410  A8D2  D0 FD       ZZA8D2 BNE XXA8D1
01411  A8D4  A9 FF              LDA #$FF
01412  A8D6  85 4A              STA FORPNT+1
01413  A8D8  20 8A A3           JSR XXA38A
01414  A8DB  9A                 TXS 
01415  A8DC  C9 8D              CMP #$8D
01416  A8DE  F0 0B              BEQ XXA8EB






BASICV2A.ASM......PAGE 0030

LINE# LOC   CODE        LINE


01417  A8E0  A2 0C              LDX #$0C
01418  A8E2              ;********************************
01419  A8E2  2C                 .BYTE $2C
01420  A8E3              ;********************************
01421  A8E3  A2 11       XXA8E3 LDX #$11
01422  A8E5  4C 37 A4           JMP XXA437
01423  A8E8              ;********************************
01424  A8E8              ;
01425  A8E8              ;********************************
01426  A8E8  4C 08 AF    XXA8E8 JMP XXAF08
01427  A8EB              ;********************************
01428  A8EB              ;
01429  A8EB              ;********************************
01430  A8EB  68          XXA8EB PLA 
01431  A8EC  68                 PLA 
01432  A8ED  85 39              STA CURLIN
01433  A8EF  68                 PLA 
01434  A8F0  85 3A              STA CURLIN+1
01435  A8F2  68                 PLA 
01436  A8F3  85 7A              STA TXTPTR
01437  A8F5  68                 PLA 
01438  A8F6  85 7B              STA TXTPTR+1
01439  A8F8              ;********************************
01440  A8F8              ; DATA
01441  A8F8              ;********************************
01442  A8F8  20 06 A9    XXA8F8 JSR XXA906
01443  A8FB  98          XXA8FB TYA 
01444  A8FC  18                 CLC 
01445  A8FD  65 7A              ADC TXTPTR
01446  A8FF  85 7A              STA TXTPTR
01447  A901  90 02              BCC XXA905
01448  A903  E6 7B              INC TXTPTR+1
01449  A905  60          XXA905 RTS 
01450  A906              ;********************************
01451  A906              ;
01452  A906              ;********************************
01453  A906  A2 3A       XXA906 LDX #$3A        ;':'
01454  A908              ;********************************
01455  A908  2C                 .BYTE $2C
01456  A909              ;********************************
01457  A909  A2 00       XXA909 LDX #$00
01458  A90B  86 07              STX CHARAC
01459  A90D  A0 00              LDY #$00
01460  A90F  84 08              STY ENDCHR
01461  A911  A5 08       XXA911 LDA ENDCHR
01462  A913  A6 07              LDX CHARAC
01463  A915  85 07              STA CHARAC
01464  A917  86 08              STX ENDCHR
01465  A919  B1 7A       XXA919 LDA (TXTPTR),Y
01466  A91B  F0 E8              BEQ XXA905
01467  A91D  C5 08              CMP ENDCHR
01468  A91F  F0 E4              BEQ XXA905
01469  A921  C8                 INY 
01470  A922  C9 22              CMP #$22        ;'"'
01471  A924  D0 F3              BNE XXA919






BASICV2A.ASM......PAGE 0031

LINE# LOC   CODE        LINE


01472  A926  F0 E9              BEQ XXA911
01473  A928              ;********************************
01474  A928              ;
01475  A928              ;********************************
01476  A928  20 9E AD    ZZA928 JSR XXAD9E
01477  A92B  20 79 00           JSR CHRGOT
01478  A92E  C9 89              CMP #$89
01479  A930  F0 05              BEQ XXA937
01480  A932  A9 A7              LDA #$A7
01481  A934  20 FF AE           JSR XXAEFF
01482  A937  A5 61       XXA937 LDA $61
01483  A939  D0 05              BNE XXA940
01484  A93B              ;********************************
01485  A93B              ;
01486  A93B              ;********************************
01487  A93B  20 09 A9    ZZA93B JSR XXA909
01488  A93E  F0 BB              BEQ XXA8FB
01489  A940  20 79 00    XXA940 JSR CHRGOT
01490  A943  B0 03              BCS XXA948
01491  A945  4C A0 A8           JMP XXA8A0
01492  A948              ;********************************
01493  A948              ;
01494  A948              ;********************************
01495  A948  4C ED A7    XXA948 JMP XXA7ED
01496  A94B              ;********************************
01497  A94B              ;
01498  A94B              ;********************************
01499  A94B  20 9E B7    ZZA94B JSR XXB79E
01500  A94E  48                 PHA 
01501  A94F  C9 8D              CMP #$8D
01502  A951  F0 04              BEQ XXA957
01503  A953  C9 89       XXA953 CMP #$89
01504  A955  D0 91              BNE XXA8E8
01505  A957  C6 65       XXA957 DEC $65
01506  A959  D0 04              BNE XXA95F
01507  A95B  68                 PLA 
01508  A95C  4C EF A7           JMP XXA7EF
01509  A95F              ;********************************
01510  A95F              ;
01511  A95F              ;********************************
01512  A95F  20 73 00    XXA95F JSR CHRGET
01513  A962  20 6B A9           JSR XXA96B
01514  A965  C9 2C              CMP #$2C        ;','
01515  A967  F0 EE              BEQ XXA957
01516  A969  68                 PLA 
01517  A96A  60          XXA96A RTS 
01518  A96B              ;********************************
01519  A96B              ;
01520  A96B              ;********************************
01521  A96B  A2 00       XXA96B LDX #$00
01522  A96D  86 14              STX LINNUM
01523  A96F  86 15              STX LINNUM+1
01524  A971  B0 F7       XXA971 BCS XXA96A
01525  A973  E9 2F              SBC #$2F        ;'/'
01526  A975  85 07              STA CHARAC






BASICV2A.ASM......PAGE 0032

LINE# LOC   CODE        LINE


01527  A977  A5 15              LDA LINNUM+1
01528  A979  85 22              STA INDEX
01529  A97B  C9 19              CMP #$19
01530  A97D  B0 D4              BCS XXA953
01531  A97F  A5 14              LDA LINNUM
01532  A981  0A                 ASL A
01533  A982  26 22              ROL INDEX
01534  A984  0A                 ASL A
01535  A985  26 22              ROL INDEX
01536  A987  65 14              ADC LINNUM
01537  A989  85 14              STA LINNUM
01538  A98B  A5 22              LDA INDEX
01539  A98D  65 15              ADC LINNUM+1
01540  A98F  85 15              STA LINNUM+1
01541  A991  06 14              ASL LINNUM
01542  A993  26 15              ROL LINNUM+1
01543  A995  A5 14              LDA LINNUM
01544  A997  65 07              ADC CHARAC
01545  A999  85 14              STA LINNUM
01546  A99B  90 02              BCC XXA99F
01547  A99D  E6 15              INC LINNUM+1
01548  A99F  20 73 00    XXA99F JSR CHRGET
01549  A9A2  4C 71 A9           JMP XXA971
01550  A9A5              ;********************************
01551  A9A5              ;
01552  A9A5              ;********************************
01553  A9A5  20 8B B0    XXA9A5 JSR XXB08B
01554  A9A8  85 49              STA FORPNT
01555  A9AA  84 4A              STY FORPNT+1
01556  A9AC  A9 B2              LDA #$B2
01557  A9AE  20 FF AE           JSR XXAEFF
01558  A9B1  A5 0E              LDA INTFLG
01559  A9B3  48                 PHA 
01560  A9B4  A5 0D              LDA VALTYP
01561  A9B6  48                 PHA 
01562  A9B7  20 9E AD           JSR XXAD9E
01563  A9BA  68                 PLA 
01564  A9BB  2A                 ROL A
01565  A9BC  20 90 AD           JSR XXAD90
01566  A9BF  D0 18              BNE XXA9D9
01567  A9C1  68                 PLA 
01568  A9C2  10 12       XXA9C2 BPL XXA9D6
01569  A9C4  20 1B BC           JSR XXBC1B
01570  A9C7  20 BF B1           JSR XXB1BF
01571  A9CA  A0 00              LDY #$00
01572  A9CC  A5 64              LDA $64
01573  A9CE  91 49              STA (FORPNT),Y
01574  A9D0  C8                 INY 
01575  A9D1  A5 65              LDA $65
01576  A9D3  91 49              STA (FORPNT),Y
01577  A9D5  60                 RTS 
01578  A9D6              ;********************************
01579  A9D6              ;
01580  A9D6              ;********************************
01581  A9D6  4C D0 BB    XXA9D6 JMP XXBBD0






BASICV2A.ASM......PAGE 0033

LINE# LOC   CODE        LINE


01582  A9D9              ;********************************
01583  A9D9              ;
01584  A9D9              ;********************************
01585  A9D9  68          XXA9D9 PLA 
01586  A9DA  A4 4A       XXA9DA LDY FORPNT+1
01587  A9DC  C0 BF              CPY #$BF
01588  A9DE  D0 4C              BNE XXAA2C
01589  A9E0  20 A6 B6           JSR XXB6A6
01590  A9E3  C9 06              CMP #$06
01591  A9E5  D0 3D              BNE XXAA24
01592  A9E7  A0 00              LDY #$00
01593  A9E9  84 61              STY $61
01594  A9EB  84 66              STY $66
01595  A9ED  84 71       XXA9ED STY $71
01596  A9EF  20 1D AA           JSR XXAA1D
01597  A9F2  20 E2 BA           JSR XXBAE2
01598  A9F5  E6 71              INC $71
01599  A9F7  A4 71              LDY $71
01600  A9F9  20 1D AA           JSR XXAA1D
01601  A9FC  20 0C BC           JSR XXBC0C
01602  A9FF  AA                 TAX 
01603  AA00  F0 05              BEQ XXAA07
01604  AA02  E8                 INX 
01605  AA03  8A                 TXA 
01606  AA04  20 ED BA           JSR XXBAED
01607  AA07  A4 71       XXAA07 LDY $71
01608  AA09  C8                 INY 
01609  AA0A  C0 06              CPY #$06
01610  AA0C  D0 DF              BNE XXA9ED
01611  AA0E  20 E2 BA           JSR XXBAE2
01612  AA11  20 9B BC           JSR XXBC9B
01613  AA14  A6 64              LDX $64
01614  AA16  A4 63              LDY $63
01615  AA18  A5 65              LDA $65
01616  AA1A  4C DB FF           JMP $FFDB
01617  AA1D              ;********************************
01618  AA1D              ;
01619  AA1D              ;********************************
01620  AA1D  B1 22       XXAA1D LDA (INDEX),Y
01621  AA1F  20 80 00           JSR POINTB+4    ;$0080
01622  AA22  90 03              BCC XXAA27
01623  AA24  4C 48 B2    XXAA24 JMP XXB248
01624  AA27              ;********************************
01625  AA27              ;
01626  AA27              ;********************************
01627  AA27  E9 2F       XXAA27 SBC #$2F        ;'/'
01628  AA29  4C 7E BD           JMP XXBD7E
01629  AA2C              ;********************************
01630  AA2C              ;
01631  AA2C              ;********************************
01632  AA2C  A0 02       XXAA2C LDY #$02
01633  AA2E  B1 64              LDA ($64),Y
01634  AA30  C5 34              CMP FRETOP+1
01635  AA32  90 17              BCC XXAA4B
01636  AA34  D0 07              BNE XXAA3D






BASICV2A.ASM......PAGE 0034

LINE# LOC   CODE        LINE


01637  AA36  88                 DEY 
01638  AA37  B1 64              LDA ($64),Y
01639  AA39  C5 33              CMP FRETOP
01640  AA3B  90 0E              BCC XXAA4B
01641  AA3D  A4 65       XXAA3D LDY $65
01642  AA3F  C4 2E              CPY VARTAB+1
01643  AA41  90 08              BCC XXAA4B
01644  AA43  D0 0D              BNE XXAA52
01645  AA45  A5 64              LDA $64
01646  AA47  C5 2D              CMP VARTAB
01647  AA49  B0 07              BCS XXAA52
01648  AA4B  A5 64       XXAA4B LDA $64
01649  AA4D  A4 65              LDY $65
01650  AA4F  4C 68 AA           JMP XXAA68
01651  AA52              ;********************************
01652  AA52              ;
01653  AA52              ;********************************
01654  AA52  A0 00       XXAA52 LDY #$00
01655  AA54  B1 64              LDA ($64),Y
01656  AA56  20 75 B4           JSR XXB475
01657  AA59  A5 50              LDA DSCPNT
01658  AA5B  A4 51              LDY DSCPNT+1
01659  AA5D  85 6F              STA $6F
01660  AA5F  84 70              STY $70
01661  AA61  20 7A B6           JSR XXB67A
01662  AA64  A9 61              LDA #$61
01663  AA66  A0 00              LDY #$00
01664  AA68  85 50       XXAA68 STA DSCPNT
01665  AA6A  84 51              STY DSCPNT+1
01666  AA6C  20 DB B6           JSR XXB6DB
01667  AA6F  A0 00              LDY #$00
01668  AA71  B1 50              LDA (DSCPNT),Y
01669  AA73  91 49              STA (FORPNT),Y
01670  AA75  C8                 INY 
01671  AA76  B1 50              LDA (DSCPNT),Y
01672  AA78  91 49              STA (FORPNT),Y
01673  AA7A  C8                 INY 
01674  AA7B  B1 50              LDA (DSCPNT),Y
01675  AA7D  91 49              STA (FORPNT),Y
01676  AA7F  60          XXAA7F RTS 
01677  AA80              ;********************************
01678  AA80              ;
01679  AA80              ;********************************
01680  AA80  20 86 AA    ZZAA80 JSR XXAA86
01681  AA83  4C B5 AB           JMP XXABB5
01682  AA86              ;********************************
01683  AA86              ;
01684  AA86              ;********************************
01685  AA86  20 9E B7    XXAA86 JSR XXB79E
01686  AA89  F0 05              BEQ XXAA90
01687  AA8B  A9 2C              LDA #$2C        ;','
01688  AA8D  20 FF AE           JSR XXAEFF
01689  AA90  08          XXAA90 PHP 
01690  AA91  86 13              STX CHANNL
01691  AA93  20 18 E1           JSR KKE118






BASICV2A.ASM......PAGE 0035

LINE# LOC   CODE        LINE


01692  AA96  28                 PLP 
01693  AA97  4C A0 AA           JMP XXAAA0
01694  AA9A              ;********************************
01695  AA9A              ;
01696  AA9A              ;********************************
01697  AA9A  20 21 AB    XXAA9A JSR XXAB21
01698  AA9D  20 79 00    XXAA9D JSR CHRGOT
01699  AAA0  F0 35       XXAAA0 BEQ XXAAD7
01700  AAA2  F0 43       XXAAA2 BEQ XXAAE7
01701  AAA4  C9 A3              CMP #$A3
01702  AAA6  F0 50              BEQ XXAAF8
01703  AAA8  C9 A6              CMP #$A6
01704  AAAA  18                 CLC 
01705  AAAB  F0 4B              BEQ XXAAF8
01706  AAAD  C9 2C              CMP #$2C        ;','
01707  AAAF  F0 37              BEQ XXAAE8
01708  AAB1  C9 3B              CMP #$3B        ;';'
01709  AAB3  F0 5E              BEQ XXAB13
01710  AAB5  20 9E AD           JSR XXAD9E
01711  AAB8  24 0D              BIT VALTYP
01712  AABA  30 DE              BMI XXAA9A
01713  AABC  20 DD BD           JSR XXBDDD
01714  AABF  20 87 B4           JSR XXB487
01715  AAC2  20 21 AB           JSR XXAB21
01716  AAC5  20 3B AB           JSR XXAB3B
01717  AAC8  D0 D3              BNE XXAA9D
01718  AACA  A9 00       XXAACA LDA #$00
01719  AACC  9D 00 02           STA BUF,X
01720  AACF  A2 FF              LDX #$FF
01721  AAD1  A0 01              LDY #$01
01722  AAD3  A5 13              LDA CHANNL
01723  AAD5  D0 10              BNE XXAAE7
01724  AAD7  A9 0D       XXAAD7 LDA #$0D
01725  AAD9  20 47 AB           JSR XXAB47
01726  AADC  24 13              BIT CHANNL
01727  AADE  10 05              BPL XXAAE5
01728  AAE0  A9 0A              LDA #$0A
01729  AAE2  20 47 AB           JSR XXAB47
01730  AAE5  49 FF       XXAAE5 EOR #$FF
01731  AAE7  60          XXAAE7 RTS 
01732  AAE8              ;********************************
01733  AAE8              ;
01734  AAE8              ;********************************
01735  AAE8  38          XXAAE8 SEC 
01736  AAE9  20 F0 FF           JSR PLOT
01737  AAEC  98                 TYA 
01738  AAED  38                 SEC 
01739  AAEE  E9 0A       XXAAEE SBC #$0A
01740  AAF0  B0 FC              BCS XXAAEE
01741  AAF2  49 FF              EOR #$FF
01742  AAF4  69 01              ADC #$01
01743  AAF6  D0 16              BNE XXAB0E
01744  AAF8  08          XXAAF8 PHP 
01745  AAF9  38                 SEC 
01746  AAFA  20 F0 FF           JSR PLOT






BASICV2A.ASM......PAGE 0036

LINE# LOC   CODE        LINE


01747  AAFD  84 09              STY $09
01748  AAFF  20 9B B7           JSR XXB79B
01749  AB02  C9 29              CMP #$29        ;')'
01750  AB04  D0 59              BNE XXAB5F
01751  AB06  28                 PLP 
01752  AB07  90 06              BCC XXAB0F
01753  AB09  8A                 TXA 
01754  AB0A  E5 09              SBC $09
01755  AB0C  90 05              BCC XXAB13
01756  AB0E  AA          XXAB0E TAX 
01757  AB0F  E8          XXAB0F INX 
01758  AB10  CA          XXAB10 DEX 
01759  AB11  D0 06              BNE XXAB19
01760  AB13  20 73 00    XXAB13 JSR CHRGET
01761  AB16  4C A2 AA           JMP XXAAA2
01762  AB19              ;********************************
01763  AB19              ;
01764  AB19              ;********************************
01765  AB19  20 3B AB    XXAB19 JSR XXAB3B
01766  AB1C  D0 F2              BNE XXAB10
01767  AB1E  20 87 B4    XXAB1E JSR XXB487
01768  AB21  20 A6 B6    XXAB21 JSR XXB6A6
01769  AB24  AA                 TAX 
01770  AB25  A0 00              LDY #$00
01771  AB27  E8                 INX 
01772  AB28  CA          XXAB28 DEX 
01773  AB29  F0 BC              BEQ XXAAE7
01774  AB2B  B1 22              LDA (INDEX),Y
01775  AB2D  20 47 AB           JSR XXAB47
01776  AB30  C8                 INY 
01777  AB31  C9 0D              CMP #$0D
01778  AB33  D0 F3              BNE XXAB28
01779  AB35  20 E5 AA           JSR XXAAE5
01780  AB38  4C 28 AB           JMP XXAB28
01781  AB3B              ;********************************
01782  AB3B              ;
01783  AB3B              ;********************************
01784  AB3B  A5 13       XXAB3B LDA CHANNL
01785  AB3D  F0 03              BEQ XXAB42
01786  AB3F  A9 20              LDA #$20        ;' '
01787  AB41              ;********************************
01788  AB41  2C                 .BYTE $2C
01789  AB42              ;********************************
01790  AB42  A9 1D       XXAB42 LDA #$1D
01791  AB44              ;********************************
01792  AB44  2C                 .BYTE $2C
01793  AB45              ;********************************
01794  AB45  A9 3F       XXAB45 LDA #$3F        ;'?'
01795  AB47  20 0C E1    XXAB47 JSR $E10C
01796  AB4A  29 FF              AND #$FF
01797  AB4C  60                 RTS 
01798  AB4D              ;********************************
01799  AB4D              ;
01800  AB4D              ;********************************
01801  AB4D  A5 11       XXAB4D LDA INPFLG






BASICV2A.ASM......PAGE 0037

LINE# LOC   CODE        LINE


01802  AB4F  F0 11              BEQ XXAB62
01803  AB51  30 04              BMI XXAB57
01804  AB53  A0 FF              LDY #$FF
01805  AB55  D0 04              BNE XXAB5B
01806  AB57  A5 3F       XXAB57 LDA DATLIN
01807  AB59  A4 40              LDY DATLIN+1
01808  AB5B  85 39       XXAB5B STA CURLIN
01809  AB5D  84 3A              STY CURLIN+1
01810  AB5F  4C 08 AF    XXAB5F JMP XXAF08
01811  AB62              ;********************************
01812  AB62              ;
01813  AB62              ;********************************
01814  AB62  A5 13       XXAB62 LDA CHANNL
01815  AB64  F0 05              BEQ XXAB6B
01816  AB66  A2 18              LDX #$18
01817  AB68  4C 37 A4           JMP XXA437
01818  AB6B              ;********************************
01819  AB6B              ;
01820  AB6B              ;********************************
01821  AB6B  A9 0C       XXAB6B LDA #$0C
01822  AB6D  A0 AD              LDY #$AD
01823  AB6F  20 1E AB           JSR XXAB1E
01824  AB72  A5 3D              LDA OLDTXT
01825  AB74  A4 3E              LDY OLDTXT+1
01826  AB76  85 7A              STA TXTPTR
01827  AB78  84 7B              STY TXTPTR+1
01828  AB7A  60          XXAB7A RTS 
01829  AB7B              ;********************************
01830  AB7B              ;
01831  AB7B              ;********************************
01832  AB7B  20 A6 B3    XXAB7B JSR XXB3A6
01833  AB7E  C9 23              CMP #$23        ;'#'
01834  AB80  D0 10              BNE XXAB92
01835  AB82  20 73 00           JSR CHRGET
01836  AB85  20 9E B7           JSR XXB79E
01837  AB88  A9 2C              LDA #$2C        ;','
01838  AB8A  20 FF AE           JSR XXAEFF
01839  AB8D  86 13              STX CHANNL
01840  AB8F  20 1E E1           JSR KKE11E
01841  AB92  A2 01       XXAB92 LDX #$01
01842  AB94  A0 02              LDY #$02
01843  AB96  A9 00              LDA #$00
01844  AB98  8D 01 02           STA $0201
01845  AB9B  A9 40              LDA #$40        ;'@'
01846  AB9D  20 0F AC           JSR XXAC0F
01847  ABA0  A6 13              LDX CHANNL
01848  ABA2  D0 13              BNE XXABB7
01849  ABA4  60          XXABA4 RTS 
01850  ABA5              ;********************************
01851  ABA5              ; INPUT#
01852  ABA5              ;********************************
01853  ABA5  20 9E B7    ZZABA5 JSR XXB79E
01854  ABA8  A9 2C              LDA #$2C        ;','
01855  ABAA  20 FF AE           JSR XXAEFF
01856  ABAD  86 13              STX CHANNL






BASICV2A.ASM......PAGE 0038

LINE# LOC   CODE        LINE


01857  ABAF  20 1E E1           JSR KKE11E
01858  ABB2  20 CE AB           JSR XXABCE
01859  ABB5  A5 13       XXABB5 LDA CHANNL
01860  ABB7  20 CC FF    XXABB7 JSR CLRCHN
01861  ABBA  A2 00              LDX #$00
01862  ABBC  86 13              STX CHANNL
01863  ABBE  60          XXABBE RTS 
01864  ABBF              ;********************************
01865  ABBF              ; INPUT
01866  ABBF              ;********************************
01867  ABBF  C9 22       ZZABBF CMP #$22        ;'"'
01868  ABC1  D0 0B              BNE XXABCE
01869  ABC3  20 BD AE           JSR XXAEBD
01870  ABC6  A9 3B              LDA #$3B        ;';'
01871  ABC8  20 FF AE           JSR XXAEFF
01872  ABCB  20 21 AB           JSR XXAB21
01873  ABCE  20 A6 B3    XXABCE JSR XXB3A6
01874  ABD1  A9 2C              LDA #$2C        ;','
01875  ABD3  8D FF 01           STA $01FF
01876  ABD6  20 F9 AB    XXABD6 JSR XXABF9
01877  ABD9  A5 13              LDA CHANNL
01878  ABDB  F0 0D              BEQ XXABEA
01879  ABDD  20 B7 FF           JSR READST
01880  ABE0  29 02              AND #$02
01881  ABE2  F0 06              BEQ XXABEA
01882  ABE4  20 B5 AB           JSR XXABB5
01883  ABE7  4C F8 A8           JMP XXA8F8
01884  ABEA              ;********************************
01885  ABEA              ;
01886  ABEA              ;********************************
01887  ABEA  AD 00 02    XXABEA LDA BUF
01888  ABED  D0 1E              BNE XXAC0D
01889  ABEF  A5 13              LDA CHANNL
01890  ABF1  D0 E3              BNE XXABD6
01891  ABF3  20 06 A9           JSR XXA906
01892  ABF6  4C FB A8           JMP XXA8FB
01893  ABF9              ;********************************
01894  ABF9              ;
01895  ABF9              ;********************************
01896  ABF9  A5 13       XXABF9 LDA CHANNL
01897  ABFB  D0 06              BNE XXAC03
01898  ABFD  20 45 AB           JSR XXAB45
01899  AC00  20 3B AB           JSR XXAB3B
01900  AC03  4C 60 A5    XXAC03 JMP XXA560
01901  AC06              ;********************************
01902  AC06              ;
01903  AC06              ;********************************
01904  AC06  A6 41       ZZAC06 LDX DATPRT
01905  AC08  A4 42              LDY DATPRT+1
01906  AC0A  A9 98              LDA #$98
01907  AC0C              ;********************************
01908  AC0C  2C                 .BYTE $2C
01909  AC0D              ;********************************
01910  AC0D  A9 00       XXAC0D LDA #$00
01911  AC0F  85 11       XXAC0F STA INPFLG






BASICV2A.ASM......PAGE 0039

LINE# LOC   CODE        LINE


01912  AC11  86 43              STX INPPTR
01913  AC13  84 44              STY INPPTR+1
01914  AC15  20 8B B0    XXAC15 JSR XXB08B
01915  AC18  85 49              STA FORPNT
01916  AC1A  84 4A              STY FORPNT+1
01917  AC1C  A5 7A              LDA TXTPTR
01918  AC1E  A4 7B              LDY TXTPTR+1
01919  AC20  85 4B              STA OPPTR
01920  AC22  84 4C              STY OPPTR+1
01921  AC24  A6 43              LDX INPPTR
01922  AC26  A4 44              LDY INPPTR+1
01923  AC28  86 7A              STX TXTPTR
01924  AC2A  84 7B              STY TXTPTR+1
01925  AC2C  20 79 00           JSR CHRGOT
01926  AC2F  D0 20              BNE XXAC51
01927  AC31  24 11              BIT INPFLG
01928  AC33  50 0C              BVC XXAC41
01929  AC35  20 24 E1           JSR KKE124
01930  AC38  8D 00 02           STA BUF
01931  AC3B  A2 FF              LDX #$FF
01932  AC3D  A0 01              LDY #$01
01933  AC3F  D0 0C              BNE XXAC4D
01934  AC41  30 75       XXAC41 BMI XXACB8
01935  AC43  A5 13              LDA CHANNL
01936  AC45  D0 03              BNE XXAC4A
01937  AC47  20 45 AB           JSR XXAB45
01938  AC4A  20 F9 AB    XXAC4A JSR XXABF9
01939  AC4D  86 7A       XXAC4D STX TXTPTR
01940  AC4F  84 7B              STY TXTPTR+1
01941  AC51  20 73 00    XXAC51 JSR CHRGET
01942  AC54  24 0D              BIT VALTYP
01943  AC56  10 31              BPL XXAC89
01944  AC58  24 11              BIT INPFLG
01945  AC5A  50 09              BVC XXAC65
01946  AC5C  E8                 INX 
01947  AC5D  86 7A              STX TXTPTR
01948  AC5F  A9 00              LDA #$00
01949  AC61  85 07              STA CHARAC
01950  AC63  F0 0C              BEQ XXAC71
01951  AC65  85 07       XXAC65 STA CHARAC
01952  AC67  C9 22              CMP #$22        ;'"'
01953  AC69  F0 07              BEQ XXAC72
01954  AC6B  A9 3A              LDA #$3A        ;':'
01955  AC6D  85 07              STA CHARAC
01956  AC6F  A9 2C              LDA #$2C        ;','
01957  AC71  18          XXAC71 CLC 
01958  AC72  85 08       XXAC72 STA ENDCHR
01959  AC74  A5 7A              LDA TXTPTR
01960  AC76  A4 7B              LDY TXTPTR+1
01961  AC78  69 00              ADC #$00
01962  AC7A  90 01              BCC XXAC7D
01963  AC7C  C8                 INY 
01964  AC7D  20 8D B4    XXAC7D JSR XXB48D
01965  AC80  20 E2 B7           JSR XXB7E2
01966  AC83  20 DA A9           JSR XXA9DA






BASICV2A.ASM......PAGE 0040

LINE# LOC   CODE        LINE


01967  AC86  4C 91 AC           JMP XXAC91
01968  AC89              ;********************************
01969  AC89              ;
01970  AC89              ;********************************
01971  AC89  20 F3 BC    XXAC89 JSR XXBCF3
01972  AC8C  A5 0E              LDA INTFLG
01973  AC8E  20 C2 A9           JSR XXA9C2
01974  AC91  20 79 00    XXAC91 JSR CHRGOT
01975  AC94  F0 07              BEQ XXAC9D
01976  AC96  C9 2C              CMP #$2C        ;','
01977  AC98  F0 03              BEQ XXAC9D
01978  AC9A  4C 4D AB           JMP XXAB4D
01979  AC9D              ;********************************
01980  AC9D              ;
01981  AC9D              ;********************************
01982  AC9D  A5 7A       XXAC9D LDA TXTPTR
01983  AC9F  A4 7B              LDY TXTPTR+1
01984  ACA1  85 43              STA INPPTR
01985  ACA3  84 44              STY INPPTR+1
01986  ACA5  A5 4B              LDA OPPTR
01987  ACA7  A4 4C              LDY OPPTR+1
01988  ACA9  85 7A              STA TXTPTR
01989  ACAB  84 7B              STY TXTPTR+1
01990  ACAD  20 79 00           JSR CHRGOT
01991  ACB0  F0 2D              BEQ XXACDF
01992  ACB2  20 FD AE           JSR XXAEFD
01993  ACB5  4C 15 AC           JMP XXAC15
01994  ACB8              ;********************************
01995  ACB8              ;
01996  ACB8              ;********************************
01997  ACB8  20 06 A9    XXACB8 JSR XXA906
01998  ACBB  C8                 INY 
01999  ACBC  AA                 TAX 
02000  ACBD  D0 12              BNE XXACD1
02001  ACBF  A2 0D              LDX #$0D
02002  ACC1  C8                 INY 
02003  ACC2  B1 7A              LDA (TXTPTR),Y
02004  ACC4  F0 6C              BEQ XXAD32
02005  ACC6  C8                 INY 
02006  ACC7  B1 7A              LDA (TXTPTR),Y
02007  ACC9  85 3F              STA DATLIN
02008  ACCB  C8                 INY 
02009  ACCC  B1 7A              LDA (TXTPTR),Y
02010  ACCE  C8                 INY 
02011  ACCF  85 40              STA DATLIN+1
02012  ACD1  20 FB A8    XXACD1 JSR XXA8FB
02013  ACD4  20 79 00           JSR CHRGOT
02014  ACD7  AA                 TAX 
02015  ACD8  E0 83              CPX #$83
02016  ACDA  D0 DC              BNE XXACB8
02017  ACDC  4C 51 AC           JMP XXAC51
02018  ACDF              ;********************************
02019  ACDF              ;
02020  ACDF              ;********************************
02021  ACDF  A5 43       XXACDF LDA INPPTR






BASICV2A.ASM......PAGE 0041

LINE# LOC   CODE        LINE


02022  ACE1  A4 44              LDY INPPTR+1
02023  ACE3  A6 11              LDX INPFLG
02024  ACE5  10 03              BPL XXACEA
02025  ACE7  4C 27 A8           JMP XXA827
02026  ACEA              ;********************************
02027  ACEA              ;
02028  ACEA              ;********************************
02029  ACEA  A0 00       XXACEA LDY #$00
02030  ACEC  B1 43              LDA (INPPTR),Y
02031  ACEE  F0 0B              BEQ XXACFB
02032  ACF0  A5 13              LDA CHANNL
02033  ACF2  D0 07              BNE XXACFB
02034  ACF4  A9 FC              LDA #$FC
02035  ACF6  A0 AC              LDY #$AC
02036  ACF8  4C 1E AB           JMP XXAB1E
02037  ACFB              ;********************************
02038  ACFB              ;
02039  ACFB              ;********************************
02040  ACFB  60          XXACFB RTS 
02041  ACFC              ;********************************
02042  ACFC              ;
02043  ACFC              ;********************************
02044  ACFC  3F 45              .BYTE '?EXTRA IGNORED'
02045  AD0A  0D                 .BYTE $0D
02046  AD0B  00                 .BYTE $00
02047  AD0C  3F 52              .BYTE '?REDO FROM START'
02048  AD1C  0D                 .BYTE $0D
02049  AD1D  00          XXAD1D .BYTE $00
02050  AD1E              ;********************************
02051  AD1E              ;
02052  AD1E              ;********************************
02053  AD1E  D0 04       ZZAD1E BNE XXAD24
02054  AD20  A0 00              LDY #$00
02055  AD22  F0 03              BEQ XXAD27
02056  AD24  20 8B B0    XXAD24 JSR XXB08B
02057  AD27  85 49       XXAD27 STA FORPNT
02058  AD29  84 4A              STY FORPNT+1
02059  AD2B  20 8A A3           JSR XXA38A
02060  AD2E  F0 05              BEQ XXAD35
02061  AD30  A2 0A              LDX #$0A
02062  AD32  4C 37 A4    XXAD32 JMP XXA437
02063  AD35              ;********************************
02064  AD35              ;
02065  AD35              ;********************************
02066  AD35  9A          XXAD35 TXS 
02067  AD36  8A                 TXA 
02068  AD37  18                 CLC 
02069  AD38  69 04              ADC #$04
02070  AD3A  48                 PHA 
02071  AD3B  69 06              ADC #$06
02072  AD3D  85 24              STA INDEX+2
02073  AD3F  68                 PLA 
02074  AD40  A0 01              LDY #$01
02075  AD42  20 A2 BB           JSR XXBBA2
02076  AD45  BA                 TSX 






BASICV2A.ASM......PAGE 0042

LINE# LOC   CODE        LINE


02077  AD46  BD 09 01           LDA $0109,X
02078  AD49  85 66              STA $66
02079  AD4B  A5 49              LDA FORPNT
02080  AD4D  A4 4A              LDY FORPNT+1
02081  AD4F  20 67 B8           JSR XXB867
02082  AD52  20 D0 BB           JSR XXBBD0
02083  AD55  A0 01              LDY #$01
02084  AD57  20 5D BC           JSR XXBC5D
02085  AD5A  BA                 TSX 
02086  AD5B  38                 SEC 
02087  AD5C  FD 09 01           SBC $0109,X
02088  AD5F  F0 17              BEQ XXAD78
02089  AD61  BD 0F 01           LDA $010F,X
02090  AD64  85 39              STA CURLIN
02091  AD66  BD 10 01           LDA $0110,X
02092  AD69  85 3A              STA CURLIN+1
02093  AD6B  BD 12 01           LDA $0112,X
02094  AD6E  85 7A              STA TXTPTR
02095  AD70  BD 11 01           LDA $0111,X
02096  AD73  85 7B              STA TXTPTR+1
02097  AD75  4C AE A7    XXAD75 JMP XXA7AE
02098  AD78              ;********************************
02099  AD78              ;
02100  AD78              ;********************************
02101  AD78  8A          XXAD78 TXA 
02102  AD79  69 11              ADC #$11
02103  AD7B  AA                 TAX 
02104  AD7C  9A                 TXS 
02105  AD7D  20 79 00           JSR CHRGOT
02106  AD80  C9 2C              CMP #$2C        ;','
02107  AD82  D0 F1              BNE XXAD75
02108  AD84  20 73 00           JSR CHRGET
02109  AD87  20 24 AD           JSR XXAD24
02110  AD8A  20 9E AD    XXAD8A JSR XXAD9E
02111  AD8D  18          XXAD8D CLC 
02112  AD8E              ;********************************
02113  AD8E  24                 .BYTE $24
02114  AD8F              ;********************************
02115  AD8F  38          XXAD8F SEC 
02116  AD90  24 0D       XXAD90 BIT VALTYP
02117  AD92  30 03              BMI XXAD97
02118  AD94  B0 03              BCS XXAD99
02119  AD96  60          XXAD96 RTS 
02120  AD97              ;********************************
02121  AD97              ;
02122  AD97              ;********************************
02123  AD97  B0 FD       XXAD97 BCS XXAD96
02124  AD99  A2 16       XXAD99 LDX #$16
02125  AD9B  4C 37 A4           JMP XXA437
02126  AD9E              ;********************************
02127  AD9E              ;
02128  AD9E              ;********************************
02129  AD9E  A6 7A       XXAD9E LDX TXTPTR
02130  ADA0  D0 02              BNE XXADA4
02131  ADA2  C6 7B              DEC TXTPTR+1






BASICV2A.ASM......PAGE 0043

LINE# LOC   CODE        LINE


02132  ADA4  C6 7A       XXADA4 DEC TXTPTR
02133  ADA6  A2 00              LDX #$00
02134  ADA8              ;********************************
02135  ADA8  24                 .BYTE $24
02136  ADA9              ;********************************
02137  ADA9  48          XXADA9 PHA 
02138  ADAA  8A                 TXA 
02139  ADAB  48                 PHA 
02140  ADAC  A9 01              LDA #$01
02141  ADAE  20 FB A3           JSR XXA3FB
02142  ADB1  20 83 AE           JSR XXAE83
02143  ADB4  A9 00              LDA #$00
02144  ADB6  85 4D              STA OPMASK
02145  ADB8  20 79 00    XXADB8 JSR CHRGOT
02146  ADBB  38          XXADBB SEC 
02147  ADBC  E9 B1              SBC #$B1
02148  ADBE  90 17              BCC XXADD7
02149  ADC0  C9 03              CMP #$03
02150  ADC2  B0 13              BCS XXADD7
02151  ADC4  C9 01              CMP #$01
02152  ADC6  2A                 ROL A
02153  ADC7  49 01              EOR #$01
02154  ADC9  45 4D              EOR OPMASK
02155  ADCB  C5 4D              CMP OPMASK
02156  ADCD  90 61              BCC XXAE30
02157  ADCF  85 4D              STA OPMASK
02158  ADD1  20 73 00           JSR CHRGET
02159  ADD4  4C BB AD           JMP XXADBB
02160  ADD7              ;********************************
02161  ADD7              ;
02162  ADD7              ;********************************
02163  ADD7  A6 4D       XXADD7 LDX OPMASK
02164  ADD9  D0 2C              BNE XXAE07
02165  ADDB  B0 7B              BCS XXAE58
02166  ADDD  69 07              ADC #$07
02167  ADDF  90 77              BCC XXAE58
02168  ADE1  65 0D              ADC VALTYP
02169  ADE3  D0 03              BNE XXADE8
02170  ADE5  4C 3D B6           JMP XXB63D
02171  ADE8              ;********************************
02172  ADE8              ;
02173  ADE8              ;********************************
02174  ADE8  69 FF       XXADE8 ADC #$FF
02175  ADEA  85 22              STA INDEX
02176  ADEC  0A                 ASL A
02177  ADED  65 22              ADC INDEX
02178  ADEF  A8                 TAY 
02179  ADF0  68          XXADF0 PLA 
02180  ADF1  D9 80 A0           CMP XXA080,Y
02181  ADF4  B0 67              BCS XXAE5D
02182  ADF6  20 8D AD           JSR XXAD8D
02183  ADF9  48          XXADF9 PHA 
02184  ADFA  20 20 AE    XXADFA JSR XXAE20
02185  ADFD  68                 PLA 
02186  ADFE  A4 4B              LDY OPPTR






BASICV2A.ASM......PAGE 0044

LINE# LOC   CODE        LINE


02187  AE00  10 17              BPL XXAE19
02188  AE02  AA                 TAX 
02189  AE03  F0 56              BEQ XXAE5B
02190  AE05  D0 5F              BNE XXAE66
02191  AE07  46 0D       XXAE07 LSR VALTYP
02192  AE09  8A                 TXA 
02193  AE0A  2A                 ROL A
02194  AE0B  A6 7A              LDX TXTPTR
02195  AE0D  D0 02              BNE XXAE11
02196  AE0F  C6 7B              DEC TXTPTR+1
02197  AE11  C6 7A       XXAE11 DEC TXTPTR
02198  AE13  A0 1B              LDY #$1B
02199  AE15  85 4D              STA OPMASK
02200  AE17  D0 D7              BNE XXADF0
02201  AE19  D9 80 A0    XXAE19 CMP XXA080,Y
02202  AE1C  B0 48              BCS XXAE66
02203  AE1E  90 D9              BCC XXADF9
02204  AE20  B9 82 A0    XXAE20 LDA XXA081+1,Y
02205  AE23  48                 PHA 
02206  AE24  B9 81 A0           LDA XXA081,Y
02207  AE27  48                 PHA 
02208  AE28  20 33 AE           JSR XXAE33
02209  AE2B  A5 4D              LDA OPMASK
02210  AE2D  4C A9 AD           JMP XXADA9
02211  AE30              ;********************************
02212  AE30              ;
02213  AE30              ;********************************
02214  AE30  4C 08 AF    XXAE30 JMP XXAF08
02215  AE33              ;********************************
02216  AE33              ;
02217  AE33              ;********************************
02218  AE33  A5 66       XXAE33 LDA $66
02219  AE35  BE 80 A0           LDX XXA080,Y
02220  AE38  A8          XXAE38 TAY 
02221  AE39  68                 PLA 
02222  AE3A  85 22              STA INDEX
02223  AE3C  E6 22              INC INDEX
02224  AE3E  68                 PLA 
02225  AE3F  85 23              STA INDEX+1
02226  AE41  98                 TYA 
02227  AE42  48                 PHA 
02228  AE43  20 1B BC    XXAE43 JSR XXBC1B
02229  AE46  A5 65              LDA $65
02230  AE48  48                 PHA 
02231  AE49  A5 64              LDA $64
02232  AE4B  48                 PHA 
02233  AE4C  A5 63              LDA $63
02234  AE4E  48                 PHA 
02235  AE4F  A5 62              LDA $62
02236  AE51  48                 PHA 
02237  AE52  A5 61              LDA $61
02238  AE54  48                 PHA 
02239  AE55  6C 22 00           JMP ($0022)
02240  AE58              ;********************************
02241  AE58              ;






BASICV2A.ASM......PAGE 0045

LINE# LOC   CODE        LINE


02242  AE58              ;********************************
02243  AE58  A0 FF       XXAE58 LDY #$FF
02244  AE5A  68                 PLA 
02245  AE5B  F0 23       XXAE5B BEQ XXAE80
02246  AE5D  C9 64       XXAE5D CMP #$64
02247  AE5F  F0 03              BEQ XXAE64
02248  AE61  20 8D AD           JSR XXAD8D
02249  AE64  84 4B       XXAE64 STY OPPTR
02250  AE66  68          XXAE66 PLA 
02251  AE67  4A                 LSR A
02252  AE68  85 12              STA TANSGN
02253  AE6A  68                 PLA 
02254  AE6B  85 69              STA $69
02255  AE6D  68                 PLA 
02256  AE6E  85 6A              STA $6A
02257  AE70  68                 PLA 
02258  AE71  85 6B              STA $6B
02259  AE73  68                 PLA 
02260  AE74  85 6C              STA $6C
02261  AE76  68                 PLA 
02262  AE77  85 6D              STA $6D
02263  AE79  68                 PLA 
02264  AE7A  85 6E              STA $6E
02265  AE7C  45 66              EOR $66
02266  AE7E  85 6F              STA $6F
02267  AE80  A5 61       XXAE80 LDA $61
02268  AE82  60                 RTS 
02269  AE83              ;********************************
02270  AE83              ;
02271  AE83              ;********************************
02272  AE83  6C 0A 03    XXAE83 JMP (IEVAL)
02273  AE86              ;********************************
02274  AE86              ;
02275  AE86              ;********************************
02276  AE86  A9 00       KKAE86 LDA #$00
02277  AE88  85 0D              STA VALTYP
02278  AE8A  20 73 00    XXAE8A JSR CHRGET
02279  AE8D  B0 03              BCS XXAE92
02280  AE8F  4C F3 BC    XXAE8F JMP XXBCF3
02281  AE92              ;********************************
02282  AE92              ;
02283  AE92              ;********************************
02284  AE92  20 13 B1    XXAE92 JSR XXB113
02285  AE95  90 03              BCC XXAE9A
02286  AE97  4C 28 AF           JMP XXAF28
02287  AE9A              ;********************************
02288  AE9A              ;
02289  AE9A              ;********************************
02290  AE9A  C9 FF       XXAE9A CMP #$FF
02291  AE9C  D0 0F              BNE XXAEAD
02292  AE9E  A9 A8              LDA #$A8
02293  AEA0  A0 AE              LDY #$AE
02294  AEA2  20 A2 BB           JSR XXBBA2
02295  AEA5  4C 73 00           JMP CHRGET
02296  AEA8              ;********************************






BASICV2A.ASM......PAGE 0046

LINE# LOC   CODE        LINE


02297  AEA8              ;
02298  AEA8              ;********************************
02299  AEA8  82                 .BYTE $82
02300  AEA9  49                 .BYTE $49
02301  AEAA  0F                 .BYTE $0F
02302  AEAB  DA                 .BYTE $DA
02303  AEAC  A1                 .BYTE $A1
02304  AEAD              ;********************************
02305  AEAD              ;
02306  AEAD              ;********************************
02307  AEAD  C9 2E       XXAEAD CMP #$2E        ;'.'
02308  AEAF  F0 DE              BEQ XXAE8F
02309  AEB1  C9 AB              CMP #$AB
02310  AEB3  F0 58              BEQ XXAF0D
02311  AEB5  C9 AA              CMP #$AA
02312  AEB7  F0 D1              BEQ XXAE8A
02313  AEB9  C9 22              CMP #$22        ;'"'
02314  AEBB  D0 0F              BNE XXAECC
02315  AEBD  A5 7A       XXAEBD LDA TXTPTR
02316  AEBF  A4 7B              LDY TXTPTR+1
02317  AEC1  69 00              ADC #$00
02318  AEC3  90 01              BCC XXAEC6
02319  AEC5  C8                 INY 
02320  AEC6  20 87 B4    XXAEC6 JSR XXB487
02321  AEC9  4C E2 B7           JMP XXB7E2
02322  AECC              ;********************************
02323  AECC              ;
02324  AECC              ;********************************
02325  AECC  C9 A8       XXAECC CMP #$A8
02326  AECE  D0 13              BNE XXAEE3
02327  AED0  A0 18              LDY #$18
02328  AED2  D0 3B              BNE XXAF0F
02329  AED4              ;********************************
02330  AED4              ;
02331  AED4              ;********************************
02332  AED4  20 BF B1    ZZAED4 JSR XXB1BF
02333  AED7  A5 65              LDA $65
02334  AED9  49 FF              EOR #$FF
02335  AEDB  A8                 TAY 
02336  AEDC  A5 64              LDA $64
02337  AEDE  49 FF              EOR #$FF
02338  AEE0  4C 91 B3           JMP XXB391
02339  AEE3              ;********************************
02340  AEE3              ;
02341  AEE3              ;********************************
02342  AEE3  C9 A5       XXAEE3 CMP #$A5
02343  AEE5  D0 03              BNE XXAEEA
02344  AEE7  4C F4 B3           JMP XXB3F4
02345  AEEA              ;********************************
02346  AEEA              ;
02347  AEEA              ;********************************
02348  AEEA  C9 B4       XXAEEA CMP #$B4
02349  AEEC  90 03              BCC XXAEF1
02350  AEEE  4C A7 AF           JMP XXAFA7
02351  AEF1              ;********************************






BASICV2A.ASM......PAGE 0047

LINE# LOC   CODE        LINE


02352  AEF1              ;
02353  AEF1              ;********************************
02354  AEF1  20 FA AE    XXAEF1 JSR XXAEFA
02355  AEF4  20 9E AD           JSR XXAD9E
02356  AEF7  A9 29       XXAEF7 LDA #$29        ;')'
02357  AEF9              ;********************************
02358  AEF9  2C                 .BYTE $2C
02359  AEFA              ;********************************
02360  AEFA  A9 28       XXAEFA LDA #$28        ;'('
02361  AEFC              ;********************************
02362  AEFC  2C                 .BYTE $2C
02363  AEFD              ;********************************
02364  AEFD  A9 2C       XXAEFD LDA #$2C        ;','
02365  AEFF  A0 00       XXAEFF LDY #$00
02366  AF01  D1 7A              CMP (TXTPTR),Y
02367  AF03  D0 03              BNE XXAF08
02368  AF05  4C 73 00           JMP CHRGET
02369  AF08              ;********************************
02370  AF08              ;
02371  AF08              ;********************************
02372  AF08  A2 0B       XXAF08 LDX #$0B
02373  AF0A  4C 37 A4           JMP XXA437
02374  AF0D              ;********************************
02375  AF0D              ;
02376  AF0D              ;********************************
02377  AF0D  A0 15       XXAF0D LDY #$15
02378  AF0F  68          XXAF0F PLA 
02379  AF10  68                 PLA 
02380  AF11  4C FA AD           JMP XXADFA
02381  AF14              ;********************************
02382  AF14              ;
02383  AF14              ;********************************
02384  AF14  38          XXAF14 SEC 
02385  AF15  A5 64              LDA $64
02386  AF17  E9 00              SBC #$00
02387  AF19  A5 65              LDA $65
02388  AF1B  E9 A0              SBC #$A0
02389  AF1D  90 08              BCC XXAF27
02390  AF1F  A9 A2              LDA #$A2
02391  AF21  E5 64              SBC $64
02392  AF23  A9 E3              LDA #$E3
02393  AF25  E5 65              SBC $65
02394  AF27  60          XXAF27 RTS 
02395  AF28              ;********************************
02396  AF28              ;
02397  AF28              ;********************************
02398  AF28  20 8B B0    XXAF28 JSR XXB08B
02399  AF2B  85 64              STA $64
02400  AF2D  84 65              STY $65
02401  AF2F  A6 45              LDX VARNAM
02402  AF31  A4 46              LDY VARNAM+1
02403  AF33  A5 0D              LDA VALTYP
02404  AF35  F0 26              BEQ XXAF5D
02405  AF37  A9 00              LDA #$00
02406  AF39  85 70              STA $70






BASICV2A.ASM......PAGE 0048

LINE# LOC   CODE        LINE


02407  AF3B  20 14 AF           JSR XXAF14
02408  AF3E  90 1C              BCC XXAF5C
02409  AF40  E0 54              CPX #$54        ;'T'
02410  AF42  D0 18              BNE XXAF5C
02411  AF44  C0 C9              CPY #$C9
02412  AF46  D0 14              BNE XXAF5C
02413  AF48  20 84 AF           JSR XXAF84
02414  AF4B  84 5E              STY $5E
02415  AF4D  88                 DEY 
02416  AF4E  84 71              STY $71
02417  AF50  A0 06              LDY #$06
02418  AF52  84 5D              STY $5D
02419  AF54  A0 24              LDY #$24        ;'$'
02420  AF56  20 68 BE           JSR XXBE68
02421  AF59  4C 6F B4           JMP XXB46F
02422  AF5C              ;********************************
02423  AF5C              ;
02424  AF5C              ;********************************
02425  AF5C  60          XXAF5C RTS 
02426  AF5D              ;********************************
02427  AF5D              ;
02428  AF5D              ;********************************
02429  AF5D  24 0E       XXAF5D BIT INTFLG
02430  AF5F  10 0D              BPL XXAF6E
02431  AF61  A0 00              LDY #$00
02432  AF63  B1 64              LDA ($64),Y
02433  AF65  AA                 TAX 
02434  AF66  C8                 INY 
02435  AF67  B1 64              LDA ($64),Y
02436  AF69  A8                 TAY 
02437  AF6A  8A                 TXA 
02438  AF6B  4C 91 B3           JMP XXB391
02439  AF6E              ;********************************
02440  AF6E              ;
02441  AF6E              ;********************************
02442  AF6E  20 14 AF    XXAF6E JSR XXAF14
02443  AF71  90 2D              BCC XXAFA0
02444  AF73  E0 54              CPX #$54        ;'T'
02445  AF75  D0 1B              BNE XXAF92
02446  AF77  C0 49              CPY #$49        ;'I'
02447  AF79  D0 25              BNE XXAFA0
02448  AF7B  20 84 AF           JSR XXAF84
02449  AF7E  98                 TYA 
02450  AF7F  A2 A0              LDX #$A0
02451  AF81  4C 4F BC           JMP XXBC4F
02452  AF84              ;********************************
02453  AF84              ;
02454  AF84              ;********************************
02455  AF84  20 DE FF    XXAF84 JSR RDTIM
02456  AF87  86 64              STX $64
02457  AF89  84 63              STY $63
02458  AF8B  85 65              STA $65
02459  AF8D  A0 00              LDY #$00
02460  AF8F  84 62              STY $62
02461  AF91  60                 RTS 






BASICV2A.ASM......PAGE 0049

LINE# LOC   CODE        LINE


02462  AF92              ;********************************
02463  AF92              ;
02464  AF92              ;********************************
02465  AF92  E0 53       XXAF92 CPX #$53        ;'S'
02466  AF94  D0 0A              BNE XXAFA0
02467  AF96  C0 54              CPY #$54        ;'T'
02468  AF98  D0 06              BNE XXAFA0
02469  AF9A  20 B7 FF           JSR READST
02470  AF9D  4C 3C BC           JMP XXBC3C
02471  AFA0              ;********************************
02472  AFA0              ;
02473  AFA0              ;********************************
02474  AFA0  A5 64       XXAFA0 LDA $64
02475  AFA2  A4 65              LDY $65
02476  AFA4  4C A2 BB           JMP XXBBA2
02477  AFA7              ;********************************
02478  AFA7              ; ISFUN - DISPATCH AND EVALUATE A FUNCTION
02479  AFA7              ;********************************
02480  AFA7  0A          XXAFA7 ASL A
02481  AFA8  48                 PHA 
02482  AFA9  AA                 TAX 
02483  AFAA  20 73 00           JSR CHRGET
02484  AFAD  E0 8F              CPX #$8F
02485  AFAF  90 20              BCC XXAFD1
02486  AFB1  20 FA AE           JSR XXAEFA
02487  AFB4  20 9E AD           JSR XXAD9E
02488  AFB7  20 FD AE           JSR XXAEFD
02489  AFBA  20 8F AD           JSR XXAD8F
02490  AFBD  68                 PLA 
02491  AFBE  AA                 TAX 
02492  AFBF  A5 65              LDA $65
02493  AFC1  48                 PHA 
02494  AFC2  A5 64              LDA $64
02495  AFC4  48                 PHA 
02496  AFC5  8A                 TXA 
02497  AFC6  48                 PHA 
02498  AFC7  20 9E B7           JSR XXB79E
02499  AFCA  68                 PLA 
02500  AFCB  A8                 TAY 
02501  AFCC  8A                 TXA 
02502  AFCD  48                 PHA 
02503  AFCE  4C D6 AF           JMP XXAFD6
02504  AFD1              ;********************************
02505  AFD1              ;
02506  AFD1              ;********************************
02507  AFD1              TT9FEA = ZZA00C-$0022  ; (ZZA050-ZZA00C/2)
02508  AFD1              TT9FEB = ZZA00C-$0021  ; (ZZA050-ZZA00C/2)-1
02509  AFD1              ;********************************
02510  AFD1              ;
02511  AFD1              ;********************************
02512  AFD1  20 F1 AE    XXAFD1 JSR XXAEF1
02513  AFD4  68                 PLA 
02514  AFD5  A8                 TAY 
02515  AFD6  B9 EA 9F    XXAFD6 LDA TT9FEA,Y    ;$9FEA,Y
02516  AFD9  85 55              STA JMPER+1     ;$55






BASICV2A.ASM......PAGE 0050

LINE# LOC   CODE        LINE


02517  AFDB              ;
02518  AFDB  B9 EB 9F           LDA TT9FEB,Y    ;$9FEB,Y
02519  AFDE  85 56              STA JMPER+2     ;$56
02520  AFE0              ;
02521  AFE0  20 54 00           JSR JMPER
02522  AFE3  4C 8D AD           JMP XXAD8D
02523  AFE6              ;********************************
02524  AFE6              ; OR OPERATOR
02525  AFE6              ;********************************
02526  AFE6  A0 FF       ZZAFE6 LDY #$FF
02527  AFE8              ;********************************
02528  AFE8  2C                 .BYTE $2C
02529  AFE9              ;********************************
02530  AFE9              ; AND OPERATOR
02531  AFE9              ;********************************
02532  AFE9  A0 00       ZZAFE9 LDY #$00
02533  AFEB  84 0B              STY COUNT
02534  AFED  20 BF B1           JSR XXB1BF
02535  AFF0  A5 64              LDA $64
02536  AFF2  45 0B              EOR COUNT
02537  AFF4  85 07              STA CHARAC
02538  AFF6  A5 65              LDA $65
02539  AFF8  45 0B              EOR COUNT
02540  AFFA  85 08              STA ENDCHR
02541  AFFC  20 FC BB           JSR XXBBFC
02542  AFFF  20 BF B1           JSR XXB1BF
02543  B002  A5 65              LDA $65
02544  B004  45 0B              EOR COUNT
02545  B006  25 08              AND ENDCHR
02546  B008  45 0B              EOR COUNT
02547  B00A  A8                 TAY 
02548  B00B  A5 64              LDA $64
02549  B00D  45 0B              EOR COUNT
02550  B00F  25 07              AND CHARAC
02551  B011  45 0B              EOR COUNT
02552  B013  4C 91 B3           JMP XXB391
02553  B016              ;********************************
02554  B016              ;
02555  B016              ;********************************
02556  B016  20 90 AD    ZZB016 JSR XXAD90
02557  B019  B0 13              BCS XXB02E
02558  B01B  A5 6E              LDA $6E
02559  B01D  09 7F              ORA #$7F
02560  B01F  25 6A              AND $6A
02561  B021  85 6A              STA $6A
02562  B023  A9 69              LDA #$69
02563  B025  A0 00              LDY #$00
02564  B027  20 5B BC           JSR XXBC5B
02565  B02A  AA                 TAX 
02566  B02B  4C 61 B0           JMP XXB061
02567  B02E              ;********************************
02568  B02E              ;
02569  B02E              ;********************************
02570  B02E  A9 00       XXB02E LDA #$00
02571  B030  85 0D              STA VALTYP






BASICV2A.ASM......PAGE 0051

LINE# LOC   CODE        LINE


02572  B032  C6 4D              DEC OPMASK
02573  B034  20 A6 B6           JSR XXB6A6
02574  B037  85 61              STA $61
02575  B039  86 62              STX $62
02576  B03B  84 63              STY $63
02577  B03D  A5 6C              LDA $6C
02578  B03F  A4 6D              LDY $6D
02579  B041  20 AA B6           JSR XXB6AA
02580  B044  86 6C              STX $6C
02581  B046  84 6D              STY $6D
02582  B048  AA                 TAX 
02583  B049  38                 SEC 
02584  B04A  E5 61              SBC $61
02585  B04C  F0 08              BEQ XXB056
02586  B04E  A9 01              LDA #$01
02587  B050  90 04              BCC XXB056
02588  B052  A6 61              LDX $61
02589  B054  A9 FF              LDA #$FF
02590  B056  85 66       XXB056 STA $66
02591  B058  A0 FF              LDY #$FF
02592  B05A  E8                 INX 
02593  B05B  C8          XXB05B INY 
02594  B05C  CA                 DEX 
02595  B05D  D0 07              BNE XXB066
02596  B05F  A6 66              LDX $66
02597  B061  30 0F       XXB061 BMI XXB072
02598  B063  18                 CLC 
02599  B064  90 0C              BCC XXB072
02600  B066  B1 6C       XXB066 LDA ($6C),Y
02601  B068  D1 62              CMP ($62),Y
02602  B06A  F0 EF              BEQ XXB05B
02603  B06C  A2 FF              LDX #$FF
02604  B06E  B0 02              BCS XXB072
02605  B070  A2 01              LDX #$01
02606  B072  E8          XXB072 INX 
02607  B073  8A                 TXA 
02608  B074  2A                 ROL A
02609  B075  25 12              AND TANSGN
02610  B077  F0 02              BEQ XXB07B
02611  B079  A9 FF              LDA #$FF
02612  B07B  4C 3C BC    XXB07B JMP XXBC3C
02613  B07E              ;********************************
02614  B07E              ;
02615  B07E              ;********************************
02616  B07E  20 FD AE    XXB07E JSR XXAEFD
02617  B081              ;********************************
02618  B081              ; DIM COMMAND
02619  B081              ;********************************
02620  B081  AA          ZZB081 TAX 
02621  B082  20 90 B0           JSR XXB090
02622  B085  20 79 00           JSR CHRGOT
02623  B088  D0 F4              BNE XXB07E
02624  B08A  60                 RTS 
02625  B08B              ;********************************
02626  B08B              ; GET NAME AND POINTER TO A VARIABLE






BASICV2A.ASM......PAGE 0052

LINE# LOC   CODE        LINE


02627  B08B              ;********************************
02628  B08B  A2 00       XXB08B LDX #$00
02629  B08D  20 79 00           JSR CHRGOT
02630  B090  86 0C       XXB090 STX DIMFLG
02631  B092  85 45       XXB092 STA VARNAM
02632  B094  20 79 00           JSR CHRGOT
02633  B097  20 13 B1           JSR XXB113
02634  B09A  B0 03              BCS XXB09F
02635  B09C  4C 08 AF    XXB09C JMP XXAF08
02636  B09F              ;********************************
02637  B09F              ;
02638  B09F              ;********************************
02639  B09F  A2 00       XXB09F LDX #$00
02640  B0A1  86 0D              STX VALTYP
02641  B0A3  86 0E              STX INTFLG
02642  B0A5  20 73 00           JSR CHRGET
02643  B0A8  90 05              BCC XXB0AF
02644  B0AA  20 13 B1           JSR XXB113
02645  B0AD  90 0B              BCC XXB0BA
02646  B0AF  AA          XXB0AF TAX 
02647  B0B0  20 73 00    XXB0B0 JSR CHRGET
02648  B0B3  90 FB              BCC XXB0B0
02649  B0B5  20 13 B1           JSR XXB113
02650  B0B8  B0 F6              BCS XXB0B0
02651  B0BA  C9 24       XXB0BA CMP #$24        ;'$'
02652  B0BC  D0 06              BNE XXB0C4
02653  B0BE  A9 FF              LDA #$FF
02654  B0C0  85 0D              STA VALTYP
02655  B0C2  D0 10              BNE XXB0D4
02656  B0C4  C9 25       XXB0C4 CMP #$25        ;'%'
02657  B0C6  D0 13              BNE XXB0DB
02658  B0C8  A5 10              LDA SUBFLG
02659  B0CA  D0 D0              BNE XXB09C
02660  B0CC  A9 80              LDA #$80
02661  B0CE  85 0E              STA INTFLG
02662  B0D0  05 45              ORA VARNAM
02663  B0D2  85 45              STA VARNAM
02664  B0D4  8A          XXB0D4 TXA 
02665  B0D5  09 80              ORA #$80
02666  B0D7  AA                 TAX 
02667  B0D8  20 73 00           JSR CHRGET
02668  B0DB  86 46       XXB0DB STX VARNAM+1
02669  B0DD  38                 SEC 
02670  B0DE  05 10              ORA SUBFLG
02671  B0E0  E9 28              SBC #$28        ;'('
02672  B0E2  D0 03              BNE XXB0E7
02673  B0E4  4C D1 B1           JMP XXB1D1
02674  B0E7              ;********************************
02675  B0E7              ;
02676  B0E7              ;********************************
02677  B0E7  A0 00       XXB0E7 LDY #$00
02678  B0E9  84 10              STY SUBFLG
02679  B0EB  A5 2D              LDA VARTAB
02680  B0ED  A6 2E              LDX VARTAB+1
02681  B0EF  86 60       XXB0EF STX $60






BASICV2A.ASM......PAGE 0053

LINE# LOC   CODE        LINE


02682  B0F1  85 5F       XXB0F1 STA $5F
02683  B0F3  E4 30              CPX ARYTAB+1
02684  B0F5  D0 04              BNE XXB0FB
02685  B0F7  C5 2F              CMP ARYTAB
02686  B0F9  F0 22              BEQ XXB11D
02687  B0FB  A5 45       XXB0FB LDA VARNAM
02688  B0FD  D1 5F              CMP ($5F),Y
02689  B0FF  D0 08              BNE XXB109
02690  B101  A5 46              LDA VARNAM+1
02691  B103  C8                 INY 
02692  B104  D1 5F              CMP ($5F),Y
02693  B106  F0 7D              BEQ XXB185
02694  B108  88                 DEY 
02695  B109  18          XXB109 CLC 
02696  B10A  A5 5F              LDA $5F
02697  B10C  69 07              ADC #$07
02698  B10E  90 E1              BCC XXB0F1
02699  B110  E8                 INX 
02700  B111  D0 DC              BNE XXB0EF
02701  B113              ;********************************
02702  B113              ; CHECK CHARACTER IN A
02703  B113              ; C=1 IF ALPHABETIC, C=0 IF NOT
02704  B113              ;********************************
02705  B113  C9 41       XXB113 CMP #$41        ;'A'
02706  B115  90 05              BCC XXB11C
02707  B117  E9 5B              SBC #$5B        ;'['
02708  B119  38                 SEC 
02709  B11A  E9 A5              SBC #$A5
02710  B11C  60          XXB11C RTS 
02711  B11D              ;********************************
02712  B11D              ; VARIABLE NOT FOUND
02713  B11D              ;********************************
02714  B11D  68          XXB11D PLA 
02715  B11E  48                 PHA 
02716  B11F  C9 2A              CMP #$2A        ;'*'
02717  B121  D0 05              BNE XXB128
02718  B123  A9 13       XXB123 LDA #$13
02719  B125  A0 BF              LDY #$BF
02720  B127  60                 RTS 
02721  B128              ;********************************
02722  B128              ;
02723  B128              ;********************************
02724  B128  A5 45       XXB128 LDA VARNAM
02725  B12A  A4 46              LDY VARNAM+1
02726  B12C  C9 54              CMP #$54        ;'T'
02727  B12E  D0 0B              BNE XXB13B
02728  B130  C0 C9              CPY #$C9
02729  B132  F0 EF              BEQ XXB123
02730  B134  C0 49              CPY #$49        ;'I'
02731  B136  D0 03              BNE XXB13B
02732  B138  4C 08 AF    XXB138 JMP XXAF08
02733  B13B              ;********************************
02734  B13B              ;
02735  B13B              ;********************************
02736  B13B  C9 53       XXB13B CMP #$53        ;'S'






BASICV2A.ASM......PAGE 0054

LINE# LOC   CODE        LINE


02737  B13D  D0 04              BNE XXB143
02738  B13F  C0 54              CPY #$54        ;'T'
02739  B141  F0 F5              BEQ XXB138
02740  B143  A5 2F       XXB143 LDA ARYTAB
02741  B145  A4 30              LDY ARYTAB+1
02742  B147  85 5F              STA $5F
02743  B149  84 60              STY $60
02744  B14B  A5 31              LDA STREND
02745  B14D  A4 32              LDY STREND+1
02746  B14F  85 5A              STA $5A
02747  B151  84 5B              STY $5B
02748  B153  18                 CLC 
02749  B154  69 07              ADC #$07
02750  B156  90 01              BCC XXB159
02751  B158  C8                 INY 
02752  B159  85 58       XXB159 STA $58
02753  B15B  84 59              STY $59
02754  B15D  20 B8 A3           JSR XXA3B8
02755  B160  A5 58              LDA $58
02756  B162  A4 59              LDY $59
02757  B164  C8                 INY 
02758  B165  85 2F              STA ARYTAB
02759  B167  84 30              STY ARYTAB+1
02760  B169  A0 00              LDY #$00
02761  B16B  A5 45              LDA VARNAM
02762  B16D  91 5F              STA ($5F),Y
02763  B16F  C8                 INY 
02764  B170  A5 46              LDA VARNAM+1
02765  B172  91 5F              STA ($5F),Y
02766  B174  A9 00              LDA #$00
02767  B176  C8                 INY 
02768  B177  91 5F              STA ($5F),Y
02769  B179  C8                 INY 
02770  B17A  91 5F              STA ($5F),Y
02771  B17C  C8                 INY 
02772  B17D  91 5F              STA ($5F),Y
02773  B17F  C8                 INY 
02774  B180  91 5F              STA ($5F),Y
02775  B182  C8                 INY 
02776  B183  91 5F              STA ($5F),Y
02777  B185              ;********************************
02778  B185              ; VARIABLE FOUND
02779  B185              ;********************************
02780  B185  A5 5F       XXB185 LDA $5F
02781  B187  18                 CLC 
02782  B188  69 02              ADC #$02
02783  B18A  A4 60              LDY $60
02784  B18C  90 01              BCC XXB18F
02785  B18E  C8                 INY 
02786  B18F  85 47       XXB18F STA VARPNT
02787  B191  84 48              STY VARPNT+1
02788  B193  60                 RTS 
02789  B194              ;********************************
02790  B194              ; COMPUTE POINTER TO ARRAY BODY
02791  B194              ;********************************






BASICV2A.ASM......PAGE 0055

LINE# LOC   CODE        LINE


02792  B194  A5 0B       XXB194 LDA COUNT
02793  B196  0A                 ASL A
02794  B197  69 05              ADC #$05
02795  B199  65 5F              ADC $5F
02796  B19B  A4 60              LDY $60
02797  B19D  90 01              BCC XXB1A0
02798  B19F  C8                 INY 
02799  B1A0  85 58       XXB1A0 STA $58
02800  B1A2  84 59              STY $59
02801  B1A4  60                 RTS 
02802  B1A5              ;********************************
02803  B1A5              ; ; FLOAT NUMBER FOR CONVERSION TO INTEGER
02804  B1A5              ;********************************
02805  B1A5  90          WWB1A5 .BYTE $90
02806  B1A6  80                 .BYTE $80
02807  B1A7  00                 .BYTE $00
02808  B1A8  00                 .BYTE $00
02809  B1A9  00                 .BYTE $00
02810  B1AA              ;********************************
02811  B1AA              ; ROUTINE TO CONVERT FLOAT TO FIXED POINT
02812  B1AA              ;********************************
02813  B1AA  20 BF B1    ZZB1AA JSR XXB1BF
02814  B1AD  A5 64              LDA $64
02815  B1AF  A4 65              LDY $65
02816  B1B1  60                 RTS 
02817  B1B2              ;********************************
02818  B1B2              ; CONVERT VALUE FROM STATEMENT TO INTEGER
02819  B1B2              ;********************************
02820  B1B2  20 73 00    XXB1B2 JSR CHRGET
02821  B1B5  20 9E AD           JSR XXAD9E
02822  B1B8  20 8D AD    XXB1B8 JSR XXAD8D
02823  B1BB  A5 66              LDA $66
02824  B1BD  30 0D              BMI XXB1CC
02825  B1BF              ;********************************
02826  B1BF              ; CONVERT FLOAT NUMBER TO INTEGER
02827  B1BF              ;********************************
02828  B1BF  A5 61       XXB1BF LDA $61
02829  B1C1  C9 90              CMP #$90
02830  B1C3  90 09              BCC XXB1CE
02831  B1C5  A9 A5              LDA #$A5
02832  B1C7  A0 B1              LDY #$B1
02833  B1C9  20 5B BC           JSR XXBC5B
02834  B1CC  D0 7A       XXB1CC BNE XXB248
02835  B1CE  4C 9B BC    XXB1CE JMP XXBC9B
02836  B1D1              ;********************************
02837  B1D1              ; GET POINTER TO DIMENSIONED VARIABLE
02838  B1D1              ;********************************
02839  B1D1  A5 0C       XXB1D1 LDA DIMFLG
02840  B1D3  05 0E              ORA INTFLG
02841  B1D5  48                 PHA 
02842  B1D6  A5 0D              LDA VALTYP
02843  B1D8  48                 PHA 
02844  B1D9  A0 00              LDY #$00
02845  B1DB  98          XXB1DB TYA 
02846  B1DC  48                 PHA 






BASICV2A.ASM......PAGE 0056

LINE# LOC   CODE        LINE


02847  B1DD  A5 46              LDA VARNAM+1
02848  B1DF  48                 PHA 
02849  B1E0  A5 45              LDA VARNAM
02850  B1E2  48                 PHA 
02851  B1E3  20 B2 B1           JSR XXB1B2
02852  B1E6  68                 PLA 
02853  B1E7  85 45              STA VARNAM
02854  B1E9  68                 PLA 
02855  B1EA  85 46              STA VARNAM+1
02856  B1EC  68                 PLA 
02857  B1ED  A8                 TAY 
02858  B1EE  BA                 TSX 
02859  B1EF  BD 02 01           LDA STACK+2,X
02860  B1F2  48                 PHA 
02861  B1F3  BD 01 01           LDA STACK+1,X
02862  B1F6  48                 PHA 
02863  B1F7  A5 64              LDA $64
02864  B1F9  9D 02 01           STA STACK+2,X
02865  B1FC  A5 65              LDA $65
02866  B1FE  9D 01 01           STA STACK+1,X
02867  B201  C8                 INY 
02868  B202  20 79 00           JSR CHRGOT
02869  B205  C9 2C              CMP #$2C        ;','
02870  B207  F0 D2              BEQ XXB1DB
02871  B209  84 0B              STY COUNT
02872  B20B  20 F7 AE           JSR XXAEF7
02873  B20E  68                 PLA 
02874  B20F  85 0D              STA VALTYP
02875  B211  68                 PLA 
02876  B212  85 0E              STA INTFLG
02877  B214  29 7F              AND #$7F
02878  B216  85 0C              STA DIMFLG
02879  B218  A6 2F              LDX ARYTAB
02880  B21A  A5 30              LDA ARYTAB+1
02881  B21C  86 5F       XXB21C STX $5F
02882  B21E  85 60              STA $60
02883  B220  C5 32              CMP STREND+1
02884  B222  D0 04              BNE XXB228
02885  B224  E4 31              CPX STREND
02886  B226  F0 39              BEQ XXB261
02887  B228  A0 00       XXB228 LDY #$00
02888  B22A  B1 5F              LDA ($5F),Y
02889  B22C  C8                 INY 
02890  B22D  C5 45              CMP VARNAM
02891  B22F  D0 06              BNE XXB237
02892  B231  A5 46              LDA VARNAM+1
02893  B233  D1 5F              CMP ($5F),Y
02894  B235  F0 16              BEQ XXB24D
02895  B237  C8          XXB237 INY 
02896  B238  B1 5F              LDA ($5F),Y
02897  B23A  18                 CLC 
02898  B23B  65 5F              ADC $5F
02899  B23D  AA                 TAX 
02900  B23E  C8                 INY 
02901  B23F  B1 5F              LDA ($5F),Y






BASICV2A.ASM......PAGE 0057

LINE# LOC   CODE        LINE


02902  B241  65 60              ADC $60
02903  B243  90 D7              BCC XXB21C
02904  B245  A2 12       XXB245 LDX #$12        ; ERROR NUMBER
02905  B247              ;********************************
02906  B247  2C                 .BYTE $2C
02907  B248              ;********************************
02908  B248  A2 0E       XXB248 LDX #$0E        ; ERROR NUMBER
02909  B24A  4C 37 A4    XXB24A JMP XXA437
02910  B24D              ;********************************
02911  B24D              ;
02912  B24D              ;********************************
02913  B24D  A2 13       XXB24D LDX #$13        ; ERROR NUMBER
02914  B24F  A5 0C              LDA DIMFLG
02915  B251  D0 F7              BNE XXB24A
02916  B253  20 94 B1           JSR XXB194
02917  B256  A5 0B              LDA COUNT
02918  B258  A0 04              LDY #$04
02919  B25A  D1 5F              CMP ($5F),Y
02920  B25C  D0 E7              BNE XXB245
02921  B25E  4C EA B2           JMP XXB2EA
02922  B261              ;********************************
02923  B261              ; ALLOCATE ARRAY
02924  B261              ;********************************
02925  B261  20 94 B1    XXB261 JSR XXB194
02926  B264  20 08 A4           JSR XXA408
02927  B267  A0 00              LDY #$00
02928  B269  84 72              STY $72
02929  B26B  A2 05              LDX #$05
02930  B26D  A5 45              LDA VARNAM
02931  B26F  91 5F              STA ($5F),Y
02932  B271  10 01              BPL XXB274
02933  B273  CA                 DEX 
02934  B274  C8          XXB274 INY 
02935  B275  A5 46              LDA VARNAM+1
02936  B277  91 5F              STA ($5F),Y
02937  B279  10 02              BPL XXB27D
02938  B27B  CA                 DEX 
02939  B27C  CA                 DEX 
02940  B27D  86 71       XXB27D STX $71
02941  B27F  A5 0B              LDA COUNT
02942  B281  C8                 INY 
02943  B282  C8                 INY 
02944  B283  C8                 INY 
02945  B284  91 5F              STA ($5F),Y
02946  B286  A2 0B       XXB286 LDX #$0B
02947  B288  A9 00              LDA #$00
02948  B28A  24 0C              BIT DIMFLG
02949  B28C  50 08              BVC XXB296
02950  B28E  68                 PLA 
02951  B28F  18                 CLC 
02952  B290  69 01              ADC #$01
02953  B292  AA                 TAX 
02954  B293  68                 PLA 
02955  B294  69 00              ADC #$00
02956  B296  C8          XXB296 INY 






BASICV2A.ASM......PAGE 0058

LINE# LOC   CODE        LINE


02957  B297  91 5F              STA ($5F),Y
02958  B299  C8                 INY 
02959  B29A  8A                 TXA 
02960  B29B  91 5F              STA ($5F),Y
02961  B29D  20 4C B3           JSR XXB34C
02962  B2A0  86 71              STX $71
02963  B2A2  85 72              STA $72
02964  B2A4  A4 22              LDY INDEX
02965  B2A6  C6 0B              DEC COUNT
02966  B2A8  D0 DC              BNE XXB286
02967  B2AA  65 59              ADC $59
02968  B2AC  B0 5D              BCS XXB30B
02969  B2AE  85 59              STA $59
02970  B2B0  A8                 TAY 
02971  B2B1  8A                 TXA 
02972  B2B2  65 58              ADC $58
02973  B2B4  90 03              BCC XXB2B9
02974  B2B6  C8                 INY 
02975  B2B7  F0 52              BEQ XXB30B
02976  B2B9  20 08 A4    XXB2B9 JSR XXA408
02977  B2BC  85 31              STA STREND
02978  B2BE  84 32              STY STREND+1
02979  B2C0  A9 00              LDA #$00
02980  B2C2  E6 72              INC $72
02981  B2C4  A4 71              LDY $71
02982  B2C6  F0 05              BEQ XXB2CD
02983  B2C8  88          XXB2C8 DEY 
02984  B2C9  91 58              STA ($58),Y
02985  B2CB  D0 FB              BNE XXB2C8
02986  B2CD  C6 59       XXB2CD DEC $59
02987  B2CF  C6 72              DEC $72
02988  B2D1  D0 F5              BNE XXB2C8
02989  B2D3  E6 59              INC $59
02990  B2D5  38                 SEC 
02991  B2D6  A5 31              LDA STREND
02992  B2D8  E5 5F              SBC $5F
02993  B2DA  A0 02              LDY #$02
02994  B2DC  91 5F              STA ($5F),Y
02995  B2DE  A5 32              LDA STREND+1
02996  B2E0  C8                 INY 
02997  B2E1  E5 60              SBC $60
02998  B2E3  91 5F              STA ($5F),Y
02999  B2E5  A5 0C              LDA DIMFLG
03000  B2E7  D0 62              BNE XXB34B
03001  B2E9  C8                 INY
03002  B2EA              ;********************************
03003  B2EA              ; COMPUTE REFERENCE TO ARRAY ELEMENT
03004  B2EA              ;********************************
03005  B2EA  B1 5F       XXB2EA LDA ($5F),Y
03006  B2EC  85 0B              STA COUNT
03007  B2EE  A9 00              LDA #$00
03008  B2F0  85 71              STA $71
03009  B2F2  85 72       XXB2F2 STA $72
03010  B2F4  C8                 INY 
03011  B2F5  68                 PLA 






BASICV2A.ASM......PAGE 0059

LINE# LOC   CODE        LINE


03012  B2F6  AA                 TAX 
03013  B2F7  85 64              STA $64
03014  B2F9  68                 PLA 
03015  B2FA  85 65              STA $65
03016  B2FC  D1 5F              CMP ($5F),Y
03017  B2FE  90 0E              BCC XXB30E
03018  B300  D0 06              BNE XXB308
03019  B302  C8                 INY 
03020  B303  8A                 TXA 
03021  B304  D1 5F              CMP ($5F),Y
03022  B306  90 07              BCC XXB30F
03023  B308  4C 45 B2    XXB308 JMP XXB245
03024  B30B              ;********************************
03025  B30B              ;
03026  B30B              ;********************************
03027  B30B  4C 35 A4    XXB30B JMP XXA435
03028  B30E              ;********************************
03029  B30E              ;
03030  B30E              ;********************************
03031  B30E  C8          XXB30E INY 
03032  B30F  A5 72       XXB30F LDA $72
03033  B311  05 71              ORA $71
03034  B313  18                 CLC 
03035  B314  F0 0A              BEQ XXB320
03036  B316  20 4C B3           JSR XXB34C
03037  B319  8A                 TXA 
03038  B31A  65 64              ADC $64
03039  B31C  AA                 TAX 
03040  B31D  98                 TYA 
03041  B31E  A4 22              LDY INDEX
03042  B320  65 65       XXB320 ADC $65
03043  B322  86 71              STX $71
03044  B324  C6 0B              DEC COUNT
03045  B326  D0 CA              BNE XXB2F2
03046  B328  85 72              STA $72
03047  B32A  A2 05              LDX #$05
03048  B32C  A5 45              LDA VARNAM
03049  B32E  10 01              BPL XXB331
03050  B330  CA                 DEX 
03051  B331  A5 46       XXB331 LDA VARNAM+1
03052  B333  10 02              BPL XXB337
03053  B335  CA                 DEX 
03054  B336  CA                 DEX 
03055  B337  86 28       XXB337 STX RESHO+2
03056  B339  A9 00              LDA #$00
03057  B33B  20 55 B3           JSR XXB355
03058  B33E  8A                 TXA 
03059  B33F  65 58              ADC $58
03060  B341  85 47              STA VARPNT
03061  B343  98                 TYA 
03062  B344  65 59              ADC $59
03063  B346  85 48              STA VARPNT+1
03064  B348  A8                 TAY 
03065  B349  A5 47              LDA VARPNT
03066  B34B  60          XXB34B RTS 






BASICV2A.ASM......PAGE 0060

LINE# LOC   CODE        LINE


03067  B34C              ;********************************
03068  B34C              ; XY = XA = LENGTH * LIMIT FROM ARRAY DATA
03069  B34C              ;********************************
03070  B34C  84 22       XXB34C STY INDEX
03071  B34E  B1 5F              LDA ($5F),Y
03072  B350  85 28              STA RESHO+2
03073  B352  88                 DEY 
03074  B353  B1 5F              LDA ($5F),Y
03075  B355  85 29       XXB355 STA RESHO+3
03076  B357  A9 10              LDA #$10
03077  B359  85 5D              STA $5D
03078  B35B  A2 00              LDX #$00
03079  B35D  A0 00              LDY #$00
03080  B35F  8A          XXB35F TXA 
03081  B360  0A                 ASL A
03082  B361  AA                 TAX 
03083  B362  98                 TYA 
03084  B363  2A                 ROL A
03085  B364  A8                 TAY 
03086  B365  B0 A4              BCS XXB30B
03087  B367  06 71              ASL $71
03088  B369  26 72              ROL $72
03089  B36B  90 0B              BCC XXB378
03090  B36D  18                 CLC 
03091  B36E  8A                 TXA 
03092  B36F  65 28              ADC RESHO+2
03093  B371  AA                 TAX 
03094  B372  98                 TYA 
03095  B373  65 29              ADC RESHO+3
03096  B375  A8                 TAY 
03097  B376  B0 93              BCS XXB30B
03098  B378  C6 5D       XXB378 DEC $5D
03099  B37A  D0 E3              BNE XXB35F
03100  B37C  60                 RTS 
03101  B37D              ;********************************
03102  B37D              ; FRE FUNCTION
03103  B37D              ;********************************
03104  B37D  A5 0D       XXB37D LDA VALTYP
03105  B37F  F0 03              BEQ XXB384
03106  B381  20 A6 B6           JSR XXB6A6
03107  B384  20 26 B5    XXB384 JSR XXB526
03108  B387  38                 SEC 
03109  B388  A5 33              LDA FRETOP
03110  B38A  E5 31              SBC STREND
03111  B38C  A8                 TAY 
03112  B38D  A5 34              LDA FRETOP+1
03113  B38F  E5 32              SBC STREND+1
03114  B391              ;********************************
03115  B391              ; ROUTINE TO CONVERT INTEGER TO FLOAT
03116  B391              ;********************************
03117  B391  A2 00       XXB391 LDX #$00
03118  B393  86 0D              STX VALTYP
03119  B395  85 62              STA $62
03120  B397  84 63              STY $63
03121  B399  A2 90              LDX #$90






BASICV2A.ASM......PAGE 0061

LINE# LOC   CODE        LINE


03122  B39B  4C 44 BC           JMP XXBC44
03123  B39E              ;********************************
03124  B39E              ; POS FUNCTION
03125  B39E              ;********************************
03126  B39E  38          XXB39E SEC 
03127  B39F  20 F0 FF           JSR PLOT
03128  B3A2  A9 00       XXB3A2 LDA #$00
03129  B3A4  F0 EB              BEQ XXB391
03130  B3A6              ;********************************
03131  B3A6              ; CHECK FOR NON-DIRECT MODE
03132  B3A6              ;********************************
03133  B3A6  A6 3A       XXB3A6 LDX CURLIN+1
03134  B3A8  E8                 INX 
03135  B3A9  D0 A0              BNE XXB34B
03136  B3AB  A2 15              LDX #$15        ; ERROR NUMBER
03137  B3AD              ;********************************
03138  B3AD  2C                 .BYTE $2C
03139  B3AE              ;********************************
03140  B3AE  A2 1B       XXB3AE LDX #$1B        ; ERROR NUMBER
03141  B3B0  4C 37 A4           JMP XXA437
03142  B3B3              ;********************************
03143  B3B3              ; DEF COMMAND
03144  B3B3              ;********************************
03145  B3B3  20 E1 B3    ZZB3B3 JSR XXB3E1
03146  B3B6  20 A6 B3           JSR XXB3A6
03147  B3B9  20 FA AE           JSR XXAEFA
03148  B3BC  A9 80              LDA #$80
03149  B3BE  85 10              STA SUBFLG
03150  B3C0  20 8B B0           JSR XXB08B
03151  B3C3  20 8D AD           JSR XXAD8D
03152  B3C6  20 F7 AE           JSR XXAEF7
03153  B3C9  A9 B2              LDA #$B2
03154  B3CB  20 FF AE           JSR XXAEFF
03155  B3CE  48                 PHA 
03156  B3CF  A5 48              LDA VARPNT+1
03157  B3D1  48                 PHA 
03158  B3D2  A5 47              LDA VARPNT
03159  B3D4  48                 PHA 
03160  B3D5  A5 7B              LDA TXTPTR+1
03161  B3D7  48                 PHA 
03162  B3D8  A5 7A              LDA TXTPTR
03163  B3DA  48                 PHA 
03164  B3DB  20 F8 A8           JSR XXA8F8
03165  B3DE  4C 4F B4           JMP XXB44F
03166  B3E1              ;********************************
03167  B3E1              ; GET FUNCTION NAME
03168  B3E1              ;********************************
03169  B3E1  A9 A5       XXB3E1 LDA #$A5
03170  B3E3  20 FF AE           JSR XXAEFF
03171  B3E6  09 80              ORA #$80
03172  B3E8  85 10              STA SUBFLG
03173  B3EA  20 92 B0           JSR XXB092
03174  B3ED  85 4E              STA DEFPNT
03175  B3EF  84 4F              STY DEFPNT+1
03176  B3F1  4C 8D AD           JMP XXAD8D






BASICV2A.ASM......PAGE 0062

LINE# LOC   CODE        LINE


03177  B3F4              ;********************************
03178  B3F4              ; EXPAND FN CALL
03179  B3F4              ;********************************
03180  B3F4  20 E1 B3    XXB3F4 JSR XXB3E1
03181  B3F7  A5 4F              LDA DEFPNT+1
03182  B3F9  48                 PHA 
03183  B3FA  A5 4E              LDA DEFPNT
03184  B3FC  48                 PHA 
03185  B3FD  20 F1 AE           JSR XXAEF1
03186  B400  20 8D AD           JSR XXAD8D
03187  B403  68                 PLA 
03188  B404  85 4E              STA DEFPNT
03189  B406  68                 PLA 
03190  B407  85 4F              STA DEFPNT+1
03191  B409  A0 02              LDY #$02
03192  B40B  B1 4E              LDA (DEFPNT),Y
03193  B40D  85 47              STA VARPNT
03194  B40F  AA                 TAX 
03195  B410  C8                 INY 
03196  B411  B1 4E              LDA (DEFPNT),Y
03197  B413  F0 99              BEQ XXB3AE
03198  B415  85 48              STA VARPNT+1
03199  B417  C8                 INY 
03200  B418  B1 47       XXB418 LDA (VARPNT),Y
03201  B41A  48                 PHA 
03202  B41B  88                 DEY 
03203  B41C  10 FA              BPL XXB418
03204  B41E  A4 48              LDY VARPNT+1
03205  B420  20 D4 BB           JSR XXBBD4
03206  B423  A5 7B              LDA TXTPTR+1
03207  B425  48                 PHA 
03208  B426  A5 7A              LDA TXTPTR
03209  B428  48                 PHA 
03210  B429  B1 4E              LDA (DEFPNT),Y
03211  B42B  85 7A              STA TXTPTR
03212  B42D  C8                 INY 
03213  B42E  B1 4E              LDA (DEFPNT),Y
03214  B430  85 7B              STA TXTPTR+1
03215  B432  A5 48              LDA VARPNT+1
03216  B434  48                 PHA 
03217  B435  A5 47              LDA VARPNT
03218  B437  48                 PHA 
03219  B438  20 8A AD           JSR XXAD8A
03220  B43B  68                 PLA 
03221  B43C  85 4E              STA DEFPNT
03222  B43E  68                 PLA 
03223  B43F  85 4F              STA DEFPNT+1
03224  B441  20 79 00           JSR CHRGOT
03225  B444  F0 03              BEQ XXB449
03226  B446  4C 08 AF           JMP XXAF08
03227  B449              ;********************************
03228  B449              ;
03229  B449              ;********************************
03230  B449  68          XXB449 PLA 
03231  B44A  85 7A              STA TXTPTR






BASICV2A.ASM......PAGE 0063

LINE# LOC   CODE        LINE


03232  B44C  68                 PLA 
03233  B44D  85 7B              STA TXTPTR+1
03234  B44F  A0 00       XXB44F LDY #$00
03235  B451  68                 PLA 
03236  B452  91 4E              STA (DEFPNT),Y
03237  B454  68                 PLA 
03238  B455  C8                 INY 
03239  B456  91 4E              STA (DEFPNT),Y
03240  B458  68                 PLA 
03241  B459  C8                 INY 
03242  B45A  91 4E              STA (DEFPNT),Y
03243  B45C  68                 PLA 
03244  B45D  C8                 INY 
03245  B45E  91 4E              STA (DEFPNT),Y
03246  B460  68                 PLA 
03247  B461  C8                 INY 
03248  B462  91 4E              STA (DEFPNT),Y
03249  B464  60                 RTS 
03250  B465              ;********************************
03251  B465              ; STR$ FUNCTION
03252  B465              ;********************************
03253  B465  20 8D AD    XXB465 JSR XXAD8D
03254  B468  A0 00              LDY #$00
03255  B46A  20 DF BD           JSR XXBDDF
03256  B46D  68                 PLA 
03257  B46E  68                 PLA 
03258  B46F  A9 FF       XXB46F LDA #$FF
03259  B471  A0 00              LDY #$00
03260  B473  F0 12              BEQ XXB487
03261  B475  A6 64       XXB475 LDX $64
03262  B477  A4 65              LDY $65
03263  B479  86 50              STX DSCPNT
03264  B47B  84 51              STY DSCPNT+1
03265  B47D              ;********************************
03266  B47D              ; ALLOCATE AREA ACCORDING TO A
03267  B47D              ;********************************
03268  B47D  20 F4 B4    XXB47D JSR XXB4F4
03269  B480  86 62              STX $62
03270  B482  84 63              STY $63
03271  B484  85 61              STA $61
03272  B486  60                 RTS 
03273  B487              ;********************************
03274  B487              ; GET DESCRIPTION OF STRING INTO FLOAT ACCU
03275  B487              ;********************************
03276  B487  A2 22       XXB487 LDX #$22        ;'"'
03277  B489  86 07              STX CHARAC
03278  B48B  86 08              STX ENDCHR
03279  B48D  85 6F       XXB48D STA $6F
03280  B48F  84 70              STY $70
03281  B491  85 62              STA $62
03282  B493  84 63              STY $63
03283  B495  A0 FF              LDY #$FF
03284  B497  C8          XXB497 INY 
03285  B498  B1 6F              LDA ($6F),Y
03286  B49A  F0 0C              BEQ XXB4A8






BASICV2A.ASM......PAGE 0064

LINE# LOC   CODE        LINE


03287  B49C  C5 07              CMP CHARAC
03288  B49E  F0 04              BEQ XXB4A4
03289  B4A0  C5 08              CMP ENDCHR
03290  B4A2  D0 F3              BNE XXB497
03291  B4A4  C9 22       XXB4A4 CMP #$22        ;'"'
03292  B4A6  F0 01              BEQ XXB4A9
03293  B4A8  18          XXB4A8 CLC 
03294  B4A9  84 61       XXB4A9 STY $61
03295  B4AB  98                 TYA 
03296  B4AC  65 6F              ADC $6F
03297  B4AE  85 71              STA $71
03298  B4B0  A6 70              LDX $70
03299  B4B2  90 01              BCC XXB4B5
03300  B4B4  E8                 INX 
03301  B4B5  86 72       XXB4B5 STX $72
03302  B4B7  A5 70              LDA $70
03303  B4B9  F0 04              BEQ XXB4BF
03304  B4BB  C9 02              CMP #$02
03305  B4BD  D0 0B              BNE XXB4CA
03306  B4BF  98          XXB4BF TYA 
03307  B4C0  20 75 B4           JSR XXB475
03308  B4C3  A6 6F              LDX $6F
03309  B4C5  A4 70              LDY $70
03310  B4C7  20 88 B6           JSR XXB688
03311  B4CA              ;********************************
03312  B4CA              ; SAVE DESCRIPTOR FROM $61-$63 ON STACK
03313  B4CA              ;********************************
03314  B4CA  A6 16       XXB4CA LDX TEMPPT
03315  B4CC  E0 22              CPX #$22        ;'"'
03316  B4CE  D0 05              BNE XXB4D5
03317  B4D0  A2 19              LDX #$19
03318  B4D2  4C 37 A4    XXB4D2 JMP XXA437
03319  B4D5              ;********************************
03320  B4D5              ;
03321  B4D5              ;********************************
03322  B4D5  A5 61       XXB4D5 LDA $61
03323  B4D7  95 00              STA $00,X
03324  B4D9  A5 62              LDA $62
03325  B4DB  95 01              STA $01,X
03326  B4DD  A5 63              LDA $63
03327  B4DF  95 02              STA $02,X
03328  B4E1  A0 00              LDY #$00
03329  B4E3  86 64              STX $64
03330  B4E5  84 65              STY $65
03331  B4E7  84 70              STY $70
03332  B4E9  88                 DEY 
03333  B4EA  84 0D              STY VALTYP
03334  B4EC  86 17              STX LASTPT
03335  B4EE  E8                 INX 
03336  B4EF  E8                 INX 
03337  B4F0  E8                 INX 
03338  B4F1  86 16              STX TEMPPT
03339  B4F3  60                 RTS 
03340  B4F4              ;********************************
03341  B4F4              ; ALLOCATE NUMBER OF BYTES IN A






BASICV2A.ASM......PAGE 0065

LINE# LOC   CODE        LINE


03342  B4F4              ;********************************
03343  B4F4  46 0F       XXB4F4 LSR GARBFL
03344  B4F6  48          XXB4F6 PHA 
03345  B4F7  49 FF              EOR #$FF
03346  B4F9  38                 SEC 
03347  B4FA  65 33              ADC FRETOP
03348  B4FC  A4 34              LDY FRETOP+1
03349  B4FE  B0 01              BCS XXB501
03350  B500  88                 DEY 
03351  B501  C4 32       XXB501 CPY STREND+1
03352  B503  90 11              BCC XXB516
03353  B505  D0 04              BNE XXB50B
03354  B507  C5 31              CMP STREND
03355  B509  90 0B              BCC XXB516
03356  B50B  85 33       XXB50B STA FRETOP
03357  B50D  84 34              STY FRETOP+1
03358  B50F  85 35              STA FRESPC
03359  B511  84 36              STY FRESPC+1
03360  B513  AA                 TAX 
03361  B514  68                 PLA 
03362  B515  60                 RTS 
03363  B516              ;********************************
03364  B516              ;
03365  B516              ;********************************
03366  B516  A2 10       XXB516 LDX #$10
03367  B518  A5 0F              LDA GARBFL
03368  B51A  30 B6              BMI XXB4D2
03369  B51C  20 26 B5           JSR XXB526
03370  B51F  A9 80              LDA #$80
03371  B521  85 0F              STA GARBFL
03372  B523  68                 PLA 
03373  B524  D0 D0              BNE XXB4F6
03374  B526              ;********************************
03375  B526              ; STRING GARBAGE CLEAN UP
03376  B526              ;********************************
03377  B526  A6 37       XXB526 LDX MEMSIZ
03378  B528  A5 38              LDA MEMSIZ+1
03379  B52A  86 33       XXB52A STX FRETOP
03380  B52C  85 34              STA FRETOP+1
03381  B52E  A0 00              LDY #$00
03382  B530  84 4F              STY DEFPNT+1
03383  B532  84 4E              STY DEFPNT
03384  B534  A5 31              LDA STREND
03385  B536  A6 32              LDX STREND+1
03386  B538  85 5F              STA $5F
03387  B53A  86 60              STX $60
03388  B53C  A9 19              LDA #$19        ; LOW  0019
03389  B53E  A2 00              LDX #$00        ; HIGH 0019
03390  B540  85 22              STA INDEX
03391  B542  86 23              STX INDEX+1
03392  B544  C5 16       XXB544 CMP TEMPPT
03393  B546  F0 05              BEQ XXB54D
03394  B548  20 C7 B5           JSR XXB5C7
03395  B54B  F0 F7              BEQ XXB544
03396  B54D  A9 07       XXB54D LDA #$07






BASICV2A.ASM......PAGE 0066

LINE# LOC   CODE        LINE


03397  B54F  85 53              STA FOUR6
03398  B551  A5 2D              LDA VARTAB
03399  B553  A6 2E              LDX VARTAB+1
03400  B555  85 22              STA INDEX
03401  B557  86 23              STX INDEX+1
03402  B559  E4 30       XXB559 CPX ARYTAB+1
03403  B55B  D0 04              BNE XXB561
03404  B55D  C5 2F              CMP ARYTAB
03405  B55F  F0 05              BEQ XXB566
03406  B561  20 BD B5    XXB561 JSR XXB5BD
03407  B564  F0 F3              BEQ XXB559
03408  B566  85 58       XXB566 STA $58
03409  B568  86 59              STX $59
03410  B56A  A9 03              LDA #$03
03411  B56C  85 53              STA FOUR6
03412  B56E  A5 58       XXB56E LDA $58
03413  B570  A6 59              LDX $59
03414  B572  E4 32       XXB572 CPX STREND+1
03415  B574  D0 07              BNE XXB57D
03416  B576  C5 31              CMP STREND
03417  B578  D0 03              BNE XXB57D
03418  B57A  4C 06 B6           JMP XXB606
03419  B57D              ;********************************
03420  B57D              ;
03421  B57D              ;********************************
03422  B57D  85 22       XXB57D STA INDEX
03423  B57F  86 23              STX INDEX+1
03424  B581  A0 00              LDY #$00
03425  B583  B1 22              LDA (INDEX),Y
03426  B585  AA                 TAX 
03427  B586  C8                 INY 
03428  B587  B1 22              LDA (INDEX),Y
03429  B589  08                 PHP 
03430  B58A  C8                 INY 
03431  B58B  B1 22              LDA (INDEX),Y
03432  B58D  65 58              ADC $58
03433  B58F  85 58              STA $58
03434  B591  C8                 INY 
03435  B592  B1 22              LDA (INDEX),Y
03436  B594  65 59              ADC $59
03437  B596  85 59              STA $59
03438  B598  28                 PLP 
03439  B599  10 D3              BPL XXB56E
03440  B59B  8A                 TXA 
03441  B59C  30 D0              BMI XXB56E
03442  B59E  C8                 INY 
03443  B59F  B1 22              LDA (INDEX),Y
03444  B5A1  A0 00              LDY #$00
03445  B5A3  0A                 ASL A
03446  B5A4  69 05              ADC #$05
03447  B5A6  65 22              ADC INDEX
03448  B5A8  85 22              STA INDEX
03449  B5AA  90 02              BCC XXB5AE
03450  B5AC  E6 23              INC INDEX+1
03451  B5AE  A6 23       XXB5AE LDX INDEX+1






BASICV2A.ASM......PAGE 0067

LINE# LOC   CODE        LINE


03452  B5B0  E4 59       XXB5B0 CPX $59
03453  B5B2  D0 04              BNE XXB5B8
03454  B5B4  C5 58              CMP $58
03455  B5B6  F0 BA              BEQ XXB572
03456  B5B8  20 C7 B5    XXB5B8 JSR XXB5C7
03457  B5BB  F0 F3              BEQ XXB5B0
03458  B5BD              ;********************************
03459  B5BD              ; CHECK STRING AREA
03460  B5BD              ;********************************
03461  B5BD  B1 22              XXB5BD LDA (INDEX),Y
03462  B5BF  30 35              BMI XXB5F6
03463  B5C1  C8                 INY 
03464  B5C2  B1 22              LDA (INDEX),Y
03465  B5C4  10 30              BPL XXB5F6
03466  B5C6  C8                 INY 
03467  B5C7              ;********************************
03468  B5C7              ; CHECK STRING AREA
03469  B5C7              ;********************************
03470  B5C7  B1 22       XXB5C7 LDA (INDEX),Y
03471  B5C9  F0 2B              BEQ XXB5F6
03472  B5CB  C8                 INY 
03473  B5CC  B1 22              LDA (INDEX),Y
03474  B5CE  AA                 TAX 
03475  B5CF  C8                 INY 
03476  B5D0  B1 22              LDA (INDEX),Y
03477  B5D2  C5 34              CMP FRETOP+1
03478  B5D4  90 06              BCC XXB5DC
03479  B5D6  D0 1E              BNE XXB5F6
03480  B5D8  E4 33              CPX FRETOP
03481  B5DA  B0 1A              BCS XXB5F6
03482  B5DC  C5 60       XXB5DC CMP $60
03483  B5DE  90 16              BCC XXB5F6
03484  B5E0  D0 04              BNE XXB5E6
03485  B5E2  E4 5F              CPX $5F
03486  B5E4  90 10              BCC XXB5F6
03487  B5E6  86 5F       XXB5E6 STX $5F
03488  B5E8  85 60              STA $60
03489  B5EA  A5 22              LDA INDEX
03490  B5EC  A6 23              LDX INDEX+1
03491  B5EE  85 4E              STA DEFPNT
03492  B5F0  86 4F              STX DEFPNT+1
03493  B5F2  A5 53              LDA FOUR6
03494  B5F4  85 55              STA JMPER+1
03495  B5F6  A5 53       XXB5F6 LDA FOUR6
03496  B5F8  18                 CLC 
03497  B5F9  65 22              ADC INDEX
03498  B5FB  85 22              STA INDEX
03499  B5FD  90 02              BCC XXB601
03500  B5FF  E6 23              INC INDEX+1
03501  B601  A6 23       XXB601 LDX INDEX+1
03502  B603  A0 00              LDY #$00
03503  B605  60                 RTS 
03504  B606              ;********************************
03505  B606              ; CONTINUATION OF GARBAGE CLEAN UP
03506  B606              ;********************************






BASICV2A.ASM......PAGE 0068

LINE# LOC   CODE        LINE


03507  B606  A5 4F       XXB606 LDA DEFPNT+1
03508  B608  05 4E              ORA DEFPNT
03509  B60A  F0 F5              BEQ XXB601
03510  B60C  A5 55              LDA JMPER+1
03511  B60E  29 04              AND #$04
03512  B610  4A                 LSR A
03513  B611  A8                 TAY 
03514  B612  85 55              STA JMPER+1
03515  B614  B1 4E              LDA (DEFPNT),Y
03516  B616  65 5F              ADC $5F
03517  B618  85 5A              STA $5A
03518  B61A  A5 60              LDA $60
03519  B61C  69 00              ADC #$00
03520  B61E  85 5B              STA $5B
03521  B620  A5 33              LDA FRETOP
03522  B622  A6 34              LDX FRETOP+1
03523  B624  85 58              STA $58
03524  B626  86 59              STX $59
03525  B628  20 BF A3           JSR XXA3BF
03526  B62B  A4 55              LDY JMPER+1
03527  B62D  C8                 INY 
03528  B62E  A5 58              LDA $58
03529  B630  91 4E              STA (DEFPNT),Y
03530  B632  AA                 TAX 
03531  B633  E6 59              INC $59
03532  B635  A5 59              LDA $59
03533  B637  C8                 INY 
03534  B638  91 4E              STA (DEFPNT),Y
03535  B63A  4C 2A B5           JMP XXB52A
03536  B63D              ;********************************
03537  B63D              ; JOINING STRINGS
03538  B63D              ;********************************
03539  B63D  A5 65       XXB63D LDA $65
03540  B63F  48                 PHA 
03541  B640  A5 64              LDA $64
03542  B642  48                 PHA 
03543  B643  20 83 AE           JSR XXAE83
03544  B646  20 8F AD           JSR XXAD8F
03545  B649  68                 PLA 
03546  B64A  85 6F              STA $6F
03547  B64C  68                 PLA 
03548  B64D  85 70              STA $70
03549  B64F  A0 00              LDY #$00
03550  B651  B1 6F              LDA ($6F),Y
03551  B653  18                 CLC 
03552  B654  71 64              ADC ($64),Y
03553  B656  90 05              BCC XXB65D
03554  B658  A2 17              LDX #$17
03555  B65A  4C 37 A4           JMP XXA437
03556  B65D              ;********************************
03557  B65D              ;
03558  B65D              ;********************************
03559  B65D  20 75 B4    XXB65D JSR XXB475
03560  B660  20 7A B6           JSR XXB67A
03561  B663  A5 50              LDA DSCPNT






BASICV2A.ASM......PAGE 0069

LINE# LOC   CODE        LINE


03562  B665  A4 51              LDY DSCPNT+1
03563  B667  20 AA B6           JSR XXB6AA
03564  B66A  20 8C B6           JSR XXB68C
03565  B66D  A5 6F              LDA $6F
03566  B66F  A4 70              LDY $70
03567  B671  20 AA B6           JSR XXB6AA
03568  B674  20 CA B4           JSR XXB4CA
03569  B677  4C B8 AD           JMP XXADB8
03570  B67A              ;********************************
03571  B67A              ; MOVE STRING
03572  B67A              ;********************************
03573  B67A  A0 00       XXB67A LDY #$00
03574  B67C  B1 6F              LDA ($6F),Y
03575  B67E  48                 PHA 
03576  B67F  C8                 INY 
03577  B680  B1 6F              LDA ($6F),Y
03578  B682  AA                 TAX 
03579  B683  C8                 INY 
03580  B684  B1 6F              LDA ($6F),Y
03581  B686  A8                 TAY 
03582  B687  68                 PLA 
03583  B688              ;********************************
03584  B688              ; MOVE STRING WITH LENGTH A, POINTER IN XY
03585  B688              ;********************************
03586  B688  86 22       XXB688 STX INDEX
03587  B68A  84 23              STY INDEX+1
03588  B68C  A8          XXB68C TAY 
03589  B68D  F0 0A              BEQ XXB699
03590  B68F  48                 PHA 
03591  B690  88          XXB690 DEY 
03592  B691  B1 22              LDA (INDEX),Y
03593  B693  91 35              STA (FRESPC),Y
03594  B695  98                 TYA 
03595  B696  D0 F8              BNE XXB690
03596  B698  68                 PLA 
03597  B699  18          XXB699 CLC 
03598  B69A  65 35              ADC FRESPC
03599  B69C  85 35              STA FRESPC
03600  B69E  90 02              BCC XXB6A2
03601  B6A0  E6 36              INC FRESPC+1
03602  B6A2  60          XXB6A2 RTS 
03603  B6A3              ;********************************
03604  B6A3              ; DE-ALLOCATE TEMPORARY STRING
03605  B6A3              ;********************************
03606  B6A3  20 8F AD    XXB6A3 JSR XXAD8F
03607  B6A6  A5 64       XXB6A6 LDA $64
03608  B6A8  A4 65              LDY $65
03609  B6AA  85 22       XXB6AA STA INDEX
03610  B6AC  84 23              STY INDEX+1
03611  B6AE  20 DB B6           JSR XXB6DB
03612  B6B1  08                 PHP 
03613  B6B2  A0 00              LDY #$00
03614  B6B4  B1 22              LDA (INDEX),Y
03615  B6B6  48                 PHA 
03616  B6B7  C8                 INY 






BASICV2A.ASM......PAGE 0070

LINE# LOC   CODE        LINE


03617  B6B8  B1 22              LDA (INDEX),Y
03618  B6BA  AA                 TAX 
03619  B6BB  C8                 INY 
03620  B6BC  B1 22              LDA (INDEX),Y
03621  B6BE  A8                 TAY 
03622  B6BF  68                 PLA 
03623  B6C0  28                 PLP 
03624  B6C1  D0 13              BNE XXB6D6
03625  B6C3  C4 34              CPY FRETOP+1
03626  B6C5  D0 0F              BNE XXB6D6
03627  B6C7  E4 33              CPX FRETOP
03628  B6C9  D0 0B              BNE XXB6D6
03629  B6CB  48                 PHA 
03630  B6CC  18                 CLC 
03631  B6CD  65 33              ADC FRETOP
03632  B6CF  85 33              STA FRETOP
03633  B6D1  90 02              BCC XXB6D5
03634  B6D3  E6 34              INC FRETOP+1
03635  B6D5  68          XXB6D5 PLA 
03636  B6D6  86 22       XXB6D6 STX INDEX
03637  B6D8  84 23              STY INDEX+1
03638  B6DA  60                 RTS 
03639  B6DB              ;********************************
03640  B6DB              ; CHECK DESCRIPTOR STACK
03641  B6DB              ;********************************
03642  B6DB  C4 18       XXB6DB CPY LASTPT+1
03643  B6DD  D0 0C              BNE XXB6EB
03644  B6DF  C5 17              CMP LASTPT
03645  B6E1  D0 08              BNE XXB6EB
03646  B6E3  85 16              STA TEMPPT
03647  B6E5  E9 03              SBC #$03
03648  B6E7  85 17              STA LASTPT
03649  B6E9  A0 00              LDY #$00
03650  B6EB  60          XXB6EB RTS 
03651  B6EC              ;********************************
03652  B6EC              ; CHR$ FUNCTION
03653  B6EC              ;********************************
03654  B6EC  20 A1 B7    XXB6EC JSR XXB7A1
03655  B6EF  8A                 TXA 
03656  B6F0  48                 PHA 
03657  B6F1  A9 01              LDA #$01
03658  B6F3  20 7D B4           JSR XXB47D
03659  B6F6  68                 PLA 
03660  B6F7  A0 00              LDY #$00
03661  B6F9  91 62              STA ($62),Y
03662  B6FB  68                 PLA 
03663  B6FC  68                 PLA 
03664  B6FD  4C CA B4           JMP XXB4CA
03665  B700              ;********************************
03666  B700              ; LEFT$ FUNCTION
03667  B700              ;********************************
03668  B700  20 61 B7    XXB700 JSR XXB761
03669  B703  D1 50              CMP (DSCPNT),Y
03670  B705  98                 TYA 
03671  B706  90 04       XXB706 BCC XXB70C






BASICV2A.ASM......PAGE 0071

LINE# LOC   CODE        LINE


03672  B708  B1 50              LDA (DSCPNT),Y
03673  B70A  AA                 TAX 
03674  B70B  98                 TYA 
03675  B70C  48          XXB70C PHA 
03676  B70D  8A          XXB70D TXA 
03677  B70E  48          XXB70E PHA 
03678  B70F  20 7D B4           JSR XXB47D
03679  B712  A5 50              LDA DSCPNT
03680  B714  A4 51              LDY DSCPNT+1
03681  B716  20 AA B6           JSR XXB6AA
03682  B719  68                 PLA 
03683  B71A  A8                 TAY 
03684  B71B  68                 PLA 
03685  B71C  18                 CLC 
03686  B71D  65 22              ADC INDEX
03687  B71F  85 22              STA INDEX
03688  B721  90 02              BCC XXB725
03689  B723  E6 23              INC INDEX+1
03690  B725  98          XXB725 TYA 
03691  B726  20 8C B6           JSR XXB68C
03692  B729  4C CA B4           JMP XXB4CA
03693  B72C              ;********************************
03694  B72C              ; RIGHT$ FUNCTIO
03695  B72C              ;********************************
03696  B72C  20 61 B7    XXB72C JSR XXB761
03697  B72F  18                 CLC 
03698  B730  F1 50              SBC (DSCPNT),Y
03699  B732  49 FF              EOR #$FF
03700  B734  4C 06 B7           JMP XXB706
03701  B737              ;********************************
03702  B737              ; MID$ FUNCTION
03703  B737              ;********************************
03704  B737  A9 FF       XXB737 LDA #$FF        ; DEFAULT 3 PARAMETER
03705  B739  85 65              STA $65
03706  B73B  20 79 00           JSR CHRGOT
03707  B73E  C9 29              CMP #$29        ;')'
03708  B740  F0 06              BEQ XXB748
03709  B742  20 FD AE           JSR XXAEFD
03710  B745  20 9E B7           JSR XXB79E
03711  B748  20 61 B7    XXB748 JSR XXB761
03712  B74B  F0 4B              BEQ XXB798
03713  B74D  CA                 DEX 
03714  B74E  8A                 TXA 
03715  B74F  48                 PHA 
03716  B750  18                 CLC 
03717  B751  A2 00              LDX #$00
03718  B753  F1 50              SBC (DSCPNT),Y
03719  B755  B0 B6              BCS XXB70D
03720  B757  49 FF              EOR #$FF
03721  B759  C5 65              CMP $65
03722  B75B  90 B1              BCC XXB70E
03723  B75D  A5 65              LDA $65
03724  B75F  B0 AD              BCS XXB70E
03725  B761              ;********************************
03726  B761              ; GET FIRST 2 PARAMETERS FOR






BASICV2A.ASM......PAGE 0072

LINE# LOC   CODE        LINE


03727  B761              ; LEFT$, RIGHT$ AND MID$
03728  B761              ;********************************
03729  B761  20 F7 AE    XXB761 JSR XXAEF7
03730  B764  68                 PLA 
03731  B765  A8                 TAY 
03732  B766  68                 PLA 
03733  B767  85 55              STA JMPER+1
03734  B769  68                 PLA 
03735  B76A  68                 PLA 
03736  B76B  68                 PLA 
03737  B76C  AA                 TAX 
03738  B76D  68                 PLA 
03739  B76E  85 50              STA DSCPNT
03740  B770  68                 PLA 
03741  B771  85 51              STA DSCPNT+1
03742  B773  A5 55              LDA JMPER+1
03743  B775  48                 PHA 
03744  B776  98                 TYA 
03745  B777  48                 PHA 
03746  B778  A0 00              LDY #$00
03747  B77A  8A                 TXA 
03748  B77B  60                 RTS 
03749  B77C              ;********************************
03750  B77C              ; LEN FUNCTION
03751  B77C              ;********************************
03752  B77C  20 82 B7    XXB77C JSR XXB782
03753  B77F  4C A2 B3           JMP XXB3A2
03754  B782              ;********************************
03755  B782              ;
03756  B782              ;********************************
03757  B782  20 A3 B6    XXB782 JSR XXB6A3
03758  B785  A2 00              LDX #$00
03759  B787  86 0D              STX VALTYP
03760  B789  A8                 TAY 
03761  B78A  60                 RTS 
03762  B78B              ;********************************
03763  B78B              ; ASC FUNCTION
03764  B78B              ;********************************
03765  B78B  20 82 B7    XXB78B JSR XXB782
03766  B78E  F0 08              BEQ XXB798
03767  B790  A0 00              LDY #$00
03768  B792  B1 22              LDA (INDEX),Y
03769  B794  A8                 TAY 
03770  B795  4C A2 B3           JMP XXB3A2
03771  B798              ;********************************
03772  B798              ;
03773  B798              ;********************************
03774  B798  4C 48 B2    XXB798 JMP XXB248
03775  B79B              ;********************************
03776  B79B              ; FETCH INTEGER VALUE IN X AND CHECK RANGE
03777  B79B              ;********************************
03778  B79B  20 73 00    XXB79B JSR CHRGET
03779  B79E  20 8A AD    XXB79E JSR XXAD8A
03780  B7A1  20 B8 B1    XXB7A1 JSR XXB1B8
03781  B7A4  A6 64              LDX $64






BASICV2A.ASM......PAGE 0073

LINE# LOC   CODE        LINE


03782  B7A6  D0 F0              BNE XXB798
03783  B7A8  A6 65              LDX $65
03784  B7AA  4C 79 00           JMP CHRGOT
03785  B7AD              ;********************************
03786  B7AD              ; VAL FUNCTION
03787  B7AD              ;********************************
03788  B7AD  20 82 B7    XXB7AD JSR XXB782
03789  B7B0  D0 03              BNE XXB7B5
03790  B7B2  4C F7 B8           JMP XXB8F7
03791  B7B5              ;********************************
03792  B7B5              ;
03793  B7B5              ;********************************
03794  B7B5  A6 7A       XXB7B5 LDX TXTPTR
03795  B7B7  A4 7B              LDY TXTPTR+1
03796  B7B9  86 71              STX $71
03797  B7BB  84 72              STY $72
03798  B7BD  A6 22              LDX INDEX
03799  B7BF  86 7A              STX TXTPTR
03800  B7C1  18                 CLC 
03801  B7C2  65 22              ADC INDEX
03802  B7C4  85 24              STA INDEX+2
03803  B7C6  A6 23              LDX INDEX+1
03804  B7C8  86 7B              STX TXTPTR+1
03805  B7CA  90 01              BCC XXB7CD
03806  B7CC  E8                 INX 
03807  B7CD  86 25       XXB7CD STX INDEX+3
03808  B7CF  A0 00              LDY #$00
03809  B7D1  B1 24              LDA (INDEX+2),Y
03810  B7D3  48                 PHA 
03811  B7D4  98                 TYA 
03812  B7D5  91 24              STA (INDEX+2),Y
03813  B7D7  20 79 00           JSR CHRGOT
03814  B7DA  20 F3 BC           JSR XXBCF3
03815  B7DD  68                 PLA 
03816  B7DE  A0 00              LDY #$00
03817  B7E0  91 24              STA (INDEX+2),Y
03818  B7E2  A6 71       XXB7E2 LDX $71
03819  B7E4  A4 72              LDY $72
03820  B7E6  86 7A              STX TXTPTR
03821  B7E8  84 7B              STY TXTPTR+1
03822  B7EA  60                 RTS 
03823  B7EB              ;********************************
03824  B7EB              ; GET ADDRESS INTO LINNUM/LINNUM+1 AND INTEGER IN
 X
03825  B7EB              ;********************************
03826  B7EB  20 8A AD    XXB7EB JSR XXAD8A
03827  B7EE  20 F7 B7           JSR XXB7F7
03828  B7F1  20 FD AE    XXB7F1 JSR XXAEFD
03829  B7F4  4C 9E B7           JMP XXB79E
03830  B7F7              ;********************************
03831  B7F7              ; CONVERT FLOAT TI INTEGER IN LINNUM/$1
03832  B7F7              ;********************************
03833  B7F7  A5 66       XXB7F7 LDA $66
03834  B7F9  30 9D              BMI XXB798
03835  B7FB  A5 61              LDA $61
03836  B7FD  C9 91              CMP #$91






BASICV2A.ASM......PAGE 0074

LINE# LOC   CODE        LINE


03837  B7FF  B0 97              BCS XXB798
03838  B801  20 9B BC           JSR XXBC9B
03839  B804  A5 64              LDA $64
03840  B806  A4 65              LDY $65
03841  B808  84 14              STY LINNUM
03842  B80A  85 15              STA LINNUM+1
03843  B80C  60                 RTS 
03844  B80D              ;********************************
03845  B80D              ; PEEK FUNCTIO
03846  B80D              ;********************************
03847  B80D  A5 15       XXB80D LDA LINNUM+1
03848  B80F  48                 PHA 
03849  B810  A5 14              LDA LINNUM
03850  B812  48                 PHA 
03851  B813  20 F7 B7           JSR XXB7F7
03852  B816  A0 00              LDY #$00
03853  B818  B1 14              LDA (LINNUM),Y
03854  B81A  A8                 TAY 
03855  B81B  68                 PLA 
03856  B81C  85 14              STA LINNUM
03857  B81E  68                 PLA 
03858  B81F  85 15              STA LINNUM+1
03859  B821  4C A2 B3           JMP XXB3A2
03860  B824              ;********************************
03861  B824              ; POKE COMMAND
03862  B824              ;********************************
03863  B824  20 EB B7    ZZB824 JSR XXB7EB
03864  B827  8A                 TXA 
03865  B828  A0 00              LDY #$00
03866  B82A  91 14              STA (LINNUM),Y
03867  B82C  60          XXB82C RTS 
03868  B82D              ;********************************
03869  B82D              ; WAIT COMMAND
03870  B82D              ;********************************
03871  B82D  20 EB B7    ZZB82D JSR XXB7EB
03872  B830  86 49              STX FORPNT
03873  B832  A2 00              LDX #$00
03874  B834  20 79 00           JSR CHRGOT
03875  B837  F0 03              BEQ XXB83C
03876  B839  20 F1 B7           JSR XXB7F1
03877  B83C  86 4A       XXB83C STX FORPNT+1
03878  B83E  A0 00              LDY #$00
03879  B840  B1 14       XXB840 LDA (LINNUM),Y
03880  B842  45 4A              EOR FORPNT+1
03881  B844  25 49              AND FORPNT
03882  B846  F0 F8              BEQ XXB840
03883  B848  60          XXB848 RTS 
03884  B849              ;********************************
03885  B849              ; ADD 0.5 TO FLOAT ACCU (ROUNDING)
03886  B849              ;********************************
03887  B849  A9 11       XXB849 LDA #$11
03888  B84B  A0 BF              LDY #$BF
03889  B84D  4C 67 B8           JMP XXB867
03890  B850              ;********************************
03891  B850              ; MINUS OPERATOR






BASICV2A.ASM......PAGE 0075

LINE# LOC   CODE        LINE


03892  B850              ;********************************
03893  B850  20 8C BA    XXB850 JSR XXBA8C
03894  B853  A5 66       KKB853 LDA $66
03895  B855  49 FF              EOR #$FF
03896  B857  85 66              STA $66
03897  B859  45 6E              EOR $6E
03898  B85B  85 6F              STA $6F
03899  B85D  A5 61              LDA $61
03900  B85F  4C 6A B8           JMP XXB86A
03901  B862              ;********************************
03902  B862              ;
03903  B862              ;********************************
03904  B862  20 99 B9    XXB862 JSR XXB999
03905  B865  90 3C              BCC XXB8A3
03906  B867              ;********************************
03907  B867              ; ADD FLOAT INDEXED BY AY TO FLOAT ACCU
03908  B867              ;********************************
03909  B867  20 8C BA    XXB867 JSR XXBA8C
03910  B86A              ;********************************
03911  B86A              ; PLUS OPERATOR
03912  B86A              ;********************************
03913  B86A  D0 03       XXB86A BNE XXB86F
03914  B86C  4C FC BB           JMP XXBBFC
03915  B86F              ;********************************
03916  B86F              ;
03917  B86F              ;********************************
03918  B86F  A6 70       XXB86F LDX $70
03919  B871  86 56              STX JMPER+2
03920  B873  A2 69              LDX #$69
03921  B875  A5 69              LDA $69
03922  B877  A8          XXB877 TAY 
03923  B878  F0 CE              BEQ XXB848
03924  B87A  38                 SEC 
03925  B87B  E5 61              SBC $61
03926  B87D  F0 24              BEQ XXB8A3
03927  B87F  90 12              BCC XXB893
03928  B881  84 61              STY $61
03929  B883  A4 6E              LDY $6E
03930  B885  84 66              STY $66
03931  B887  49 FF              EOR #$FF
03932  B889  69 00              ADC #$00
03933  B88B  A0 00              LDY #$00
03934  B88D  84 56              STY JMPER+2
03935  B88F  A2 61              LDX #$61
03936  B891  D0 04              BNE XXB897
03937  B893  A0 00       XXB893 LDY #$00
03938  B895  84 70              STY $70
03939  B897  C9 F9       XXB897 CMP #$F9
03940  B899  30 C7              BMI XXB862
03941  B89B  A8                 TAY 
03942  B89C  A5 70              LDA $70
03943  B89E  56 01              LSR $01,X
03944  B8A0  20 B0 B9           JSR XXB9B0
03945  B8A3  24 6F       XXB8A3 BIT $6F
03946  B8A5  10 57              BPL XXB8FE






BASICV2A.ASM......PAGE 0076

LINE# LOC   CODE        LINE


03947  B8A7  A0 61              LDY #$61
03948  B8A9  E0 69              CPX #$69
03949  B8AB  F0 02              BEQ XXB8AF
03950  B8AD  A0 69              LDY #$69
03951  B8AF  38          XXB8AF SEC 
03952  B8B0  49 FF              EOR #$FF
03953  B8B2  65 56              ADC JMPER+2
03954  B8B4  85 70              STA $70
03955  B8B6  B9 04 00           LDA $0004,Y
03956  B8B9  F5 04              SBC ADRAY1+1,X
03957  B8BB  85 65              STA $65
03958  B8BD  B9 03 00           LDA $0003,Y
03959  B8C0  F5 03              SBC ADRAY1,X
03960  B8C2  85 64              STA $64
03961  B8C4  B9 02 00           LDA $0002,Y
03962  B8C7  F5 02              SBC $02,X
03963  B8C9  85 63              STA $63
03964  B8CB  B9 01 00           LDA $0001,Y
03965  B8CE  F5 01              SBC $01,X
03966  B8D0  85 62              STA $62
03967  B8D2  B0 03       XXB8D2 BCS XXB8D7
03968  B8D4  20 47 B9           JSR XXB947
03969  B8D7  A0 00       XXB8D7 LDY #$00
03970  B8D9  98                 TYA 
03971  B8DA  18                 CLC 
03972  B8DB  A6 62       XXB8DB LDX $62
03973  B8DD  D0 4A              BNE XXB929
03974  B8DF  A6 63              LDX $63
03975  B8E1  86 62              STX $62
03976  B8E3  A6 64              LDX $64
03977  B8E5  86 63              STX $63
03978  B8E7  A6 65              LDX $65
03979  B8E9  86 64              STX $64
03980  B8EB  A6 70              LDX $70
03981  B8ED  86 65              STX $65
03982  B8EF  84 70              STY $70
03983  B8F1  69 08              ADC #$08
03984  B8F3  C9 20              CMP #$20        ;' '
03985  B8F5  D0 E4              BNE XXB8DB
03986  B8F7  A9 00       XXB8F7 LDA #$00
03987  B8F9  85 61       XXB8F9 STA $61
03988  B8FB  85 66       XXB8FB STA $66
03989  B8FD  60                 RTS 
03990  B8FE              ;********************************
03991  B8FE              ; ADD FRACTIONS
03992  B8FE              ;********************************
03993  B8FE  65 56       XXB8FE ADC JMPER+2
03994  B900  85 70              STA $70
03995  B902  A5 65              LDA $65
03996  B904  65 6D              ADC $6D
03997  B906  85 65              STA $65
03998  B908  A5 64              LDA $64
03999  B90A  65 6C              ADC $6C
04000  B90C  85 64              STA $64
04001  B90E  A5 63              LDA $63






BASICV2A.ASM......PAGE 0077

LINE# LOC   CODE        LINE


04002  B910  65 6B              ADC $6B
04003  B912  85 63              STA $63
04004  B914  A5 62              LDA $62
04005  B916  65 6A              ADC $6A
04006  B918  85 62              STA $62
04007  B91A  4C 36 B9           JMP XXB936
04008  B91D              ;********************************
04009  B91D              ; POSTSHIFT
04010  B91D              ;********************************
04011  B91D  69 01       XXB91D ADC #$01
04012  B91F  06 70              ASL $70
04013  B921  26 65              ROL $65
04014  B923  26 64              ROL $64
04015  B925  26 63              ROL $63
04016  B927  26 62              ROL $62
04017  B929  10 F2       XXB929 BPL XXB91D
04018  B92B  38                 SEC 
04019  B92C  E5 61              SBC $61
04020  B92E  B0 C7              BCS XXB8F7
04021  B930  49 FF              EOR #$FF
04022  B932  69 01              ADC #$01
04023  B934  85 61              STA $61
04024  B936  90 0E       XXB936 BCC XXB946
04025  B938  E6 61       XXB938 INC $61
04026  B93A  F0 42              BEQ XXB97E
04027  B93C  66 62              ROR $62
04028  B93E  66 63              ROR $63
04029  B940  66 64              ROR $64
04030  B942  66 65              ROR $65
04031  B944  66 70              ROR $70
04032  B946  60          XXB946 RTS 
04033  B947              ;********************************
04034  B947              ; NEGATE FLOAT ACCU
04035  B947              ;********************************
04036  B947  A5 66       XXB947 LDA $66
04037  B949  49 FF              EOR #$FF
04038  B94B  85 66              STA $66
04039  B94D  A5 62       XXB94D LDA $62
04040  B94F  49 FF              EOR #$FF
04041  B951  85 62              STA $62
04042  B953  A5 63              LDA $63
04043  B955  49 FF              EOR #$FF
04044  B957  85 63              STA $63
04045  B959  A5 64              LDA $64
04046  B95B  49 FF              EOR #$FF
04047  B95D  85 64              STA $64
04048  B95F  A5 65              LDA $65
04049  B961  49 FF              EOR #$FF
04050  B963  85 65              STA $65
04051  B965  A5 70              LDA $70
04052  B967  49 FF              EOR #$FF
04053  B969  85 70              STA $70
04054  B96B  E6 70              INC $70
04055  B96D  D0 0E              BNE XXB97D
04056  B96F              ;********************************






BASICV2A.ASM......PAGE 0078

LINE# LOC   CODE        LINE


04057  B96F              ; INCREMENT FRACTION
04058  B96F              ;********************************
04059  B96F  E6 65       XXB96F INC $65
04060  B971  D0 0A              BNE XXB97D
04061  B973  E6 64              INC $64
04062  B975  D0 06              BNE XXB97D
04063  B977  E6 63              INC $63
04064  B979  D0 02              BNE XXB97D
04065  B97B  E6 62              INC $62
04066  B97D  60          XXB97D RTS 
04067  B97E              ;********************************
04068  B97E              ;
04069  B97E              ;********************************
04070  B97E  A2 0F       XXB97E LDX #$0F        ; ERROR NUMBER
04071  B980  4C 37 A4           JMP XXA437
04072  B983              ;********************************
04073  B983              ; PRESHIFT
04074  B983              ;********************************
04075  B983  A2 25       XXB983 LDX #$25        ;'%'
04076  B985  B4 04       XXB985 LDY ADRAY1+1,X
04077  B987  84 70              STY $70
04078  B989  B4 03              LDY ADRAY1,X
04079  B98B  94 04              STY ADRAY1+1,X
04080  B98D  B4 02              LDY $02,X
04081  B98F  94 03              STY ADRAY1,X
04082  B991  B4 01              LDY $01,X
04083  B993  94 02              STY $02,X
04084  B995  A4 68              LDY $68
04085  B997  94 01              STY $01,X
04086  B999  69 08       XXB999 ADC #$08
04087  B99B  30 E8              BMI XXB985
04088  B99D  F0 E6              BEQ XXB985
04089  B99F  E9 08              SBC #$08
04090  B9A1  A8                 TAY 
04091  B9A2  A5 70              LDA $70
04092  B9A4  B0 14              BCS XXB9BA
04093  B9A6  16 01       XXB9A6 ASL $01,X
04094  B9A8  90 02              BCC XXB9AC
04095  B9AA  F6 01              INC $01,X
04096  B9AC  76 01       XXB9AC ROR $01,X
04097  B9AE  76 01              ROR $01,X
04098  B9B0  76 02       XXB9B0 ROR $02,X
04099  B9B2  76 03              ROR ADRAY1,X
04100  B9B4  76 04              ROR ADRAY1+1,X
04101  B9B6  6A                 ROR A
04102  B9B7  C8                 INY 
04103  B9B8  D0 EC              BNE XXB9A6
04104  B9BA  18          XXB9BA CLC 
04105  B9BB  60                 RTS 
04106  B9BC              ;********************************
04107  B9BC              ; 1
04108  B9BC              ;********************************
04109  B9BC  81          WWB9BC .BYTE $81
04110  B9BD  00                 .BYTE $00
04111  B9BE  00                 .BYTE $00






BASICV2A.ASM......PAGE 0079

LINE# LOC   CODE        LINE


04112  B9BF  00                 .BYTE $00
04113  B9C0  00                 .BYTE $00
04114  B9C1              ;********************************
04115  B9C1              ; LOG POLYNOMIAL TABLE
04116  B9C1              ;********************************
04117  B9C1  03          WWB9C1 .BYTE $03       ; DEGREE 4
04118  B9C2  7F                 .BYTE $7F
04119  B9C3  5E                 .BYTE $5E
04120  B9C4  56                 .BYTE $56
04121  B9C5  CB                 .BYTE $CB
04122  B9C6  79                 .BYTE $79
04123  B9C7  80                 .BYTE $80
04124  B9C8  13                 .BYTE $13
04125  B9C9  9B                 .BYTE $9B
04126  B9CA  0B                 .BYTE $0B
04127  B9CB  64                 .BYTE $64
04128  B9CC  80                 .BYTE $80
04129  B9CD  76                 .BYTE $76
04130  B9CE  38                 .BYTE $38
04131  B9CF  93                 .BYTE $93
04132  B9D0  16                 .BYTE $16
04133  B9D1  82                 .BYTE $82
04134  B9D2  38                 .BYTE $38
04135  B9D3  AA                 .BYTE $AA
04136  B9D4  3B                 .BYTE $3B
04137  B9D5  20                 .BYTE $20
04138  B9D6              ;********************************
04139  B9D6              ; 0,5 * SQR(2)
04140  B9D6              ;********************************
04141  B9D6  80          WWB9D6 .BYTE $80
04142  B9D7  35                 .BYTE $35
04143  B9D8  04                 .BYTE $04
04144  B9D9  F3                 .BYTE $F3
04145  B9DA  34                 .BYTE $34
04146  B9DB              ;********************************
04147  B9DB              ; SQR(2)
04148  B9DB              ;********************************
04149  B9DB  81          WWB9DB .BYTE $81
04150  B9DC  35                 .BYTE $35
04151  B9DD  04                 .BYTE $04
04152  B9DE  F3                 .BYTE $F3
04153  B9DF  34                 .BYTE $34
04154  B9E0              ;********************************
04155  B9E0              ; -0.5
04156  B9E0              ;********************************
04157  B9E0  80          WWB9E0 .BYTE $80
04158  B9E1  80                 .BYTE $80
04159  B9E2  00                 .BYTE $00
04160  B9E3  00                 .BYTE $00
04161  B9E4  00                 .BYTE $00
04162  B9E5              ;********************************
04163  B9E5              ; LOG(2)
04164  B9E5              ;********************************
04165  B9E5  80          WWB9E5 .BYTE $80
04166  B9E6  31                 .BYTE $31






BASICV2A.ASM......PAGE 0080

LINE# LOC   CODE        LINE


04167  B9E7  72                 .BYTE $72
04168  B9E8  17                 .BYTE $17
04169  B9E9  F8                 .BYTE $F8
04170  B9EA              ;********************************
04171  B9EA              ; LOG FUNCTION
04172  B9EA              ;********************************
04173  B9EA  20 2B BC    XXB9EA JSR XXBC2B
04174  B9ED  F0 02              BEQ XXB9F1
04175  B9EF  10 03              BPL XXB9F4
04176  B9F1  4C 48 B2    XXB9F1 JMP XXB248
04177  B9F4              ;********************************
04178  B9F4              ;
04179  B9F4              ;********************************
04180  B9F4  A5 61       XXB9F4 LDA $61
04181  B9F6  E9 7F              SBC #$7F
04182  B9F8  48                 PHA 
04183  B9F9  A9 80              LDA #$80
04184  B9FB  85 61              STA $61
04185  B9FD  A9 D6              LDA #<WWB9D6    ;#$D6   ; LOW  B9D6
04186  B9FF  A0 B9              LDY #>WWB9D6    ;#$B9   ; HIGH B9D6
04187  BA01  20 67 B8           JSR XXB867
04188  BA04  A9 DB              LDA #<WWB9DB    ;#$DB   ; LOW  B9DB
04189  BA06  A0 B9              LDY #>WWB9DB    ;#$B9   ; HIGH B9DB
04190  BA08  20 0F BB           JSR XXBB0F
04191  BA0B  A9 BC              LDA #<WWB9BC    ;#$BC   ; LOW  B9BC
04192  BA0D  A0 B9              LDY #>WWB9BC    ;#$B9   ; HIGH B9BC
04193  BA0F  20 50 B8           JSR XXB850
04194  BA12  A9 C1              LDA #<WWB9C1    ;#$C1   ; LOW  B9C1
04195  BA14  A0 B9              LDY #>WWB9C1    ;#$B9   ; HIGH B9C1
04196  BA16  20 43 E0           JSR POLY1
04197  BA19  A9 E0              LDA #<WWB9E0    ;#$E0   ; LOW  B9E0
04198  BA1B  A0 B9              LDY #>WWB9E0    ;#$B9   ; HIGH B9E
04199  BA1D  20 67 B8           JSR XXB867
04200  BA20  68                 PLA 
04201  BA21  20 7E BD           JSR XXBD7E
04202  BA24  A9 E5              LDA #<WWB9E5    ;#$E5   ; LOW  B9E5
04203  BA26  A0 B9              LDY #>WWB9E5    ;#$B9   ; HIGH B9E5
04204  BA28  20 8C BA    XXBA28 JSR XXBA8C
04205  BA2B              ;********************************
04206  BA2B              ; TIMES OPERATOR
04207  BA2B              ;********************************
04208  BA2B  D0 03       ZZBA2B BNE XXBA30
04209  BA2D  4C 8B BA           JMP XXBA8B
04210  BA30              ;********************************
04211  BA30              ;
04212  BA30              ;********************************
04213  BA30  20 B7 BA    XXBA30 JSR XXBAB7
04214  BA33  A9 00              LDA #$00
04215  BA35  85 26              STA RESHO
04216  BA37  85 27              STA RESHO+1
04217  BA39  85 28              STA RESHO+2
04218  BA3B  85 29              STA RESHO+3
04219  BA3D  A5 70              LDA $70
04220  BA3F  20 59 BA           JSR XXBA59
04221  BA42  A5 65              LDA $65






BASICV2A.ASM......PAGE 0081

LINE# LOC   CODE        LINE


04222  BA44  20 59 BA           JSR XXBA59
04223  BA47  A5 64              LDA $64
04224  BA49  20 59 BA           JSR XXBA59
04225  BA4C  A5 63              LDA $63
04226  BA4E  20 59 BA           JSR XXBA59
04227  BA51  A5 62              LDA $62
04228  BA53  20 5E BA           JSR XXBA5E
04229  BA56  4C 8F BB           JMP XXBB8F
04230  BA59              ;********************************
04231  BA59              ;
04232  BA59              ;********************************
04233  BA59  D0 03       XXBA59 BNE XXBA5E
04234  BA5B  4C 83 B9           JMP XXB983
04235  BA5E              ;********************************
04236  BA5E              ;
04237  BA5E              ;********************************
04238  BA5E  4A          XXBA5E LSR A
04239  BA5F  09 80              ORA #$80
04240  BA61  A8          XXBA61 TAY 
04241  BA62  90 19              BCC XXBA7D
04242  BA64  18                 CLC 
04243  BA65  A5 29              LDA RESHO+3
04244  BA67  65 6D              ADC $6D
04245  BA69  85 29              STA RESHO+3
04246  BA6B  A5 28              LDA RESHO+2
04247  BA6D  65 6C              ADC $6C
04248  BA6F  85 28              STA RESHO+2
04249  BA71  A5 27              LDA RESHO+1
04250  BA73  65 6B              ADC $6B
04251  BA75  85 27              STA RESHO+1
04252  BA77  A5 26              LDA RESHO
04253  BA79  65 6A              ADC $6A
04254  BA7B  85 26              STA RESHO
04255  BA7D  66 26       XXBA7D ROR RESHO
04256  BA7F  66 27              ROR RESHO+1
04257  BA81  66 28              ROR RESHO+2
04258  BA83  66 29              ROR RESHO+3
04259  BA85  66 70              ROR $70
04260  BA87  98                 TYA 
04261  BA88  4A                 LSR A
04262  BA89  D0 D6              BNE XXBA61
04263  BA8B  60          XXBA8B RTS 
04264  BA8C              ;********************************
04265  BA8C              ; MOVE FLOAT INDEXED BY AY INTO SECOND FLOAT ACCU

04266  BA8C              ;********************************
04267  BA8C  85 22       XXBA8C STA INDEX
04268  BA8E  84 23              STY INDEX+1
04269  BA90  A0 04              LDY #$04
04270  BA92  B1 22              LDA (INDEX),Y
04271  BA94  85 6D              STA $6D
04272  BA96  88                 DEY 
04273  BA97  B1 22              LDA (INDEX),Y
04274  BA99  85 6C              STA $6C
04275  BA9B  88                 DEY 
04276  BA9C  B1 22              LDA (INDEX),Y






BASICV2A.ASM......PAGE 0082

LINE# LOC   CODE        LINE


04277  BA9E  85 6B              STA $6B
04278  BAA0  88                 DEY 
04279  BAA1  B1 22              LDA (INDEX),Y
04280  BAA3  85 6E              STA $6E
04281  BAA5  45 66              EOR $66
04282  BAA7  85 6F              STA $6F
04283  BAA9  A5 6E              LDA $6E
04284  BAAB  09 80              ORA #$80
04285  BAAD  85 6A              STA $6A
04286  BAAF  88                 DEY 
04287  BAB0  B1 22              LDA (INDEX),Y
04288  BAB2  85 69              STA $69
04289  BAB4  A5 61              LDA $61
04290  BAB6  60                 RTS 
04291  BAB7              ;********************************
04292  BAB7              ; ADD EXPONENTS
04293  BAB7              ;********************************
04294  BAB7  A5 69       XXBAB7 LDA $69
04295  BAB9  F0 1F       KKBAB9 BEQ XXBADA
04296  BABB  18                 CLC 
04297  BABC  65 61              ADC $61
04298  BABE  90 04              BCC XXBAC4
04299  BAC0  30 1D              BMI XXBADF
04300  BAC2  18                 CLC 
04301  BAC3              ;********************************
04302  BAC3  2C                 .BYTE $2C
04303  BAC4              ;********************************
04304  BAC4  10 14       XXBAC4 BPL XXBADA
04305  BAC6  69 80              ADC #$80
04306  BAC8  85 61              STA $61
04307  BACA  D0 03       KKBACA BNE XXBACF
04308  BACC  4C FB B8           JMP XXB8FB
04309  BACF              ;********************************
04310  BACF              ;
04311  BACF              ;********************************
04312  BACF  A5 6F       XXBACF LDA $6F
04313  BAD1  85 66              STA $66
04314  BAD3  60                 RTS 
04315  BAD4              ;********************************
04316  BAD4              ;
04317  BAD4              ;********************************
04318  BAD4  A5 66       KKBAD4 LDA $66
04319  BAD6  49 FF              EOR #$FF
04320  BAD8  30 05              BMI XXBADF
04321  BADA  68          XXBADA PLA 
04322  BADB  68                 PLA 
04323  BADC  4C F7 B8           JMP XXB8F7
04324  BADF              ;********************************
04325  BADF              ;
04326  BADF              ;********************************
04327  BADF  4C 7E B9    XXBADF JMP XXB97E
04328  BAE2              ;********************************
04329  BAE2              ; MULTIPLY FLOAT ACCU BY 10
04330  BAE2              ;********************************
04331  BAE2  20 0C BC    XXBAE2 JSR XXBC0C






BASICV2A.ASM......PAGE 0083

LINE# LOC   CODE        LINE


04332  BAE5  AA                 TAX 
04333  BAE6  F0 10              BEQ XXBAF8
04334  BAE8  18                 CLC 
04335  BAE9  69 02              ADC #$02
04336  BAEB  B0 F2              BCS XXBADF
04337  BAED  A2 00       XXBAED LDX #$00
04338  BAEF  86 6F              STX $6F
04339  BAF1  20 77 B8           JSR XXB877
04340  BAF4  E6 61              INC $61
04341  BAF6  F0 E7              BEQ XXBADF
04342  BAF8  60          XXBAF8 RTS 
04343  BAF9              ;********************************
04344  BAF9              ; CONSTANT 10 FOR DIVISION
04345  BAF9              ;********************************
04346  BAF9  84          WWBAF9 .BYTE $84
04347  BAFA  20                 .BYTE $20
04348  BAFB  00                 .BYTE $00
04349  BAFC  00                 .BYTE $00
04350  BAFD  00                 .BYTE $00
04351  BAFE              ;********************************
04352  BAFE              ; DIVIDE FLOAT BY 10
04353  BAFE              ;********************************
04354  BAFE  20 0C BC    XXBAFE JSR XXBC0C
04355  BB01  A9 F9              LDA #<WWBAF9    ;#$F9   ; LOW  BAF9
04356  BB03  A0 BA              LDY #>WWBAF9    ;#$BA   ; HIGH BAF
04357  BB05  A2 00              LDX #$00
04358  BB07  86 6F       KKBB07 STX $6F
04359  BB09  20 A2 BB           JSR XXBBA2
04360  BB0C  4C 12 BB           JMP XXBB12
04361  BB0F              ;********************************
04362  BB0F              ; DIVIDE NUMBER INDEXED BY AY BY FLOAT ACCU
04363  BB0F              ;********************************
04364  BB0F  20 8C BA    XXBB0F JSR XXBA8C
04365  BB12              ;********************************
04366  BB12              ; DIVIDE OPERATOR
04367  BB12              ;********************************
04368  BB12  F0 76       XXBB12 BEQ XXBB8A
04369  BB14  20 1B BC           JSR XXBC1B
04370  BB17  A9 00              LDA #$00
04371  BB19  38                 SEC 
04372  BB1A  E5 61              SBC $61
04373  BB1C  85 61              STA $61
04374  BB1E  20 B7 BA           JSR XXBAB7
04375  BB21  E6 61              INC $61
04376  BB23  F0 BA              BEQ XXBADF
04377  BB25  A2 FC              LDX #$FC
04378  BB27  A9 01              LDA #$01
04379  BB29  A4 6A       XXBB29 LDY $6A
04380  BB2B  C4 62              CPY $62
04381  BB2D  D0 10              BNE XXBB3F
04382  BB2F  A4 6B              LDY $6B
04383  BB31  C4 63              CPY $63
04384  BB33  D0 0A              BNE XXBB3F
04385  BB35  A4 6C              LDY $6C
04386  BB37  C4 64              CPY $64






BASICV2A.ASM......PAGE 0084

LINE# LOC   CODE        LINE


04387  BB39  D0 04              BNE XXBB3F
04388  BB3B  A4 6D              LDY $6D
04389  BB3D  C4 65              CPY $65
04390  BB3F  08          XXBB3F PHP 
04391  BB40  2A                 ROL A
04392  BB41  90 09              BCC XXBB4C
04393  BB43  E8                 INX 
04394  BB44  95 29              STA RESHO+3,X
04395  BB46  F0 32              BEQ XXBB7A
04396  BB48  10 34              BPL XXBB7E
04397  BB4A  A9 01              LDA #$01
04398  BB4C  28          XXBB4C PLP 
04399  BB4D  B0 0E              BCS XXBB5D
04400  BB4F  06 6D       XXBB4F ASL $6D
04401  BB51  26 6C              ROL $6C
04402  BB53  26 6B              ROL $6B
04403  BB55  26 6A              ROL $6A
04404  BB57  B0 E6              BCS XXBB3F
04405  BB59  30 CE              BMI XXBB29
04406  BB5B  10 E2              BPL XXBB3F
04407  BB5D  A8          XXBB5D TAY 
04408  BB5E  A5 6D              LDA $6D
04409  BB60  E5 65              SBC $65
04410  BB62  85 6D              STA $6D
04411  BB64  A5 6C              LDA $6C
04412  BB66  E5 64              SBC $64
04413  BB68  85 6C              STA $6C
04414  BB6A  A5 6B              LDA $6B
04415  BB6C  E5 63              SBC $63
04416  BB6E  85 6B              STA $6B
04417  BB70  A5 6A              LDA $6A
04418  BB72  E5 62              SBC $62
04419  BB74  85 6A              STA $6A
04420  BB76  98                 TYA 
04421  BB77  4C 4F BB           JMP XXBB4F
04422  BB7A              ;********************************
04423  BB7A              ;
04424  BB7A              ;********************************
04425  BB7A  A9 40       XXBB7A LDA #$40        ;'@'
04426  BB7C  D0 CE              BNE XXBB4C
04427  BB7E  0A          XXBB7E ASL A
04428  BB7F  0A                 ASL A
04429  BB80  0A                 ASL A
04430  BB81  0A                 ASL A
04431  BB82  0A                 ASL A
04432  BB83  0A                 ASL A
04433  BB84  85 70              STA $70
04434  BB86  28                 PLP 
04435  BB87  4C 8F BB           JMP XXBB8F
04436  BB8A              ;********************************
04437  BB8A              ;
04438  BB8A              ;********************************
04439  BB8A  A2 14       XXBB8A LDX #$14        ; ERROR NUMBER
04440  BB8C  4C 37 A4           JMP XXA437
04441  BB8F              ;********************************






BASICV2A.ASM......PAGE 0085

LINE# LOC   CODE        LINE


04442  BB8F              ;
04443  BB8F              ;********************************
04444  BB8F  A5 26       XXBB8F LDA RESHO
04445  BB91  85 62              STA $62
04446  BB93  A5 27              LDA RESHO+1
04447  BB95  85 63              STA $63
04448  BB97  A5 28              LDA RESHO+2
04449  BB99  85 64              STA $64
04450  BB9B  A5 29              LDA RESHO+3
04451  BB9D  85 65              STA $65
04452  BB9F  4C D7 B8           JMP XXB8D7
04453  BBA2              ;********************************
04454  BBA2              ;
04455  BBA2              ;********************************
04456  BBA2  85 22       XXBBA2 STA INDEX
04457  BBA4  84 23              STY INDEX+1
04458  BBA6  A0 04              LDY #$04
04459  BBA8  B1 22              LDA (INDEX),Y
04460  BBAA  85 65              STA $65
04461  BBAC  88                 DEY 
04462  BBAD  B1 22              LDA (INDEX),Y
04463  BBAF  85 64              STA $64
04464  BBB1  88                 DEY 
04465  BBB2  B1 22              LDA (INDEX),Y
04466  BBB4  85 63              STA $63
04467  BBB6  88                 DEY 
04468  BBB7  B1 22              LDA (INDEX),Y
04469  BBB9  85 66              STA $66
04470  BBBB  09 80              ORA #$80
04471  BBBD  85 62              STA $62
04472  BBBF  88                 DEY 
04473  BBC0  B1 22              LDA (INDEX),Y
04474  BBC2  85 61              STA $61
04475  BBC4  84 70              STY $70
04476  BBC6  60                 RTS 
04477  BBC7              ;********************************
04478  BBC7              ; STORE FLOAT ACCU AT $5C-$60
04479  BBC7              ;********************************
04480  BBC7  A2 5C       ZZBBC7 LDX #$5C        ; LOW  005C
04481  BBC9              ;********************************
04482  BBC9  2C                 .BYTE $2C
04483  BBCA              ;********************************
04484  BBCA              ; STORE FLOAT ACCU AT $57-$5B
04485  BBCA              ;********************************
04486  BBCA  A2 57              LDX #$57        ; LOW  0057
04487  BBCC  A0 00              LDY #$00        ; HIGH 0057
04488  BBCE  F0 04              BEQ XXBBD4
04489  BBD0              ;********************************
04490  BBD0              ; STORE FLOAT ACCU IN INDEX AT $49/$4A
04491  BBD0              ;********************************
04492  BBD0  A6 49       XXBBD0 LDX FORPNT
04493  BBD2  A4 4A              LDY FORPNT+1
04494  BBD4              ;********************************
04495  BBD4              ; STORE FLOAT ACCU IN INDEX XY
04496  BBD4              ;********************************






BASICV2A.ASM......PAGE 0086

LINE# LOC   CODE        LINE


04497  BBD4  20 1B BC    XXBBD4 JSR XXBC1B
04498  BBD7  86 22              STX INDEX
04499  BBD9  84 23              STY INDEX+1
04500  BBDB  A0 04              LDY #$04
04501  BBDD  A5 65              LDA $65
04502  BBDF  91 22              STA (INDEX),Y
04503  BBE1  88                 DEY 
04504  BBE2  A5 64              LDA $64
04505  BBE4  91 22              STA (INDEX),Y
04506  BBE6  88                 DEY 
04507  BBE7  A5 63              LDA $63
04508  BBE9  91 22              STA (INDEX),Y
04509  BBEB  88                 DEY 
04510  BBEC  A5 66              LDA $66
04511  BBEE  09 7F              ORA #$7F
04512  BBF0  25 62              AND $62
04513  BBF2  91 22              STA (INDEX),Y
04514  BBF4  88                 DEY 
04515  BBF5  A5 61              LDA $61
04516  BBF7  91 22              STA (INDEX),Y
04517  BBF9  84 70              STY $70
04518  BBFB  60                 RTS 
04519  BBFC              ;********************************
04520  BBFC              ; MOVE SECOND FLOAT ACCU INTO FIRST
04521  BBFC              ;********************************
04522  BBFC  A5 6E       XXBBFC LDA $6E
04523  BBFE  85 66       XXBBFE STA $66
04524  BC00  A2 05              LDX #$05
04525  BC02  B5 68       XXBC02 LDA $68,X
04526  BC04  95 60              STA $60,X
04527  BC06  CA                 DEX 
04528  BC07  D0 F9              BNE XXBC02
04529  BC09  86 70              STX $70
04530  BC0B  60                 RTS 
04531  BC0C              ;********************************
04532  BC0C              ; MOVE ROUNDED FLOAT ACCU INTO SECOND
04533  BC0C              ;********************************
04534  BC0C  20 1B BC    XXBC0C JSR XXBC1B
04535  BC0F  A2 06       KKBC0F LDX #$06
04536  BC11  B5 60       XXBC11 LDA $60,X
04537  BC13  95 68              STA $68,X
04538  BC15  CA                 DEX 
04539  BC16  D0 F9              BNE XXBC11
04540  BC18  86 70              STX $70
04541  BC1A  60          XXBC1A RTS 
04542  BC1B              ;********************************
04543  BC1B              ; ROUND FLOAT ACCU ACCORDING TO GUARD BIT
04544  BC1B              ;********************************
04545  BC1B  A5 61       XXBC1B LDA $61
04546  BC1D  F0 FB              BEQ XXBC1A
04547  BC1F  06 70              ASL $70
04548  BC21  90 F7              BCC XXBC1A
04549  BC23  20 6F B9    XXBC23 JSR XXB96F
04550  BC26  D0 F2              BNE XXBC1A
04551  BC28  4C 38 B9           JMP XXB938






BASICV2A.ASM......PAGE 0087

LINE# LOC   CODE        LINE


04552  BC2B              ;********************************
04553  BC2B              ; GET SIGN OF FLOAT ACCU IN 
04554  BC2B              ;********************************
04555  BC2B  A5 61       XXBC2B LDA $61
04556  BC2D  F0 09              BEQ XXBC38
04557  BC2F  A5 66       XXBC2F LDA $66
04558  BC31  2A          XXBC31 ROL A
04559  BC32  A9 FF              LDA #$FF
04560  BC34  B0 02              BCS XXBC38
04561  BC36  A9 01              LDA #$01
04562  BC38  60          XXBC38 RTS 
04563  BC39              ;********************************
04564  BC39              ; SGN FUNCTION
04565  BC39              ;********************************
04566  BC39  20 2B BC    XXBC39 JSR XXBC2B
04567  BC3C              ;********************************
04568  BC3C              ; MOVE SIGNED NUMBER FROM A INTO FLOAT ACCU
04569  BC3C              ;********************************
04570  BC3C  85 62       XXBC3C STA $62
04571  BC3E  A9 00              LDA #$00
04572  BC40  85 63              STA $63
04573  BC42  A2 88              LDX #$88
04574  BC44  A5 62       XXBC44 LDA $62
04575  BC46  49 FF              EOR #$FF
04576  BC48  2A                 ROL A
04577  BC49  A9 00       XXBC49 LDA #$00
04578  BC4B  85 65              STA $65
04579  BC4D  85 64              STA $64
04580  BC4F  86 61       XXBC4F STX $61
04581  BC51  85 70              STA $70
04582  BC53  85 66              STA $66
04583  BC55  4C D2 B8           JMP XXB8D2
04584  BC58              ;********************************
04585  BC58              ; ABS FUNCTION
04586  BC58              ;********************************
04587  BC58  46 66       XXBC58 LSR $66
04588  BC5A  60                 RTS 
04589  BC5B              ;********************************
04590  BC5B              ; COMPARE FLOAT ACCU TO FLOAT INDEXED BY XY
04591  BC5B              ;********************************
04592  BC5B  85 24       XXBC5B STA INDEX+2
04593  BC5D  84 25       XXBC5D STY INDEX+3
04594  BC5F  A0 00              LDY #$00
04595  BC61  B1 24              LDA (INDEX+2),Y
04596  BC63  C8                 INY 
04597  BC64  AA                 TAX 
04598  BC65  F0 C4              BEQ XXBC2B
04599  BC67  B1 24              LDA (INDEX+2),Y
04600  BC69  45 66              EOR $66
04601  BC6B  30 C2              BMI XXBC2F
04602  BC6D  E4 61              CPX $61
04603  BC6F  D0 21              BNE XXBC92
04604  BC71  B1 24              LDA (INDEX+2),Y
04605  BC73  09 80              ORA #$80
04606  BC75  C5 62              CMP $62






BASICV2A.ASM......PAGE 0088

LINE# LOC   CODE        LINE


04607  BC77  D0 19              BNE XXBC92
04608  BC79  C8                 INY 
04609  BC7A  B1 24              LDA (INDEX+2),Y
04610  BC7C  C5 63              CMP $63
04611  BC7E  D0 12              BNE XXBC92
04612  BC80  C8                 INY 
04613  BC81  B1 24              LDA (INDEX+2),Y
04614  BC83  C5 64              CMP $64
04615  BC85  D0 0B              BNE XXBC92
04616  BC87  C8                 INY 
04617  BC88  A9 7F              LDA #$7F
04618  BC8A  C5 70              CMP $70
04619  BC8C  B1 24              LDA (INDEX+2),Y
04620  BC8E  E5 65              SBC $65
04621  BC90  F0 28              BEQ XXBCBA
04622  BC92  A5 66       XXBC92 LDA $66
04623  BC94  90 02              BCC XXBC98
04624  BC96  49 FF              EOR #$FF
04625  BC98  4C 31 BC    XXBC98 JMP XXBC31
04626  BC9B              ;********************************
04627  BC9B              ; CONVERT FLOAT TO A 4 BYTE SIGNED INTEGER
04628  BC9B              ;********************************
04629  BC9B  A5 61       XXBC9B LDA $61
04630  BC9D  F0 4A              BEQ XXBCE9
04631  BC9F  38                 SEC 
04632  BCA0  E9 A0              SBC #$A0
04633  BCA2  24 66              BIT $66
04634  BCA4  10 09              BPL XXBCAF
04635  BCA6  AA                 TAX 
04636  BCA7  A9 FF              LDA #$FF
04637  BCA9  85 68              STA $68
04638  BCAB  20 4D B9           JSR XXB94D
04639  BCAE  8A                 TXA 
04640  BCAF  A2 61       XXBCAF LDX #$61
04641  BCB1  C9 F9              CMP #$F9
04642  BCB3  10 06              BPL XXBCBB
04643  BCB5  20 99 B9           JSR XXB999
04644  BCB8  84 68              STY $68
04645  BCBA  60          XXBCBA RTS 
04646  BCBB              ;********************************
04647  BCBB              ;
04648  BCBB              ;********************************
04649  BCBB  A8          XXBCBB TAY 
04650  BCBC  A5 66              LDA $66
04651  BCBE  29 80              AND #$80
04652  BCC0  46 62              LSR $62
04653  BCC2  05 62              ORA $62
04654  BCC4  85 62              STA $62
04655  BCC6  20 B0 B9           JSR XXB9B0
04656  BCC9  84 68              STY $68
04657  BCCB  60                 RTS 
04658  BCCC              ;********************************
04659  BCCC              ; INT FUNCTION
04660  BCCC              ;********************************
04661  BCCC  A5 61       XXBCCC LDA $61






BASICV2A.ASM......PAGE 0089

LINE# LOC   CODE        LINE


04662  BCCE  C9 A0              CMP #$A0
04663  BCD0  B0 20              BCS XXBCF2
04664  BCD2  20 9B BC           JSR XXBC9B
04665  BCD5  84 70              STY $70
04666  BCD7  A5 66              LDA $66
04667  BCD9  84 66              STY $66
04668  BCDB  49 80              EOR #$80
04669  BCDD  2A                 ROL A
04670  BCDE  A9 A0              LDA #$A0
04671  BCE0  85 61              STA $61
04672  BCE2  A5 65              LDA $65
04673  BCE4  85 07              STA CHARAC
04674  BCE6  4C D2 B8           JMP XXB8D2
04675  BCE9              ;********************************
04676  BCE9              ; CLEAR FLOAT ACCU
04677  BCE9              ;********************************
04678  BCE9  85 62       XXBCE9 STA $62
04679  BCEB  85 63              STA $63
04680  BCED  85 64              STA $64
04681  BCEF  85 65              STA $65
04682  BCF1  A8                 TAY 
04683  BCF2  60          XXBCF2 RTS 
04684  BCF3              ;********************************
04685  BCF3              ; CONVERT STRING TO FLOAT IN FLOAT ACCU
04686  BCF3              ;********************************
04687  BCF3  A0 00       XXBCF3 LDY #$00
04688  BCF5  A2 0A              LDX #$0A
04689  BCF7  94 5D       XXBCF7 STY $5D,X
04690  BCF9  CA                 DEX 
04691  BCFA  10 FB              BPL XXBCF7
04692  BCFC  90 0F              BCC XXBD0D
04693  BCFE  C9 2D              CMP #$2D        ;'-'
04694  BD00  D0 04              BNE XXBD06
04695  BD02  86 67              STX $67
04696  BD04  F0 04              BEQ XXBD0A
04697  BD06  C9 2B       XXBD06 CMP #$2B        ;'+'
04698  BD08  D0 05              BNE XXBD0F
04699  BD0A  20 73 00    XXBD0A JSR CHRGET
04700  BD0D  90 5B       XXBD0D BCC XXBD6A
04701  BD0F  C9 2E       XXBD0F CMP #$2E        ;'.'
04702  BD11  F0 2E              BEQ XXBD41
04703  BD13  C9 45              CMP #$45        ;'E'
04704  BD15  D0 30              BNE XXBD47
04705  BD17  20 73 00           JSR CHRGET
04706  BD1A  90 17              BCC XXBD33
04707  BD1C  C9 AB              CMP #$AB
04708  BD1E  F0 0E              BEQ XXBD2E
04709  BD20  C9 2D              CMP #$2D        ;'-'
04710  BD22  F0 0A              BEQ XXBD2E
04711  BD24  C9 AA              CMP #$AA
04712  BD26  F0 08              BEQ XXBD30
04713  BD28  C9 2B              CMP #$2B        ;'+'
04714  BD2A  F0 04              BEQ XXBD30
04715  BD2C  D0 07              BNE XXBD35
04716  BD2E  66 60       XXBD2E ROR $60






BASICV2A.ASM......PAGE 0090

LINE# LOC   CODE        LINE


04717  BD30  20 73 00    XXBD30 JSR CHRGET
04718  BD33  90 5C       XXBD33 BCC XXBD91
04719  BD35  24 60       XXBD35 BIT $60
04720  BD37  10 0E              BPL XXBD47
04721  BD39  A9 00              LDA #$00
04722  BD3B  38                 SEC 
04723  BD3C  E5 5E              SBC $5E
04724  BD3E  4C 49 BD           JMP XXBD49
04725  BD41              ;********************************
04726  BD41              ;
04727  BD41              ;********************************
04728  BD41  66 5F       XXBD41 ROR $5F
04729  BD43  24 5F              BIT $5F
04730  BD45  50 C3              BVC XXBD0A
04731  BD47  A5 5E       XXBD47 LDA $5E
04732  BD49  38          XXBD49 SEC 
04733  BD4A  E5 5D              SBC $5D
04734  BD4C  85 5E              STA $5E
04735  BD4E  F0 12              BEQ XXBD62
04736  BD50  10 09              BPL XXBD5B
04737  BD52  20 FE BA    XXBD52 JSR XXBAFE
04738  BD55  E6 5E              INC $5E
04739  BD57  D0 F9              BNE XXBD52
04740  BD59  F0 07              BEQ XXBD62
04741  BD5B  20 E2 BA    XXBD5B JSR XXBAE2
04742  BD5E  C6 5E              DEC $5E
04743  BD60  D0 F9              BNE XXBD5B
04744  BD62  A5 67       XXBD62 LDA $67
04745  BD64  30 01              BMI XXBD67
04746  BD66  60                 RTS 
04747  BD67              ;********************************
04748  BD67              ;
04749  BD67              ;********************************
04750  BD67  4C B4 BF    XXBD67 JMP XXBFB4
04751  BD6A              ;********************************
04752  BD6A              ;
04753  BD6A              ;********************************
04754  BD6A  48          XXBD6A PHA 
04755  BD6B  24 5F              BIT $5F
04756  BD6D  10 02              BPL XXBD71
04757  BD6F  E6 5D              INC $5D
04758  BD71  20 E2 BA    XXBD71 JSR XXBAE2
04759  BD74  68                 PLA 
04760  BD75  38                 SEC 
04761  BD76  E9 30              SBC #$30        ;'0'
04762  BD78  20 7E BD           JSR XXBD7E
04763  BD7B  4C 0A BD           JMP XXBD0A
04764  BD7E              ;********************************
04765  BD7E              ; ADD SIGNED INTEGER FROM A TO FLOAT ACCU
04766  BD7E              ;********************************
04767  BD7E  48          XXBD7E PHA 
04768  BD7F  20 0C BC           JSR XXBC0C
04769  BD82  68                 PLA 
04770  BD83  20 3C BC           JSR XXBC3C
04771  BD86  A5 6E              LDA $6E






BASICV2A.ASM......PAGE 0091

LINE# LOC   CODE        LINE


04772  BD88  45 66              EOR $66
04773  BD8A  85 6F              STA $6F
04774  BD8C  A6 61              LDX $61
04775  BD8E  4C 6A B8           JMP XXB86A
04776  BD91              ;********************************
04777  BD91              ; GET EXPONENT OF NUMBER FROM STRING
04778  BD91              ;********************************
04779  BD91  A5 5E       XXBD91 LDA $5E
04780  BD93  C9 0A              CMP #$0A
04781  BD95  90 09              BCC XXBDA0
04782  BD97  A9 64              LDA #$64
04783  BD99  24 60              BIT $60
04784  BD9B  30 11              BMI XXBDAE
04785  BD9D  4C 7E B9           JMP XXB97E
04786  BDA0              ;********************************
04787  BDA0              ;
04788  BDA0              ;********************************
04789  BDA0  0A          XXBDA0 ASL A
04790  BDA1  0A                 ASL A
04791  BDA2  18                 CLC 
04792  BDA3  65 5E              ADC $5E
04793  BDA5  0A                 ASL A
04794  BDA6  18                 CLC 
04795  BDA7  A0 00              LDY #$00
04796  BDA9  71 7A              ADC (TXTPTR),Y
04797  BDAB  38                 SEC 
04798  BDAC  E9 30              SBC #$30        ;'0'
04799  BDAE  85 5E       XXBDAE STA $5E
04800  BDB0  4C 30 BD           JMP XXBD30
04801  BDB3              ;********************************
04802  BDB3              ; CONSTANTS FOR FLOAT TO STRING CONVERSION
04803  BDB3              ;********************************
04804  BDB3  9B          ZZBDB3 .BYTE $9B,$3E,$BC,$1F,$FD
04804  BDB4  3E 
04804  BDB5  BC 
04804  BDB6  1F 
04804  BDB7  FD 
04805  BDB8  9E          WWBDB8 .BYTE $9E,$6E,$6B,$27,$FD
04805  BDB9  6E 
04805  BDBA  6B 
04805  BDBB  27 
04805  BDBC  FD 
04806  BDBD  9E          WWBDBD .BYTE $9E,$6E,$6B,$28,$00
04806  BDBE  6E 
04806  BDBF  6B 
04806  BDC0  28 
04806  BDC1  00 
04807  BDC2              ;********************************
04808  BDC2              ; PRINT IN FOLLOWED BY LINE NUMBER
04809  BDC2              ;********************************
04810  BDC2  A9 71       XXBDC2 LDA #<WWA371    ;#$71   ; LOW  A371
04811  BDC4  A0 A3              LDY #>WWA371    ;#$A3   ; HIGH A371
04812  BDC6  20 DA BD           JSR XXBDDA
04813  BDC9  A5 3A              LDA CURLIN+1
04814  BDCB  A6 39              LDX CURLIN






BASICV2A.ASM......PAGE 0092

LINE# LOC   CODE        LINE


04815  BDCD              ;********************************
04816  BDCD              ; PRINT NUMBER FROM AX
04817  BDCD              ;********************************
04818  BDCD  85 62       XXBDCD STA $62
04819  BDCF  86 63              STX $63
04820  BDD1  A2 90              LDX #$90
04821  BDD3  38                 SEC 
04822  BDD4  20 49 BC           JSR XXBC49
04823  BDD7  20 DF BD           JSR XXBDDF
04824  BDDA  4C 1E AB    XXBDDA JMP XXAB1E
04825  BDDD              ;********************************
04826  BDDD              ; CONVERT NUMBER IN FLOAT ACCU TO STRING
04827  BDDD              ;********************************
04828  BDDD  A0 01       XXBDDD LDY #$01
04829  BDDF  A9 20       XXBDDF LDA #$20        ;' '
04830  BDE1  24 66              BIT $66
04831  BDE3  10 02              BPL XXBDE7
04832  BDE5  A9 2D              LDA #$2D        ;'-'
04833  BDE7  99 FF 00    XXBDE7 STA $00FF,Y
04834  BDEA  85 66              STA $66
04835  BDEC  84 71              STY $71
04836  BDEE  C8                 INY 
04837  BDEF  A9 30              LDA #$30        ;'0'
04838  BDF1  A6 61              LDX $61
04839  BDF3  D0 03              BNE XXBDF8
04840  BDF5  4C 04 BF           JMP XXBF04
04841  BDF8              ;********************************
04842  BDF8              ;
04843  BDF8              ;********************************
04844  BDF8  A9 00       XXBDF8 LDA #$00
04845  BDFA  E0 80              CPX #$80
04846  BDFC  F0 02              BEQ XXBE00
04847  BDFE  B0 09              BCS XXBE09
04848  BE00  A9 BD       XXBE00 LDA #<WWBDBD    ;#$BD   ; LOW  BDBD
04849  BE02  A0 BD              LDY #>WWBDBD    ;#$BD   ; HIGH BDBD
04850  BE04  20 28 BA           JSR XXBA28
04851  BE07  A9 F7              LDA #$F7
04852  BE09  85 5D       XXBE09 STA $5D
04853  BE0B  A9 B8       XXBE0B LDA #<WWBDB8    ;#$B8   ; LOW  BDB8
04854  BE0D  A0 BD              LDY #>WWBDB8    ;#$BD   ; HIGH BDB8
04855  BE0F  20 5B BC           JSR XXBC5B
04856  BE12  F0 1E              BEQ XXBE32
04857  BE14  10 12              BPL XXBE28
04858  BE16  A9 B3       XXBE16 LDA #<ZZBDB3    ;#$B3   ; LOW  BDB3
04859  BE18  A0 BD              LDY #>ZZBDB3    ;#$BD   ; HIGH BDB3
04860  BE1A  20 5B BC           JSR XXBC5B
04861  BE1D  F0 02              BEQ XXBE21
04862  BE1F  10 0E              BPL XXBE2F
04863  BE21  20 E2 BA    XXBE21 JSR XXBAE2
04864  BE24  C6 5D              DEC $5D
04865  BE26  D0 EE              BNE XXBE16
04866  BE28  20 FE BA    XXBE28 JSR XXBAFE
04867  BE2B  E6 5D              INC $5D
04868  BE2D  D0 DC              BNE XXBE0B
04869  BE2F  20 49 B8    XXBE2F JSR XXB849






BASICV2A.ASM......PAGE 0093

LINE# LOC   CODE        LINE


04870  BE32  20 9B BC    XXBE32 JSR XXBC9B
04871  BE35  A2 01              LDX #$01
04872  BE37  A5 5D              LDA $5D
04873  BE39  18                 CLC 
04874  BE3A  69 0A              ADC #$0A
04875  BE3C  30 09              BMI XXBE47
04876  BE3E  C9 0B              CMP #$0B
04877  BE40  B0 06              BCS XXBE48
04878  BE42  69 FF              ADC #$FF
04879  BE44  AA                 TAX 
04880  BE45  A9 02              LDA #$02
04881  BE47  38          XXBE47 SEC 
04882  BE48  E9 02       XXBE48 SBC #$02
04883  BE4A  85 5E              STA $5E
04884  BE4C  86 5D              STX $5D
04885  BE4E  8A                 TXA 
04886  BE4F  F0 02              BEQ XXBE53
04887  BE51  10 13              BPL XXBE66
04888  BE53  A4 71       XXBE53 LDY $71
04889  BE55  A9 2E              LDA #$2E        ;'.'
04890  BE57  C8                 INY 
04891  BE58  99 FF 00           STA $00FF,Y
04892  BE5B  8A                 TXA 
04893  BE5C  F0 06              BEQ XXBE64
04894  BE5E  A9 30              LDA #$30        ;'0'
04895  BE60  C8                 INY 
04896  BE61  99 FF 00           STA $00FF,Y
04897  BE64  84 71       XXBE64 STY $71
04898  BE66  A0 00       XXBE66 LDY #$00
04899  BE68  A2 80       XXBE68 LDX #$80
04900  BE6A  A5 65       XXBE6A LDA $65
04901  BE6C  18                 CLC 
04902  BE6D  79 19 BF           ADC XXBF19,Y
04903  BE70  85 65              STA $65
04904  BE72  A5 64              LDA $64
04905  BE74  79 18 BF           ADC XXBF18,Y
04906  BE77  85 64              STA $64
04907  BE79  A5 63              LDA $63
04908  BE7B  79 17 BF           ADC XXBF17,Y
04909  BE7E  85 63              STA $63
04910  BE80  A5 62              LDA $62
04911  BE82  79 16 BF           ADC XXBF16,Y
04912  BE85  85 62              STA $62
04913  BE87  E8                 INX 
04914  BE88  B0 04              BCS XXBE8E
04915  BE8A  10 DE              BPL XXBE6A
04916  BE8C  30 02              BMI XXBE90
04917  BE8E  30 DA       XXBE8E BMI XXBE6A
04918  BE90  8A          XXBE90 TXA 
04919  BE91  90 04              BCC XXBE97
04920  BE93  49 FF              EOR #$FF
04921  BE95  69 0A              ADC #$0A
04922  BE97  69 2F       XXBE97 ADC #$2F        ;'/'
04923  BE99  C8                 INY 
04924  BE9A  C8                 INY 






BASICV2A.ASM......PAGE 0094

LINE# LOC   CODE        LINE


04925  BE9B  C8                 INY 
04926  BE9C  C8                 INY 
04927  BE9D  84 47              STY VARPNT
04928  BE9F  A4 71              LDY $71
04929  BEA1  C8                 INY 
04930  BEA2  AA                 TAX 
04931  BEA3  29 7F              AND #$7F
04932  BEA5  99 FF 00           STA $00FF,Y
04933  BEA8  C6 5D              DEC $5D
04934  BEAA  D0 06              BNE XXBEB2
04935  BEAC  A9 2E              LDA #$2E        ;'.'
04936  BEAE  C8                 INY 
04937  BEAF  99 FF 00           STA $00FF,Y
04938  BEB2  84 71       XXBEB2 STY $71
04939  BEB4  A4 47              LDY VARPNT
04940  BEB6  8A                 TXA 
04941  BEB7  49 FF              EOR #$FF
04942  BEB9  29 80              AND #$80
04943  BEBB  AA                 TAX 
04944  BEBC  C0 24              CPY #$24        ;'$'
04945  BEBE  F0 04              BEQ XXBEC4
04946  BEC0  C0 3C              CPY #$3C        ;'<'
04947  BEC2  D0 A6              BNE XXBE6A
04948  BEC4  A4 71       XXBEC4 LDY $71
04949  BEC6  B9 FF 00    XXBEC6 LDA $00FF,Y
04950  BEC9  88                 DEY 
04951  BECA  C9 30              CMP #$30        ;'0'
04952  BECC  F0 F8              BEQ XXBEC6
04953  BECE  C9 2E              CMP #$2E        ;'.'
04954  BED0  F0 01              BEQ XXBED3
04955  BED2  C8                 INY 
04956  BED3  A9 2B       XXBED3 LDA #$2B        ;'+'
04957  BED5  A6 5E              LDX $5E
04958  BED7  F0 2E              BEQ XXBF07
04959  BED9  10 08              BPL XXBEE3
04960  BEDB  A9 00              LDA #$00
04961  BEDD  38                 SEC 
04962  BEDE  E5 5E              SBC $5E
04963  BEE0  AA                 TAX 
04964  BEE1  A9 2D              LDA #$2D        ;'-'
04965  BEE3  99 01 01    XXBEE3 STA STACK+1,Y
04966  BEE6  A9 45              LDA #$45        ;'E'
04967  BEE8  99 00 01           STA STACK,Y
04968  BEEB  8A                 TXA 
04969  BEEC  A2 2F              LDX #$2F        ;'/'
04970  BEEE  38                 SEC 
04971  BEEF  E8          XXBEEF INX 
04972  BEF0  E9 0A              SBC #$0A
04973  BEF2  B0 FB              BCS XXBEEF
04974  BEF4  69 3A              ADC #$3A        ;':'
04975  BEF6  99 03 01           STA STACK+3,Y
04976  BEF9  8A                 TXA 
04977  BEFA  99 02 01           STA STACK+2,Y
04978  BEFD  A9 00              LDA #$00
04979  BEFF  99 04 01           STA STACK+4,Y






BASICV2A.ASM......PAGE 0095

LINE# LOC   CODE        LINE


04980  BF02  F0 08              BEQ XXBF0C
04981  BF04  99 FF 00    XXBF04 STA $00FF,Y
04982  BF07  A9 00       XXBF07 LDA #$00
04983  BF09  99 00 01           STA STACK,Y
04984  BF0C  A9 00       XXBF0C LDA #$00        ; LOW  0100
04985  BF0E  A0 01              LDY #$01        ; HIGH 0100
04986  BF10  60                 RTS 
04987  BF11              ;********************************
04988  BF11              ; 0.5
04989  BF11              ;********************************
04990  BF11  80          ZZBF11 .BYTE $80,$00,$00,$00,$00
04990  BF12  00 
04990  BF13  00 
04990  BF14  00 
04990  BF15  00 
04991  BF16              ;********************************
04992  BF16              ; DIVISORS FOR DECIMAL CONVERSION
04993  BF16              ;********************************
04994  BF16  FA          XXBF16 .BYTE $FA
04995  BF17  0A          XXBF17 .BYTE $0A
04996  BF18  1F          XXBF18 .BYTE $1F
04997  BF19  00          XXBF19 .BYTE $00
04998  BF1A  00          ZZBF1A .BYTE $00,$98,$96,$80
04998  BF1B  98 
04998  BF1C  96 
04998  BF1D  80 
04999  BF1E  FF                 .BYTE $FF,$F0,$BD,$C0
04999  BF1F  F0 
04999  BF20  BD 
04999  BF21  C0 
05000  BF22  00                 .BYTE $00,$01,$86,$A0
05000  BF23  01 
05000  BF24  86 
05000  BF25  A0 
05001  BF26  FF                 .BYTE $FF,$FF,$D8,$F0
05001  BF27  FF 
05001  BF28  D8 
05001  BF29  F0 
05002  BF2A  00                 .BYTE $00,$00,$03,$E8
05002  BF2B  00 
05002  BF2C  03 
05002  BF2D  E8 
05003  BF2E  FF                 .BYTE $FF,$FF,$FF,$9C
05003  BF2F  FF 
05003  BF30  FF 
05003  BF31  9C 
05004  BF32  00                 .BYTE $00,$00,$00,$0A
05004  BF33  00 
05004  BF34  00 
05004  BF35  0A 
05005  BF36  FF                 .BYTE $FF,$FF,$FF,$FF
05005  BF37  FF 
05005  BF38  FF 
05005  BF39  FF 
05006  BF3A              ;********************************






BASICV2A.ASM......PAGE 0096

LINE# LOC   CODE        LINE


05007  BF3A              ; DIVISORS FOR TIME CONVERSION
05008  BF3A              ;********************************
05009  BF3A  FF          ZZBF3A .BYTE $FF,$DF,$0A,$80
05009  BF3B  DF 
05009  BF3C  0A 
05009  BF3D  80 
05010  BF3E  00                 .BYTE $00,$03,$4B,$C0
05010  BF3F  03 
05010  BF40  4B 
05010  BF41  C0 
05011  BF42  FF                 .BYTE $FF,$FF,$73,$60
05011  BF43  FF 
05011  BF44  73 
05011  BF45  60 
05012  BF46  00                 .BYTE $00,$00,$0E,$10
05012  BF47  00 
05012  BF48  0E 
05012  BF49  10 
05013  BF4A  FF                 .BYTE $FF,$FF,$FD,$A8
05013  BF4B  FF 
05013  BF4C  FD 
05013  BF4D  A8 
05014  BF4E  00                 .BYTE $00,$00,$00,$3C
05014  BF4F  00 
05014  BF50  00 
05014  BF51  3C 
05015  BF52              ;********************************
05016  BF52              ; UNUSED
05017  BF52              ; IS THIS SOME VERSION ID?
05018  BF52              ;********************************
05019  BF52  EC          ZZBF52 .BYTE $EC
05020  BF53              ;********************************
05021  BF53              ; UNUSED
05022  BF53              ;********************************
05023  BF53  AA          ZZBF53 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
05023  BF54  AA 
05023  BF55  AA 
05023  BF56  AA 
05023  BF57  AA 
05023  BF58  AA 
05023  BF59  AA 
05023  BF5A  AA 
05024  BF5B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
05024  BF5C  AA 
05024  BF5D  AA 
05024  BF5E  AA 
05024  BF5F  AA 
05024  BF60  AA 
05024  BF61  AA 
05024  BF62  AA 
05025  BF63  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
05025  BF64  AA 
05025  BF65  AA 
05025  BF66  AA 
05025  BF67  AA 






BASICV2A.ASM......PAGE 0097

LINE# LOC   CODE        LINE


05025  BF68  AA 
05025  BF69  AA 
05025  BF6A  AA 
05026  BF6B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
05026  BF6C  AA 
05026  BF6D  AA 
05026  BF6E  AA 
05026  BF6F  AA 
05026  BF70  AA 
05027  BF71              ;********************************
05028  BF71              ; SQR FUNCTION
05029  BF71              ;********************************
05030  BF71  20 0C BC    XXBF71 JSR XXBC0C
05031  BF74  A9 11              LDA #<ZZBF11    ;#$11
05032  BF76  A0 BF              LDY #>ZZBF11    ;#$BF
05033  BF78  20 A2 BB           JSR XXBBA2
05034  BF7B              ;********************************
05035  BF7B              ; POWER OPERATOR
05036  BF7B              ;********************************
05037  BF7B  F0 70       ZZBF7B BEQ XXBFED
05038  BF7D  A5 69              LDA $69
05039  BF7F  D0 03              BNE XXBF84
05040  BF81  4C F9 B8           JMP XXB8F9
05041  BF84              ;********************************
05042  BF84              ;
05043  BF84              ;********************************
05044  BF84  A2 4E       XXBF84 LDX #$4E        ; LOW  004E
05045  BF86  A0 00              LDY #$00        ; HIGH 004E
05046  BF88  20 D4 BB           JSR XXBBD4
05047  BF8B  A5 6E              LDA $6E
05048  BF8D  10 0F              BPL XXBF9E
05049  BF8F  20 CC BC           JSR XXBCCC
05050  BF92  A9 4E              LDA #$4E        ; LOW  004E
05051  BF94  A0 00              LDY #$00        ; HIGH 004E
05052  BF96  20 5B BC           JSR XXBC5B
05053  BF99  D0 03              BNE XXBF9E
05054  BF9B  98                 TYA 
05055  BF9C  A4 07              LDY CHARAC
05056  BF9E  20 FE BB    XXBF9E JSR XXBBFE
05057  BFA1  98                 TYA 
05058  BFA2  48                 PHA 
05059  BFA3  20 EA B9           JSR XXB9EA
05060  BFA6  A9 4E              LDA #$4E        ; LOW  004E
05061  BFA8  A0 00              LDY #$00        ; HIGH 004E
05062  BFAA  20 28 BA           JSR XXBA28
05063  BFAD  20 ED BF           JSR XXBFED
05064  BFB0  68                 PLA 
05065  BFB1  4A                 LSR A
05066  BFB2  90 0A              BCC XXBFBE
05067  BFB4              ;********************************
05068  BFB4              ; MINUS OPERATOR
05069  BFB4              ;********************************
05070  BFB4  A5 61       XXBFB4 LDA $61
05071  BFB6  F0 06              BEQ XXBFBE
05072  BFB8  A5 66              LDA $66






BASICV2A.ASM......PAGE 0098

LINE# LOC   CODE        LINE


05073  BFBA  49 FF              EOR #$FF
05074  BFBC  85 66              STA $66
05075  BFBE  60          XXBFBE RTS 
05076  BFBF              ;********************************
05077  BFBF              ; FLOATING POINT CONSTANDS FOR EXP
05078  BFBF              ;
05079  BFBF              ; 1/LOG(2)
05080  BFBF              ;********************************
05081  BFBF  81          ZZBFBF .BYTE $81,$38,$AA,$3B,$29
05081  BFC0  38 
05081  BFC1  AA 
05081  BFC2  3B 
05081  BFC3  29 
05082  BFC4              ;********************************
05083  BFC4              ; EXP POLYNOMIAL TABLE
05084  BFC4              ;********************************
05085  BFC4  07          ZZBFC4 .BYTE $07       ; DEGREE 8
05086  BFC5  71                 .BYTE $71,$34,$58,$3E,$56
05086  BFC6  34 
05086  BFC7  58 
05086  BFC8  3E 
05086  BFC9  56 
05087  BFCA  74                 .BYTE $74,$16,$7E,$B3,$1B
05087  BFCB  16 
05087  BFCC  7E 
05087  BFCD  B3 
05087  BFCE  1B 
05088  BFCF  77                 .BYTE $77,$2F,$EE,$E3,$85
05088  BFD0  2F 
05088  BFD1  EE 
05088  BFD2  E3 
05088  BFD3  85 
05089  BFD4  7A                 .BYTE $7A,$1D,$84,$1C,$2A
05089  BFD5  1D 
05089  BFD6  84 
05089  BFD7  1C 
05089  BFD8  2A 
05090  BFD9  7C                 .BYTE $7C,$63,$59,$58,$0A
05090  BFDA  63 
05090  BFDB  59 
05090  BFDC  58 
05090  BFDD  0A 
05091  BFDE  7E                 .BYTE $7E,$75,$FD,$E7,$C6
05091  BFDF  75 
05091  BFE0  FD 
05091  BFE1  E7 
05091  BFE2  C6 
05092  BFE3  80                 .BYTE $80,$31,$72,$18,$10
05092  BFE4  31 
05092  BFE5  72 
05092  BFE6  18 
05092  BFE7  10 
05093  BFE8  81                 .BYTE $81,$00,$00,$00,$00
05093  BFE9  00 
05093  BFEA  00 






BASICV2A.ASM......PAGE 0099

LINE# LOC   CODE        LINE


05093  BFEB  00 
05093  BFEC  00 
05094  BFED              ;********************************
05095  BFED              ; EXP COMMAND
05096  BFED              ;********************************
05097  BFED  A9 BF       XXBFED LDA #<ZZBFBF    ;#$BF
05098  BFEF  A0 BF              LDY #>ZZBFBF    ;#$BF
05099  BFF1  20 28 BA           JSR XXBA28
05100  BFF4  A5 70              LDA $70
05101  BFF6  69 50              ADC #$50        ;'P'
05102  BFF8  90 03              BCC XXBFFD
05103  BFFA  20 23 BC           JSR XXBC23
05104  BFFD  4C 00 E0    XXBFFD JMP KERNAL      ;$E000
05105  C000              ;********************************
05106  C000              .FIL   BASICV2EX.ASM
05107  C000              *=$E000
05108  E000              ;********************************
05109  E000              ; COMMODORE 64 KERNAL ($03) ROM 
05110  E000              ;
05111  E000              ; (C) 1982 COMMODORE BUSINESS MACHINES
05112  E000              ;
05113  E000              ; CONTINUATION OF EXP FUNCTION
05114  E000              ;********************************
05115  E000              
05116  E000              ;********************************
05117  E000              ; PAGE ZERO EQUATES
05118  E000              ;********************************
05119  E000              ;ADRAY1 = $03
05120  E000              ;ADRAY2 = $05
05121  E000              ;CHARAC = $07
05122  E000              ;ENDCHR = $08
05123  E000              ;VERCK  = $0A
05124  E000              ;TANSGN = $12
05125  E000              ;CHANNL = $13
05126  E000              ;LINNUM = $14
05127  E000              ;TEMPPT = $16
05128  E000              ;LASTPT = $17
05129  E000              
05130  E000              ;INDEX  = $22
05131  E000              ;TXTTAB = $2B
05132  E000              ;VARTAB = $2D
05133  E000              
05134  E000              ;FRETOP = $33
05135  E000              ;MEMSIZ = $37
05136  E000              
05137  E000              ;FORPNT = $49
05138  E000              ;DEFPNT = $4E
05139  E000              
05140  E000              ;FOUR6  = $53
05141  E000              ;JMPER  = $54
05142  E000              BASWRK = $57
05143  E000              B
05144  E000              FAC1   = $61
05145  E000              FACEXP = $61
05146  E000              FACHO  = $62






BASICV2A.ASM......PAGE 0100

LINE# LOC   CODE        LINE


05147  E000              FACSGN = $66
05148  E000              SGNFLG = $67
05149  E000              BITS   = $68
05150  E000              FAC2   = $69
05151  E000              ARGEXP = $69
05152  E000              ARGHO  = $6A
05153  E000              ARGSGN = $6E
05154  E000              ARISGN = $6F
05155  E000              FACOV  = $70
05156  E000              FBUFPT = $71
05157  E000              ;CHRGET = $73
05158  E000              ;CHRGOT = $79
05159  E000              ;TXTPTR = $7A
05160  E000              ;********************************
05161  E000              ; PAGE THREE EQUATES
05162  E000              ;********************************
05163  E000              ;IERROR = $0300
05164  E000              ;IMAIN  = $0302
05165  E000              ;ICRNCH = $0304
05166  E000              ;IQPLOP = $0306
05167  E000              ;IGONE  = $0308
05168  E000              ;IEVAL  = $030A
05169  E000              ;
05170  E000              ;SAREG  = $030C
05171  E000              ;SXREG  = $030D
05172  E000              ;SYREG  = $030E
05173  E000              ;SPREG  = $030F
05174  E000              ;USRPOK = $0310
05175  E000              ;USRADD = $0311
05176  E000              ;********************************
05177  E000              ; BASIC ROM EQUATES
05178  E000              ;********************************
05179  E000              ;WWA376 = $A376 ;READY MESSAGE
05180  E000              ;XXA408 = $A408
05181  E000              ;XXA437 = $A437
05182  E000              ;KKA43A = $A43A
05183  E000              ;XXA474 = $A474
05184  E000              ;KKA483 = $A483
05185  E000              ;KKA52A = $A52A
05186  E000              ;XXA533 = $A533
05187  E000              ;KKA57C = $A57C
05188  E000              ;KKA644 = $A644
05189  E000              ;KKA663 = $A663
05190  E000              ;KKA677 = $A677
05191  E000              ;XXA67A = $A67A
05192  E000              ;XXA68E = $A68E
05193  E000              ;ZZA71A = $A71A
05194  E000              ;KKA7E4 = $A7E4
05195  E000              ;XXAB1E = $AB1E
05196  E000              ;XXAD8A = $AD8A
05197  E000              ;XXAD9E = $AD9E
05198  E000              ;KKAE86 = $AE86
05199  E000              ;XXAEFD = $AEFD
05200  E000              ;XXAF08 = $AF08
05201  E000              ;






BASICV2A.ASM......PAGE 0101

LINE# LOC   CODE        LINE


05202  E000              ;ZZB1AA = $B1AA
05203  E000              ;XXB248 = $B248
05204  E000              ;XXB391 = $B391
05205  E000              ;
05206  E000              ;XXB6A3 = $B6A3
05207  E000              ;XXB79E = $B79E
05208  E000              ;XXB7F7 = $B7F7
05209  E000              ;XXB849 = $B849
05210  E000              ;XXB850 = $B850
05211  E000              ;KKB853 = $B853
05212  E000              ;XXB867 = $B867
05213  E000              ;XXB8D7 = $B8D7
05214  E000              ;WWB9BC = $B9BC
05215  E000              ;XXBA28 = $BA28
05216  E000              ;KKBAD4 = $BAD4
05217  E000              ;KKBAB9 = $BAB9
05218  E000              ;KKBB07 = $BB07
05219  E000              ;XXBB0F = $BB0F
05220  E000              ;XXBBA2 = $BBA2
05221  E000              ;ZZBBC7 = $BBC7
05222  E000              KKBBCA = $BBCA
05223  E000              ;XXBBD4 = $BBD4
05224  E000              ;XXBC0C = $BC0C
05225  E000              ;KKBC0F = $BC0F
05226  E000              ;XXBC2B = $BC2B
05227  E000              ;XXBCCC = $BCCC
05228  E000              ;XXBDCD = $BDCD
05229  E000              ;XXBFB4 = $BFB4
05230  E000              ;ZZBFC4 = $BFC4 ;EXP POLYNOMIAL TABLE
05231  E000              ;********************************
05232  E000              ; KERNAL ROM EQUATES
05233  E000              ;********************************
05234  E000              XXEA61 = $EA61
05235  E000              ;********************************
05236  E000              ; KERNAL ROM EQUATES
05237  E000              ;********************************
05238  E000              MEMTOP = $FF99
05239  E000              MEMBOT = $FF9C
05240  E000              SETLFS = $FFBA
05241  E000              SETNAM = $FFBD
05242  E000              OPEN   = $FFC0
05243  E000              CLOSE  = $FFC3
05244  E000              CHKIN  = $FFC6
05245  E000              CHKOUT = $FFC9
05246  E000              CLRCHN = $FFCC
05247  E000              CHRIN  = $FFCF
05248  E000              CHROUT = $FFD2
05249  E000              LOAD   = $FFD5
05250  E000              SAVE   = $FFD8
05251  E000              GETIN  = $FFE4
05252  E000              READST = $FFB7         ;READ I/O STATUS
05253  E000              IOBASE = $FFF3
05254  E000              ;********************************
05255  E000              ; CONTINUATION OF EXP FUNCTION
05256  E000              ;********************************






BASICV2A.ASM......PAGE 0102

LINE# LOC   CODE        LINE


05257  E000  85 56       KKE000 STA JMPER+2
05258  E002  20 0F BC           JSR KKBC0F
05259  E005  A5 61              LDA FACEXP
05260  E007  C9 88              CMP #$88
05261  E009  90 03              BCC XXE00E
05262  E00B  20 D4 BA    XXE00B JSR KKBAD4
05263  E00E  20 CC BC    XXE00E JSR XXBCCC
05264  E011  A5 07              LDA CHARAC
05265  E013  18                 CLC 
05266  E014  69 81              ADC #$81
05267  E016  F0 F3              BEQ XXE00B
05268  E018  38                 SEC 
05269  E019  E9 01              SBC #$01
05270  E01B  48                 PHA 
05271  E01C  A2 05              LDX #$05
05272  E01E  B5 69       XXE01E LDA ARGEXP,X
05273  E020  B4 61              LDY FACEXP,X
05274  E022  95 61              STA FACEXP,X
05275  E024  94 69              STY ARGEXP,X
05276  E026  CA                 DEX 
05277  E027  10 F5              BPL XXE01E
05278  E029  A5 56              LDA JMPER+2
05279  E02B  85 70              STA FACOV
05280  E02D  20 53 B8           JSR KKB853
05281  E030  20 B4 BF           JSR XXBFB4
05282  E033              ;********************************
05283  E033              ; EXP POLYNOMIAL TABLE
05284  E033              ;********************************
05285  E033  A9 C4              LDA #<ZZBFC4    ;#$C4
05286  E035  A0 BF              LDY #>ZZBFC4    ;#$BF
05287  E037  20 59 E0           JSR XXE059
05288  E03A  A9 00              LDA #$00
05289  E03C  85 6F              STA ARISGN
05290  E03E  68                 PLA 
05291  E03F  20 B9 BA           JSR KKBAB9
05292  E042  60                 RTS 
05293  E043              ;********************************
05294  E043              ; COMPUTE ODD DEGREES FOR SIN AND ATN
05295  E043              ;********************************
05296  E043  85 71       XXE043 STA FBUFPT
05297  E045  84 72              STY FBUFPT+1
05298  E047  20 CA BB           JSR KKBBCA
05299  E04A  A9 57              LDA #$57        ;'W'
05300  E04C  20 28 BA           JSR XXBA28
05301  E04F  20 5D E0           JSR XXE05D
05302  E052  A9 57              LDA #$57        ;'W'
05303  E054  A0 00              LDY #$00
05304  E056  4C 28 BA           JMP XXBA28
05305  E059              ;********************************
05306  E059              ; COMPUTE POLYNOMIALS ACCORDING TO TABLE INDEXED 
BY AY
05307  E059              ;********************************
05308  E059  85 71       XXE059 STA FBUFPT
05309  E05B  84 72              STY FBUFPT+1
05310  E05D  20 C7 BB    XXE05D JSR ZZBBC7
05311  E060  B1 71              LDA (FBUFPT),Y






BASICV2A.ASM......PAGE 0103

LINE# LOC   CODE        LINE


05312  E062  85 67              STA SGNFLG
05313  E064  A4 71              LDY FBUFPT
05314  E066  C8                 INY 
05315  E067  98                 TYA 
05316  E068  D0 02              BNE XXE06C
05317  E06A  E6 72              INC FBUFPT+1
05318  E06C  85 71       XXE06C STA FBUFPT
05319  E06E  A4 72              LDY FBUFPT+1
05320  E070  20 28 BA    XXE070 JSR XXBA28
05321  E073  A5 71              LDA FBUFPT
05322  E075  A4 72              LDY FBUFPT+1
05323  E077  18                 CLC 
05324  E078  69 05              ADC #$05
05325  E07A  90 01              BCC XXE07D
05326  E07C  C8                 INY 
05327  E07D  85 71       XXE07D STA FBUFPT
05328  E07F  84 72              STY FBUFPT+1
05329  E081  20 67 B8           JSR XXB867
05330  E084  A9 5C              LDA #$5C        ;'\'
05331  E086  A0 00              LDY #$00
05332  E088  C6 67              DEC SGNFLG
05333  E08A  D0 E4              BNE XXE070
05334  E08C  60                 RTS 
05335  E08D              ;********************************
05336  E08D              ; FLOAT NUMBERS FOR RND
05337  E08D              ;********************************
05338  E08D  98          ZZE08D .BYTE $98,$35,$44,$7A,$00
05338  E08E  35 
05338  E08F  44 
05338  E090  7A 
05338  E091  00 
05339  E092  68          ZZE092 .BYTE $68,$28,$B1,$46,$00
05339  E093  28 
05339  E094  B1 
05339  E095  46 
05339  E096  00 
05340  E097              ;********************************
05341  E097              ; RND FUNCTION
05342  E097              ;********************************
05343  E097  20 2B BC    ZZE097 JSR XXBC2B
05344  E09A  30 37              BMI XXE0D3
05345  E09C  D0 20              BNE XXE0BE
05346  E09E  20 F3 FF           JSR IOBASE
05347  E0A1  86 22              STX INDEX
05348  E0A3  84 23              STY INDEX+1
05349  E0A5  A0 04              LDY #$04
05350  E0A7  B1 22              LDA (INDEX),Y
05351  E0A9  85 62              STA FACHO
05352  E0AB  C8                 INY 
05353  E0AC  B1 22              LDA (INDEX),Y
05354  E0AE  85 64              STA FACHO+2
05355  E0B0  A0 08              LDY #$08
05356  E0B2  B1 22              LDA (INDEX),Y
05357  E0B4  85 63              STA FACHO+1
05358  E0B6  C8                 INY 






BASICV2A.ASM......PAGE 0104

LINE# LOC   CODE        LINE


05359  E0B7  B1 22              LDA (INDEX),Y
05360  E0B9  85 65              STA FACHO+3
05361  E0BB  4C E3 E0           JMP XXE0E3
05362  E0BE              ;********************************
05363  E0BE              ;
05364  E0BE              ;********************************
05365  E0BE  A9 8B       XXE0BE LDA #$8B
05366  E0C0  A0 00              LDY #$00
05367  E0C2  20 A2 BB           JSR XXBBA2
05368  E0C5              ;********************************
05369  E0C5              ; FLOAT NUMBERS FOR RND
05370  E0C5              ;********************************
05371  E0C5  A9 8D              LDA #<ZZE08D    ;#$8D
05372  E0C7  A0 E0              LDY #>ZZE08D    ;#$E0
05373  E0C9  20 28 BA           JSR XXBA28
05374  E0CC              ;********************************
05375  E0CC              ; FLOAT NUMBERS FOR RND
05376  E0CC              ;********************************
05377  E0CC  A9 92              LDA #<ZZE092    ;#$92
05378  E0CE  A0 E0              LDY #>ZZE092    ;#$E0
05379  E0D0  20 67 B8           JSR XXB867
05380  E0D3              ;********************************
05381  E0D3              ; 
05382  E0D3              ;********************************
05383  E0D3  A6 65       XXE0D3 LDX FACHO+3
05384  E0D5  A5 62              LDA FACHO
05385  E0D7  85 65              STA FACHO+3
05386  E0D9  86 62              STX FACHO
05387  E0DB  A6 63              LDX FACHO+1
05388  E0DD  A5 64              LDA FACHO+2
05389  E0DF  85 63              STA FACHO+1
05390  E0E1  86 64              STX FACHO+2
05391  E0E3  A9 00       XXE0E3 LDA #$00
05392  E0E5  85 66              STA FACSGN
05393  E0E7  A5 61              LDA FACEXP
05394  E0E9  85 70              STA FACOV
05395  E0EB  A9 80              LDA #$80
05396  E0ED  85 61              STA FACEXP
05397  E0EF  20 D7 B8           JSR XXB8D7
05398  E0F2  A2 8B              LDX #$8B
05399  E0F4  A0 00              LDY #$00
05400  E0F6  4C D4 BB    XXE0F6 JMP XXBBD4
05401  E0F9              ;********************************
05402  E0F9              ; HANDLE ERRORS FOR DIRECT I/O
05403  E0F9              ; CALLS FROM BASIC
05404  E0F9              ;********************************
05405  E0F9  C9 F0       XXE0F9 CMP #$F0
05406  E0FB  D0 07              BNE XXE104
05407  E0FD  84 38              STY MEMSIZ+1
05408  E0FF  86 37              STX MEMSIZ
05409  E101  4C 63 A6           JMP KKA663
05410  E104              ;********************************
05411  E104              ;
05412  E104              ;********************************
05413  E104  AA          XXE104 TAX 






BASICV2A.ASM......PAGE 0105

LINE# LOC   CODE        LINE


05414  E105  D0 02              BNE XXE109
05415  E107  A2 1E              LDX #$1E
05416  E109  4C 37 A4    XXE109 JMP XXA437
05417  E10C              ;********************************
05418  E10C              ;
05419  E10C              ;********************************
05420  E10C  20 D2 FF    KKE10C JSR CHROUT
05421  E10F  B0 E8              BCS XXE0F9
05422  E111  60                 RTS 
05423  E112              ;********************************
05424  E112              ;
05425  E112              ;********************************
05426  E112  20 CF FF    KKE112 JSR CHRIN
05427  E115  B0 E2              BCS XXE0F9
05428  E117  60                 RTS 
05429  E118              ;********************************
05430  E118              ;
05431  E118              ;********************************
05432  E118  20 AD E4    KKE118 JSR XXE4AD
05433  E11B  B0 DC              BCS XXE0F9
05434  E11D  60                 RTS 
05435  E11E              ;********************************
05436  E11E              ;
05437  E11E              ;********************************
05438  E11E  20 C6 FF    KKE11E JSR CHKIN
05439  E121  B0 D6              BCS XXE0F9
05440  E123  60                 RTS 
05441  E124              ;********************************
05442  E124              ;
05443  E124              ;********************************
05444  E124  20 E4 FF    KKE124 JSR GETIN
05445  E127  B0 D0              BCS XXE0F9
05446  E129  60                 RTS 
05447  E12A              ;********************************
05448  E12A              ; SYS COMMAND
05449  E12A              ;********************************
05450  E12A  20 8A AD    ZZE12A JSR XXAD8A
05451  E12D  20 F7 B7           JSR XXB7F7
05452  E130  A9 E1              LDA #>KKE147    ;#$E1
05453  E132  48                 PHA 
05454  E133  A9 46              LDA #<KKE147-1  ;#$46      ;'F'
05455  E135  48                 PHA 
05456  E136  AD 0F 03           LDA SPREG
05457  E139  48                 PHA 
05458  E13A  AD 0C 03           LDA SAREG
05459  E13D  AE 0D 03           LDX SXREG
05460  E140  AC 0E 03           LDY SYREG
05461  E143  28                 PLP 
05462  E144  6C 14 00           JMP (LINNUM)
05463  E147              ;********************************
05464  E147              ;
05465  E147              ;********************************
05466  E147  08          KKE147 PHP 
05467  E148  8D 0C 03           STA SAREG
05468  E14B  8E 0D 03           STX SXREG






BASICV2A.ASM......PAGE 0106

LINE# LOC   CODE        LINE


05469  E14E  8C 0E 03           STY SYREG
05470  E151  68                 PLA 
05471  E152  8D 0F 03           STA SPREG
05472  E155  60                 RTS 
05473  E156              ;********************************
05474  E156              ; SAVE COMMAND
05475  E156              ;********************************
05476  E156  20 D4 E1    ZZE156 JSR XXE1D4
05477  E159  A6 2D              LDX VARTAB
05478  E15B  A4 2E              LDY VARTAB+1
05479  E15D  A9 2B              LDA #TXTTAB      ;'+'
05480  E15F  20 D8 FF           JSR SAVE
05481  E162  B0 95              BCS XXE0F9
05482  E164  60                 RTS 
05483  E165              ;********************************
05484  E165              ; VERIFY COMMAND
05485  E165              ;********************************
05486  E165  A9 01       ZZE165 LDA #$01
05487  E167              ;********************************
05488  E167  2C                 .BYTE $2C
05489  E168              ;********************************
05490  E168              ; LOAD COMMAND
05491  E168              ;********************************
05492  E168  A9 00       ZZE168 LDA #$00
05493  E16A  85 0A              STA VERCK
05494  E16C  20 D4 E1           JSR XXE1D4
05495  E16F  A5 0A              LDA VERCK
05496  E171  A6 2B              LDX TXTTAB
05497  E173  A4 2C              LDY TXTTAB+1
05498  E175  20 D5 FF           JSR LOAD
05499  E178  B0 57              BCS XXE1D1
05500  E17A  A5 0A              LDA VERCK
05501  E17C  F0 17              BEQ XXE195
05502  E17E  A2 1C              LDX #$1C
05503  E180  20 B7 FF           JSR READST
05504  E183  29 10              AND #$10
05505  E185  D0 17              BNE XXE19E
05506  E187  A5 7A              LDA TXTPTR
05507  E189  C9 02              CMP #$02
05508  E18B  F0 07              BEQ XXE194
05509  E18D  A9 64              LDA #FACHO+2
05510  E18F  A0 A3              LDY #$A3
05511  E191  4C 1E AB           JMP XXAB1E
05512  E194              ;********************************
05513  E194              ;
05514  E194              ;********************************
05515  E194  60          XXE194 RTS 
05516  E195              ;********************************
05517  E195              ;
05518  E195              ;********************************
05519  E195  20 B7 FF    XXE195 JSR READST
05520  E198  29 BF              AND #$BF
05521  E19A  F0 05              BEQ XXE1A1
05522  E19C  A2 1D              LDX #$1D
05523  E19E  4C 37 A4    XXE19E JMP XXA437






BASICV2A.ASM......PAGE 0107

LINE# LOC   CODE        LINE


05524  E1A1              ;********************************
05525  E1A1              ;
05526  E1A1              ;********************************
05527  E1A1  A5 7B       XXE1A1 LDA TXTPTR+1
05528  E1A3  C9 02              CMP #$02
05529  E1A5  D0 0E              BNE XXE1B5
05530  E1A7  86 2D              STX VARTAB
05531  E1A9  84 2E              STY VARTAB+1
05532  E1AB  A9 76              LDA #<WWA376    ;#$76
05533  E1AD  A0 A3              LDY #>WWA376    ;#$A3
05534  E1AF  20 1E AB           JSR XXAB1E
05535  E1B2  4C 2A A5           JMP KKA52A
05536  E1B5              ;********************************
05537  E1B5              ;
05538  E1B5              ;********************************
05539  E1B5  20 8E A6    XXE1B5 JSR XXA68E
05540  E1B8  20 33 A5           JSR XXA533
05541  E1BB  4C 77 A6           JMP KKA677
05542  E1BE              ;********************************
05543  E1BE              ; OPEN COMMAND
05544  E1BE              ;********************************
05545  E1BE  20 19 E2    ZZE1BE JSR XXE219
05546  E1C1  20 C0 FF           JSR OPEN
05547  E1C4  B0 0B              BCS XXE1D1
05548  E1C6  60                 RTS 
05549  E1C7              ;********************************
05550  E1C7              ; CLOSE COMMAND
05551  E1C7              ;********************************
05552  E1C7  20 19 E2    ZZE1C7 JSR XXE219
05553  E1CA  A5 49              LDA FORPNT
05554  E1CC  20 C3 FF           JSR CLOSE
05555  E1CF  90 C3              BCC XXE194
05556  E1D1  4C F9 E0    XXE1D1 JMP XXE0F9
05557  E1D4              ;********************************
05558  E1D4              ; SET PARAMETERS FOR LOAD/VERIFY/SAVE
05559  E1D4              ;********************************
05560  E1D4  A9 00       XXE1D4 LDA #$00
05561  E1D6  20 BD FF           JSR SETNAM
05562  E1D9  A2 01              LDX #$01
05563  E1DB  A0 00              LDY #$00
05564  E1DD  20 BA FF           JSR SETLFS
05565  E1E0  20 06 E2           JSR XXE206
05566  E1E3  20 57 E2           JSR XXE257
05567  E1E6  20 06 E2           JSR XXE206
05568  E1E9  20 00 E2           JSR XXE200
05569  E1EC  A0 00              LDY #$00
05570  E1EE  86 49              STX FORPNT
05571  E1F0  20 BA FF           JSR SETLFS
05572  E1F3  20 06 E2           JSR XXE206
05573  E1F6  20 00 E2           JSR XXE200
05574  E1F9  8A                 TXA 
05575  E1FA  A8                 TAY 
05576  E1FB  A6 49              LDX FORPNT
05577  E1FD  4C BA FF           JMP SETLFS
05578  E200              ;********************************






BASICV2A.ASM......PAGE 0108

LINE# LOC   CODE        LINE


05579  E200              ; SKIP COMMA AND GET INTEGER IN X
05580  E200              ;********************************
05581  E200  20 0E E2    XXE200 JSR XXE20E
05582  E203  4C 9E B7           JMP XXB79E
05583  E206              ;********************************
05584  E206              ; GET CHARACTER AND CHECK FOR END OF LINE
05585  E206              ;********************************
05586  E206  20 79 00    XXE206 JSR CHRGOT
05587  E209  D0 02              BNE XXE20D
05588  E20B  68                 PLA 
05589  E20C  68                 PLA 
05590  E20D  60          XXE20D RTS 
05591  E20E              ;********************************
05592  E20E              ; CHECK FOR COMMA AND SKIP IT
05593  E20E              ;********************************
05594  E20E  20 FD AE    XXE20E JSR XXAEFD
05595  E211  20 79 00    XXE211 JSR CHRGOT
05596  E214  D0 F7              BNE XXE20D
05597  E216  4C 08 AF           JMP XXAF08
05598  E219              ;********************************
05599  E219              ; GET OPEN/CLOSE PARAMETERS
05600  E219              ;********************************
05601  E219  A9 00       XXE219 LDA #$00
05602  E21B  20 BD FF           JSR SETNAM
05603  E21E  20 11 E2           JSR XXE211
05604  E221  20 9E B7           JSR XXB79E
05605  E224  86 49              STX FORPNT
05606  E226  8A                 TXA 
05607  E227  A2 01              LDX #$01
05608  E229  A0 00              LDY #$00
05609  E22B  20 BA FF           JSR SETLFS
05610  E22E  20 06 E2           JSR XXE206
05611  E231  20 00 E2           JSR XXE200
05612  E234  86 4A              STX FORPNT+1
05613  E236  A0 00              LDY #$00
05614  E238  A5 49              LDA FORPNT
05615  E23A  E0 03              CPX #$03
05616  E23C  90 01              BCC XXE23F
05617  E23E  88                 DEY 
05618  E23F  20 BA FF    XXE23F JSR SETLFS
05619  E242  20 06 E2           JSR XXE206
05620  E245  20 00 E2           JSR XXE200
05621  E248  8A                 TXA 
05622  E249  A8                 TAY 
05623  E24A  A6 4A              LDX FORPNT+1
05624  E24C  A5 49              LDA FORPNT
05625  E24E  20 BA FF           JSR SETLFS
05626  E251  20 06 E2           JSR XXE206
05627  E254  20 0E E2           JSR XXE20E
05628  E257  20 9E AD    XXE257 JSR XXAD9E
05629  E25A  20 A3 B6           JSR XXB6A3
05630  E25D  A6 22              LDX INDEX
05631  E25F  A4 23              LDY INDEX+1
05632  E261  4C BD FF           JMP SETNAM
05633  E264              ;********************************






BASICV2A.ASM......PAGE 0109

LINE# LOC   CODE        LINE


05634  E264              ; COS FUNCTION
05635  E264              ;********************************
05636  E264  A9 E0       KKE264 LDA #<ZZE2E0      ; LOW  E2E0
05637  E266  A0 E2              LDY #>ZZE2E0      ; HIGH E2E0
05638  E268  20 67 B8           JSR XXB867
05639  E26B              ;********************************
05640  E26B              ; SIN FUNCTION
05641  E26B              ;********************************
05642  E26B  20 0C BC    XXE26B JSR $BC0C
05643  E26E  A9 E5              LDA #<ZZE2E5      ; LOW  E2E5
05644  E270  A0 E2              LDY #>ZZE2E5      ; HIGH E2E5
05645  E272  A6 6E              LDX ARGSGN
05646  E274  20 07 BB           JSR KKBB07
05647  E277  20 0C BC           JSR XXBC0C
05648  E27A  20 CC BC           JSR XXBCCC
05649  E27D  A9 00              LDA #$00
05650  E27F  85 6F              STA ARISGN
05651  E281  20 53 B8           JSR KKB853
05652  E284  A9 EA              LDA #<ZZE2EA      ; LOW  E2EA
05653  E286  A0 E2              LDY #>ZZE2EA      ; HIGH E2EA
05654  E288  20 50 B8           JSR XXB850
05655  E28B  A5 66              LDA FACSGN
05656  E28D  48                 PHA 
05657  E28E  10 0D              BPL XXE29D
05658  E290  20 49 B8           JSR XXB849
05659  E293  A5 66              LDA FACSGN
05660  E295  30 09              BMI XXE2A0
05661  E297  A5 12              LDA TANSGN
05662  E299  49 FF              EOR #$FF
05663  E29B  85 12              STA TANSGN
05664  E29D  20 B4 BF    XXE29D JSR XXBFB4
05665  E2A0  A9 EA       XXE2A0 LDA #<ZZE2EA      ; LOW  E2EA
05666  E2A2  A0 E2              LDY #>ZZE2EA      ; HIGH E2EA
05667  E2A4  20 67 B8           JSR XXB867
05668  E2A7  68                 PLA 
05669  E2A8  10 03              BPL XXE2AD
05670  E2AA  20 B4 BF           JSR XXBFB4
05671  E2AD  A9 EF       XXE2AD LDA #$EF
05672  E2AF  A0 E2              LDY #$E2
05673  E2B1  4C 43 E0           JMP XXE043
05674  E2B4              ;********************************
05675  E2B4              ; TAN FUNCTION
05676  E2B4              ;********************************
05677  E2B4  20 CA BB    ZZE2B4 JSR KKBBCA
05678  E2B7  A9 00              LDA #$00
05679  E2B9  85 12              STA TANSGN
05680  E2BB  20 6B E2           JSR XXE26B
05681  E2BE  A2 4E              LDX #<DEFPNT    ;#$4E      ; LOW  004E
05682  E2C0  A0 00              LDY #>DEFPNT    ;#$00      ; HIGH 004E
05683  E2C2  20 F6 E0           JSR XXE0F6
05684  E2C5  A9 57              LDA #<BASWRK    ;#$57      ; LOW  0057
05685  E2C7  A0 00              LDY #>BASWRK    ;#$00      ; HIGH 0057
05686  E2C9  20 A2 BB           JSR XXBBA2
05687  E2CC  A9 00              LDA #$00
05688  E2CE  85 66              STA FACSGN






BASICV2A.ASM......PAGE 0110

LINE# LOC   CODE        LINE


05689  E2D0  A5 12              LDA TANSGN
05690  E2D2  20 DC E2           JSR XXE2DC
05691  E2D5  A9 4E              LDA #<DEFPNT    ;#$4E      ; LOW  004E
05692  E2D7  A0 00              LDY #>DEFPNT    ;#$00      ; HIGH 004E
05693  E2D9  4C 0F BB           JMP XXBB0F
05694  E2DC              ;********************************
05695  E2DC              ;
05696  E2DC              ;********************************
05697  E2DC  48          XXE2DC PHA 
05698  E2DD  4C 9D E2           JMP XXE29D
05699  E2E0              ;********************************
05700  E2E0              ; FLOAT NUMBERS FOR SIN, COS AND TAN
05701  E2E0              ;********************************
05702  E2E0              ; 0.5 * PI
05703  E2E0  81          ZZE2E0 .BYTE $81,$49,$0F,$DA,$A2
05703  E2E1  49 
05703  E2E2  0F 
05703  E2E3  DA 
05703  E2E4  A2 
05704  E2E5              ; 2 * PI
05705  E2E5  83          ZZE2E5 .BYTE $83,$49,$0F,$DA,$A2
05705  E2E6  49 
05705  E2E7  0F 
05705  E2E8  DA 
05705  E2E9  A2 
05706  E2EA              ; 0.25 * PI
05707  E2EA  7F          ZZE2EA .BYTE $7F,$00,$00,$00,$00
05707  E2EB  00 
05707  E2EC  00 
05707  E2ED  00 
05707  E2EE  00 
05708  E2EF              ;********************************
05709  E2EF              ; POLYNOMIAL TABLE
05710  E2EF              ;********************************
05711  E2EF  05          ZZE2EF .BYTE $05       ; DEGREE 6
05712  E2F0  84                 .BYTE $84,$E6,$1A,$2D,$1B
05712  E2F1  E6 
05712  E2F2  1A 
05712  E2F3  2D 
05712  E2F4  1B 
05713  E2F5  86                 .BYTE $86,$28,$07,$FB,$F8
05713  E2F6  28 
05713  E2F7  07 
05713  E2F8  FB 
05713  E2F9  F8 
05714  E2FA  87                 .BYTE $87,$99,$68,$89,$01
05714  E2FB  99 
05714  E2FC  68 
05714  E2FD  89 
05714  E2FE  01 
05715  E2FF  87                 .BYTE $87,$23,$35,$DF,$E1
05715  E300  23 
05715  E301  35 
05715  E302  DF 
05715  E303  E1 






BASICV2A.ASM......PAGE 0111

LINE# LOC   CODE        LINE


05716  E304  86                 .BYTE $86,$A5,$5D,$E7,$28
05716  E305  A5 
05716  E306  5D 
05716  E307  E7 
05716  E308  28 
05717  E309  83                 .BYTE $83,$49,$0F,$DA,$A2
05717  E30A  49 
05717  E30B  0F 
05717  E30C  DA 
05717  E30D  A2 
05718  E30E              ;********************************
05719  E30E              ; ATN FUNCTION
05720  E30E              ;********************************
05721  E30E  A5 66       KKE30E LDA FACSGN
05722  E310  48                 PHA 
05723  E311  10 03              BPL XXE316
05724  E313  20 B4 BF           JSR XXBFB4
05725  E316  A5 61       XXE316 LDA FACEXP
05726  E318  48                 PHA 
05727  E319  C9 81              CMP #$81
05728  E31B  90 07              BCC XXE324
05729  E31D  A9 BC              LDA #<WWB9BC    ;#$BC      ; LOW  B9BC
05730  E31F  A0 B9              LDY #>WWB9BC    ;#$B9      ; HIGH B9BC
05731  E321  20 0F BB           JSR XXBB0F
05732  E324  A9 3E       XXE324 LDA #<ZZE33E      ; LOW  E33E
05733  E326  A0 E3              LDY #>ZZE33E      ; HIGH E33E
05734  E328  20 43 E0           JSR XXE043
05735  E32B  68                 PLA 
05736  E32C  C9 81              CMP #$81
05737  E32E  90 07              BCC XXE337
05738  E330  A9 E0              LDA #<ZZE2E0      ; LOW  E2E0
05739  E332  A0 E2              LDY #>ZZE2E0      ; HIGH E2E0
05740  E334  20 50 B8           JSR XXB850
05741  E337  68          XXE337 PLA 
05742  E338  10 03              BPL XXE33D
05743  E33A  4C B4 BF           JMP XXBFB4
05744  E33D              ;********************************
05745  E33D              ;
05746  E33D              ;********************************
05747  E33D  60          XXE33D RTS 
05748  E33E              ;********************************
05749  E33E              ; FLOAT NUMBERS FOR ATN
05750  E33E              ; POLYNOMIAL TABLE
05751  E33E              ;********************************
05752  E33E  0B          ZZE33E .BYTE $0B       ; DEGREE 12
05753  E33F  76                 .BYTE $76,$B3,$83,$BD,$D3
05753  E340  B3 
05753  E341  83 
05753  E342  BD 
05753  E343  D3 
05754  E344  79                 .BYTE $79,$1E,$F4,$A6,$F5
05754  E345  1E 
05754  E346  F4 
05754  E347  A6 
05754  E348  F5 






BASICV2A.ASM......PAGE 0112

LINE# LOC   CODE        LINE


05755  E349  7B                 .BYTE $7B,$83,$FC,$B0,$10
05755  E34A  83 
05755  E34B  FC 
05755  E34C  B0 
05755  E34D  10 
05756  E34E  7C                 .BYTE $7C,$0C,$1F,$67,$CA
05756  E34F  0C 
05756  E350  1F 
05756  E351  67 
05756  E352  CA 
05757  E353  7C                 .BYTE $7C,$DE,$53,$CB,$C1
05757  E354  DE 
05757  E355  53 
05757  E356  CB 
05757  E357  C1 
05758  E358  7D                 .BYTE $7D,$14,$64,$70,$4C
05758  E359  14 
05758  E35A  64 
05758  E35B  70 
05758  E35C  4C 
05759  E35D  7D                 .BYTE $7D,$B7,$EA,$51,$7A
05759  E35E  B7 
05759  E35F  EA 
05759  E360  51 
05759  E361  7A 
05760  E362  7D                 .BYTE $7D,$63,$30,$88,$7E
05760  E363  63 
05760  E364  30 
05760  E365  88 
05760  E366  7E 
05761  E367  7E                 .BYTE $7E,$92,$44,$99,$3A
05761  E368  92 
05761  E369  44 
05761  E36A  99 
05761  E36B  3A 
05762  E36C  7E                 .BYTE $7E,$4C,$CC,$91,$C7
05762  E36D  4C 
05762  E36E  CC 
05762  E36F  91 
05762  E370  C7 
05763  E371  7F                 .BYTE $7F,$AA,$AA,$AA,$13
05763  E372  AA 
05763  E373  AA 
05763  E374  AA 
05763  E375  13 
05764  E376  81                 .BYTE $81,$00,$00,$00,$00
05764  E377  00 
05764  E378  00 
05764  E379  00 
05764  E37A  00 
05765  E37B              ;********************************
05766  E37B              ; WARM START ENTRY
05767  E37B              ;********************************
05768  E37B  20 CC FF    KKE37B JSR CLRCHN
05769  E37E  A9 00              LDA #$00






BASICV2A.ASM......PAGE 0113

LINE# LOC   CODE        LINE


05770  E380  85 13              STA CHANNL
05771  E382  20 7A A6           JSR XXA67A
05772  E385  58                 CLI 
05773  E386  A2 80       XXE386 LDX #$80
05774  E388  6C 00 03           JMP (IERROR)    ; NORMALLY E38B
05775  E38B              ;********************************
05776  E38B              ; HANDLE ERROR MESSAGES
05777  E38B              ;********************************
05778  E38B  8A          XXE38B TXA 
05779  E38C  30 03              BMI XXE391
05780  E38E  4C 3A A4           JMP KKA43A
05781  E391              ;********************************
05782  E391  4C 74 A4    XXE391 JMP XXA474
05783  E394              ;********************************
05784  E394              ; RESET ROUTINE
05785  E394              ;********************************
05786  E394  20 53 E4    ZZE394 JSR XXE453
05787  E397  20 BF E3           JSR XXE3BF
05788  E39A  20 22 E4           JSR XXE422
05789  E39D  A2 FB              LDX #$FB
05790  E39F  9A                 TXS 
05791  E3A0  D0 E4              BNE XXE386
05792  E3A2              ;********************************
05793  E3A2              ; CHARACTER FETCH CODE FOR ZERO PAGE $0073-$008F
05794  E3A2              ;********************************
05795  E3A2  E6 7A       XXE3A2 INC TXTPTR
05796  E3A4  D0 02              BNE XXE3A8
05797  E3A6  E6 7B              INC TXTPTR+1
05798  E3A8  AD 60 EA    XXE3A8 LDA XXEA61-1
05799  E3AB  C9 3A              CMP #$3A        ; COLON ;':'
05800  E3AD  B0 0A              BCS XXE3B9
05801  E3AF  C9 20              CMP #$20        ; SPACE ' '
05802  E3B1  F0 EF              BEQ XXE3A2
05803  E3B3  38                 SEC 
05804  E3B4  E9 30              SBC #$30        ; '0'
05805  E3B6  38                 SEC 
05806  E3B7  E9 D0              SBC #$D0
05807  E3B9  60          XXE3B9 RTS 
05808  E3BA              ;********************************
05809  E3BA              ; FIRST RND SEED VALUE
05810  E3BA              ;********************************
05811  E3BA  80          WWE3BA .BYTE $80,$4F,$C7,$52,$58
05811  E3BB  4F 
05811  E3BC  C7 
05811  E3BD  52 
05811  E3BE  58 
05812  E3BF              ;********************************
05813  E3BF              ; INITIALISATION OF BASIC
05814  E3BF              ;********************************
05815  E3BF  A9 4C       XXE3BF LDA #$4C        ;'L'
05816  E3C1  85 54              STA JMPER
05817  E3C3  8D 10 03           STA USRPOK
05818  E3C6  A9 48              LDA #<XXB248    ;#$48      ; LOW  B248
05819  E3C8  A0 B2              LDY #>XXB248    ;#$B2      ; HIGH B248
05820  E3CA  8D 11 03           STA USRADD






BASICV2A.ASM......PAGE 0114

LINE# LOC   CODE        LINE


05821  E3CD  8C 12 03           STY USRADD+1
05822  E3D0  A9 91              LDA #<XXB391    ;#$91      ; LOW B391
05823  E3D2  A0 B3              LDY #>XXB391    ;#$B3      ; HIGH B391
05824  E3D4  85 05              STA ADRAY2
05825  E3D6  84 06              STY ADRAY2+1
05826  E3D8  A9 AA              LDA #<ZZB1AA    ;#$AA      ; LOW  B1AA
05827  E3DA  A0 B1              LDY #>ZZB1AA    ;#$B1      ; HIGH B1AA
05828  E3DC  85 03              STA ADRAY1
05829  E3DE  84 04              STY ADRAY1+1
05830  E3E0  A2 1C              LDX #$1C
05831  E3E2  BD A2 E3    XXE3E2 LDA XXE3A2,X
05832  E3E5  95 73              STA CHRGET,X
05833  E3E7  CA                 DEX 
05834  E3E8  10 F8              BPL XXE3E2
05835  E3EA  A9 03              LDA #$03
05836  E3EC  85 53              STA FOUR6
05837  E3EE  A9 00              LDA #$00
05838  E3F0  85 68              STA BITS
05839  E3F2  85 13              STA CHANNL
05840  E3F4  85 18              STA LASTPT+1
05841  E3F6  A2 01              LDX #$01
05842  E3F8  8E FD 01           STX $01FD
05843  E3FB  8E FC 01           STX $01FC
05844  E3FE  A2 19              LDX #$19
05845  E400  86 16              STX TEMPPT
05846  E402  38                 SEC 
05847  E403  20 9C FF           JSR MEMBOT
05848  E406  86 2B              STX TXTTAB
05849  E408  84 2C              STY TXTTAB+1
05850  E40A  38                 SEC 
05851  E40B  20 99 FF           JSR MEMTOP
05852  E40E  86 37              STX MEMSIZ
05853  E410  84 38              STY MEMSIZ+1
05854  E412  86 33              STX FRETOP
05855  E414  84 34              STY FRETOP+1
05856  E416  A0 00              LDY #$00
05857  E418  98                 TYA 
05858  E419  91 2B              STA (TXTTAB),Y
05859  E41B  E6 2B              INC TXTTAB
05860  E41D  D0 02              BNE XXE421
05861  E41F  E6 2C              INC TXTTAB+1
05862  E421  60          XXE421 RTS 
05863  E422              ;********************************
05864  E422              ; PRINT BASIC START UP MESSAGES
05865  E422              ;********************************
05866  E422  A5 2B       XXE422 LDA TXTTAB
05867  E424  A4 2C              LDY TXTTAB+1
05868  E426  20 08 A4           JSR XXA408
05869  E429  A9 73              LDA #<ZZE473    ; LOW  E473
05870  E42B  A0 E4              LDY #>ZZE473    ; HIGH E473
05871  E42D  20 1E AB           JSR XXAB1E
05872  E430  A5 37              LDA MEMSIZ
05873  E432  38                 SEC 
05874  E433  E5 2B              SBC TXTTAB
05875  E435  AA                 TAX 






BASICV2A.ASM......PAGE 0115

LINE# LOC   CODE        LINE


05876  E436  A5 38              LDA MEMSIZ+1
05877  E438  E5 2C              SBC TXTTAB+1
05878  E43A  20 CD BD           JSR XXBDCD
05879  E43D  A9 60              LDA #<ZZE460    ; LOW  E460
05880  E43F  A0 E4              LDY #>ZZE460    ; HIGH E460
05881  E441  20 1E AB           JSR XXAB1E
05882  E444  4C 44 A6           JMP KKA644
05883  E447              ;********************************
05884  E447              ; VECTORS FOR $0300-$030B
05885  E447              ;********************************
05886  E447  8B E3       XXE447 .WORD XXE38B    ;$E38B
05887  E449  83 A4              .WORD KKA483    ;$A483
05888  E44B  7C A5              .WORD KKA57C    ;$A57C
05889  E44D  1A A7              .WORD ZZA71A    ;$A71A
05890  E44F  E4 A7              .WORD KKA7E4    ;$A7E4
05891  E451  86 AE              .WORD KKAE86    ;$AE86
05892  E453              ;********************************
05893  E453              ; INITIALIZE VECTORS
05894  E453              ;********************************
05895  E453  A2 0B       XXE453 LDX #$0B
05896  E455  BD 47 E4    XXE455 LDA XXE447,X
05897  E458  9D 00 03           STA IERROR,X
05898  E45B  CA                 DEX 
05899  E45C  10 F7              BPL XXE455
05900  E45E  60                 RTS 
05901  E45F              ;********************************
05902  E45F              ; STARTUP MESSAGES
05903  E45F              ;********************************
05904  E45F  00          ZZE45F .BYTE $00
05905  E460  20 42       ZZE460 .BYTE ' BASIC BYTES FREE'
05906  E471  0D                 .BYTE $0D
05907  E472  00                 .BYTE $00
05908  E473  93          ZZE473 .BYTE $93
05909  E474  0D                 .BYTE $0D
05910  E475  20 20              .BYTE '    **** COMMODORE 64 BASIC V2 ****
'
05911  E498  0D                 .BYTE $0D
05912  E499  0D                 .BYTE $0D
05913  E49A  20 36              .BYTE ' 64K RAM SYSTEM  '
05914  E4AB  00                 .BYTE $00
05915  E4AC  81          ZZE4AC .BYTE $81
05916  E4AD              ;********************************
05917  E4AD              ; SET OUTPUT DEVICE
05918  E4AD              ;********************************
05919  E4AD  48          XXE4AD PHA 
05920  E4AE  20 C9 FF           JSR CHKOUT
05921  E4B1  AA                 TAX 
05922  E4B2  68                 PLA 
05923  E4B3  90 01              BCC XXE4B6
05924  E4B5  8A                 TXA 
05925  E4B6  60          XXE4B6 RTS 
05926  E4B7              ;********************************
05927  E4B7              ; UNUSED
05928  E4B7              ;********************************
05929  E4B7  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
05929  E4B8  AA 






BASICV2A.ASM......PAGE 0116

LINE# LOC   CODE        LINE


05929  E4B9  AA 
05929  E4BA  AA 
05929  E4BB  AA 
05929  E4BC  AA 
05929  E4BD  AA 
05929  E4BE  AA 
05930  E4BF  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
05930  E4C0  AA 
05930  E4C1  AA 
05930  E4C2  AA 
05930  E4C3  AA 
05930  E4C4  AA 
05930  E4C5  AA 
05930  E4C6  AA 
05931  E4C7  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
05931  E4C8  AA 
05931  E4C9  AA 
05931  E4CA  AA 
05931  E4CB  AA 
05931  E4CC  AA 
05931  E4CD  AA 
05931  E4CE  AA 
05932  E4CF  AA                 .BYTE $AA,$AA,$AA,$AA
05932  E4D0  AA 
05932  E4D1  AA 
05932  E4D2  AA 
05933  E4D3              ;********************************
05934  E4D3              ; RS-232 EQUATES
05935  E4D3              ;********************************
05936  E4D3              RINONE = $A9
05937  E4D3              RIPRTY = $AB
05938  E4D3              ;********************************
05939  E4D3              ; RS-232
05940  E4D3              ;********************************
05941  E4D3  85 A9       XXE4D3 STA RINONE
05942  E4D5  A9 01              LDA #$01
05943  E4D7  85 AB              STA RIPRTY
05944  E4D9  60                 RTS 
05945  E4DA              ;********************************
05946  E4DA              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 ADRAY1   0003    ADRAY2   0005    ARGEXP   0069    ARGHO    006A
 ARGSGN   006E    ARISGN   006F    ARYTAB   002F    AUTODN   0292
 BASCLD   E394    BASWRK   0057    BASWRM   E37B    BAUDOF   0299
 BITNUM   0298    BITS     0068    BUF      0200    CBINV    0316
 CHANNL   0013    CHARAC   0007    CHKIN    FFC6    CHKOUT   FFC9
 CHRGET   0073    CHRGOT   0079    CHRIN    FFCF    CHROUT   FFD2








SYMBOL TABLE

SYMBOL VALUE
 CIA1CA   02A2    CIA1CB   02A4    CIA1IR   02A3    CLALL    FFE7
 CLOSE    FFC3    CLRCHN   FFCC    COLOR    0286    COUNT    000B
 CURLIN   0039    DATLIN   003F    DATPRT   0041    DEFPNT   004E
 DIMFLG   000C    DSCPNT   0050    ENABL    02A1    ENDCHR   0008
 FAC1     0061    FAC2     0069    FACEXP   0061    FACHO    0062
 FACOV    0070    FACSGN   0066    FAT      0263    FBUFPT   0071
 FORPNT   0049    FOUR6    0053    FRESPC   0035    FRETOP   0033
 GARBFL   000F    GDCOL    0287    GETIN    FFE4    HIBASE   0288
 IBASIN   0324    IBSOUT   0326    ICHKIN   031E    ICKOUT   0320
 ICLALL   032C    ICLOSE   031C    ICLRCH   0322    ICRNCH   0304
 IERROR   0300    IEVAL    030A    IGETIN   032A    IGONE    0308
 ILOAD    0330    IMAIN    0302    INDEX    0022    INPFLG   0011
 INPPTR   0043    INTFLG   000E    IOBASE   FFF3    IOPNE    031A
 IQPLOP   0306    IRQTMP   029F    ISAVE    0332    ISTOP    0328
 JMPER    0054    KERNAL   E000    KEYD     0277    KEYLOG   028F
 KKA43A   A43A    KKA483   A483    KKA52A   A52A    KKA57C   A57C
 KKA644   A644    KKA663   A663    KKA677   A677    KKA7E4   A7E4
 KKAE86   AE86    KKB853   B853    KKBAB9   BAB9    KKBACA   BACA
 KKBAD4   BAD4    KKBB07   BB07    KKBBCA   BBCA    KKBC0F   BC0F
 KKE000   E000    KKE10C   E10C    KKE112   E112    KKE118   E118
 KKE11E   E11E    KKE124   E124    KKE12A   E12A    KKE147   E147
 KKE156   E156    KKE165   E165    KKE168   E168    KKE1BE   E1BE
 KKE1C7   E1C7    KKE264   E264    KKE30E   E30E    KKE37B   E37B
 LASTPT   0017    LAT      0259    LINNUM   0014    LOAD     FFD5
 LSTSHF   028E    M51AJB   0295    M51CDR   0294    M51CTR   0293
 MEMBOT   FF9C    MEMSI2   0282    MEMSIZ   0037    MEMSTR   0281
 MEMTOP   FF99    MODE     0291    NEXSRO   02A5    NMINV    0318
 OLDLIN   003B    OLDTXT   003D    OPEN     FFC0    OPMASK   004D
 OPPTR    004B    PALNTS   02A6    PLOT     FFF0    POINTB   007C
 POLY1    E043    RDTIM    FFDE    READST   FFB7    RESHO    0026
 RIDBE    029B    RIDBS    029C    RINONE   00A9    RIPRTY   00AB
 RODBE    029E    RODBS    029D    RSSTAT   0297    SAREG    030C
 SAT      026D    SAVE     FFD8    SETLFS   FFBA    SETMSG   FF90
 SETNAM   FFBD    SGNFLG   0067    SPREG    030F    STACK    0100
 STOP     FFE1    STREND   0031    SUBFLG   0010    SXREG    030D
 SYREG    030E    TABLEN   A050    TANSGN   0012    TBUFER   033C
 TEMPPT   0016    TEMPST   0019    TIMOUT   0285    TT9FEA   9FEA
 TT9FEB   9FEB    TXTPTR   007A    TXTTAB   002B    USRADD   0311
 USRCMD   03EE    USRPOK   0310    VALTYP   000D    VARNAM   0045
 VARPNT   0047    VARTAB   002D    VERCK    000A    VICSCN   0400
 WWA09C   A09C    WWA328   A328    WWA364   A364    WWA369   A369
 WWA371   A371    WWA376   A376    WWA381   A381    WWB1A5   B1A5
 WWB9BC   B9BC    WWB9C1   B9C1    WWB9D6   B9D6    WWB9DB   B9DB
 WWB9E0   B9E0    WWB9E5   B9E5    WWBAF9   BAF9    WWBDB8   BDB8
 WWBDBD   BDBD    WWE3BA   E3BA    XMAX     0289    XXA080   A080
 XXA081   A081    XXA09E   A09E    XXA19E   A19E    XXA1AC   A1AC
 XXA1B5   A1B5    XXA1C2   A1C2    XXA1D0   A1D0    XXA1E2   A1E2
 XXA1F0   A1F0    XXA1FF   A1FF    XXA210   A210    XXA225   A225
 XXA235   A235    XXA23B   A23B    XXA24F   A24F    XXA25A   A25A
 XXA26A   A26A    XXA272   A272    XXA27F   A27F    XXA290   A290
 XXA29D   A29D    XXA2AA   A2AA    XXA2BA   A2BA    XXA2C8   A2C8
 XXA2D5   A2D5    XXA2E4   A2E4    XXA2ED   A2ED    XXA300   A300
 XXA30E   A30E    XXA31E   A31E    XXA324   A324    XXA327   A327
 XXA383   A383    XXA38A   A38A    XXA38F   A38F    XXA3A4   A3A4
 XXA3B0   A3B0    XXA3B7   A3B7    XXA3B8   A3B8    XXA3BF   A3BF








SYMBOL TABLE

SYMBOL VALUE
 XXA3DC   A3DC    XXA3E8   A3E8    XXA3EC   A3EC    XXA3F3   A3F3
 XXA3FB   A3FB    XXA408   A408    XXA412   A412    XXA416   A416
 XXA421   A421    XXA434   A434    XXA435   A435    XXA437   A437
 XXA456   A456    XXA469   A469    XXA474   A474    XXA480   A480
 XXA49C   A49C    XXA4D7   A4D7    XXA4DF   A4DF    XXA4ED   A4ED
 XXA508   A508    XXA522   A522    XXA533   A533    XXA53C   A53C
 XXA544   A544    XXA55F   A55F    XXA560   A560    XXA562   A562
 XXA576   A576    XXA579   A579    XXA582   A582    XXA58E   A58E
 XXA5A4   A5A4    XXA5AC   A5AC    XXA5B6   A5B6    XXA5B8   A5B8
 XXA5C7   A5C7    XXA5C9   A5C9    XXA5DC   A5DC    XXA5DE   A5DE
 XXA5E5   A5E5    XXA5EE   A5EE    XXA5F5   A5F5    XXA5F9   A5F9
 XXA609   A609    XXA613   A613    XXA617   A617    XXA62E   A62E
 XXA637   A637    XXA640   A640    XXA641   A641    XXA659   A659
 XXA660   A660    XXA67A   A67A    XXA68D   A68D    XXA68E   A68E
 XXA69B   A69B    XXA6A4   A6A4    XXA6BB   A6BB    XXA6C9   A6C9
 XXA6E6   A6E6    XXA6E8   A6E8    XXA6EF   A6EF    XXA6F3   A6F3
 XXA700   A700    XXA714   A714    XXA717   A717    XXA72C   A72C
 XXA72F   A72F    XXA737   A737    XXA753   A753    XXA79F   A79F
 XXA7AE   A7AE    XXA7BE   A7BE    XXA7CE   A7CE    XXA7E1   A7E1
 XXA7ED   A7ED    XXA7EF   A7EF    XXA804   A804    XXA807   A807
 XXA80B   A80B    XXA80E   A80E    XXA81D   A81D    XXA827   A827
 XXA82B   A82B    XXA82C   A82C    XXA832   A832    XXA849   A849
 XXA84B   A84B    XXA854   A854    XXA862   A862    XXA870   A870
 XXA87D   A87D    XXA897   A897    XXA8A0   A8A0    XXA8BC   A8BC
 XXA8C0   A8C0    XXA8D1   A8D1    XXA8E3   A8E3    XXA8E8   A8E8
 XXA8EB   A8EB    XXA8F8   A8F8    XXA8FB   A8FB    XXA905   A905
 XXA906   A906    XXA909   A909    XXA911   A911    XXA919   A919
 XXA937   A937    XXA940   A940    XXA948   A948    XXA953   A953
 XXA957   A957    XXA95F   A95F    XXA96A   A96A    XXA96B   A96B
 XXA971   A971    XXA99F   A99F    XXA9A5   A9A5    XXA9C2   A9C2
 XXA9D6   A9D6    XXA9D9   A9D9    XXA9DA   A9DA    XXA9ED   A9ED
 XXAA07   AA07    XXAA1D   AA1D    XXAA24   AA24    XXAA27   AA27
 XXAA2C   AA2C    XXAA3D   AA3D    XXAA4B   AA4B    XXAA52   AA52
 XXAA68   AA68    XXAA7F   AA7F    XXAA86   AA86    XXAA90   AA90
 XXAA9A   AA9A    XXAA9D   AA9D    XXAAA0   AAA0    XXAAA2   AAA2
 XXAACA   AACA    XXAAD7   AAD7    XXAAE5   AAE5    XXAAE7   AAE7
 XXAAE8   AAE8    XXAAEE   AAEE    XXAAF8   AAF8    XXAB0E   AB0E
 XXAB0F   AB0F    XXAB10   AB10    XXAB13   AB13    XXAB19   AB19
 XXAB1E   AB1E    XXAB21   AB21    XXAB28   AB28    XXAB3B   AB3B
 XXAB42   AB42    XXAB45   AB45    XXAB47   AB47    XXAB4D   AB4D
 XXAB57   AB57    XXAB5B   AB5B    XXAB5F   AB5F    XXAB62   AB62
 XXAB6B   AB6B    XXAB7A   AB7A    XXAB7B   AB7B    XXAB92   AB92
 XXABA4   ABA4    XXABB5   ABB5    XXABB7   ABB7    XXABBE   ABBE
 XXABCE   ABCE    XXABD6   ABD6    XXABEA   ABEA    XXABF9   ABF9
 XXAC03   AC03    XXAC0D   AC0D    XXAC0F   AC0F    XXAC15   AC15
 XXAC41   AC41    XXAC4A   AC4A    XXAC4D   AC4D    XXAC51   AC51
 XXAC65   AC65    XXAC71   AC71    XXAC72   AC72    XXAC7D   AC7D
 XXAC89   AC89    XXAC91   AC91    XXAC9D   AC9D    XXACB8   ACB8
 XXACD1   ACD1    XXACDF   ACDF    XXACEA   ACEA    XXACFB   ACFB
 XXAD1D   AD1D    XXAD24   AD24    XXAD27   AD27    XXAD32   AD32
 XXAD35   AD35    XXAD75   AD75    XXAD78   AD78    XXAD8A   AD8A
 XXAD8D   AD8D    XXAD8F   AD8F    XXAD90   AD90    XXAD96   AD96
 XXAD97   AD97    XXAD99   AD99    XXAD9E   AD9E    XXADA4   ADA4
 XXADA9   ADA9    XXADB8   ADB8    XXADBB   ADBB    XXADD7   ADD7
 XXADE8   ADE8    XXADF0   ADF0    XXADF9   ADF9    XXADFA   ADFA








SYMBOL TABLE

SYMBOL VALUE
 XXAE07   AE07    XXAE11   AE11    XXAE19   AE19    XXAE20   AE20
 XXAE30   AE30    XXAE33   AE33    XXAE38   AE38    XXAE43   AE43
 XXAE58   AE58    XXAE5B   AE5B    XXAE5D   AE5D    XXAE64   AE64
 XXAE66   AE66    XXAE80   AE80    XXAE83   AE83    XXAE8A   AE8A
 XXAE8F   AE8F    XXAE92   AE92    XXAE9A   AE9A    XXAEAD   AEAD
 XXAEBD   AEBD    XXAEC6   AEC6    XXAECC   AECC    XXAEE3   AEE3
 XXAEEA   AEEA    XXAEF1   AEF1    XXAEF7   AEF7    XXAEFA   AEFA
 XXAEFD   AEFD    XXAEFF   AEFF    XXAF08   AF08    XXAF0D   AF0D
 XXAF0F   AF0F    XXAF14   AF14    XXAF27   AF27    XXAF28   AF28
 XXAF5C   AF5C    XXAF5D   AF5D    XXAF6E   AF6E    XXAF84   AF84
 XXAF92   AF92    XXAFA0   AFA0    XXAFA7   AFA7    XXAFD1   AFD1
 XXAFD6   AFD6    XXB02E   B02E    XXB056   B056    XXB05B   B05B
 XXB061   B061    XXB066   B066    XXB072   B072    XXB07B   B07B
 XXB07E   B07E    XXB08B   B08B    XXB090   B090    XXB092   B092
 XXB09C   B09C    XXB09F   B09F    XXB0AF   B0AF    XXB0B0   B0B0
 XXB0BA   B0BA    XXB0C4   B0C4    XXB0D4   B0D4    XXB0DB   B0DB
 XXB0E7   B0E7    XXB0EF   B0EF    XXB0F1   B0F1    XXB0FB   B0FB
 XXB109   B109    XXB113   B113    XXB11C   B11C    XXB11D   B11D
 XXB123   B123    XXB128   B128    XXB138   B138    XXB13B   B13B
 XXB143   B143    XXB159   B159    XXB185   B185    XXB18F   B18F
 XXB194   B194    XXB1A0   B1A0    XXB1B2   B1B2    XXB1B8   B1B8
 XXB1BF   B1BF    XXB1CC   B1CC    XXB1CE   B1CE    XXB1D1   B1D1
 XXB1DB   B1DB    XXB21C   B21C    XXB228   B228    XXB237   B237
 XXB245   B245    XXB248   B248    XXB24A   B24A    XXB24D   B24D
 XXB261   B261    XXB274   B274    XXB27D   B27D    XXB286   B286
 XXB296   B296    XXB2B9   B2B9    XXB2C8   B2C8    XXB2CD   B2CD
 XXB2EA   B2EA    XXB2F2   B2F2    XXB308   B308    XXB30B   B30B
 XXB30E   B30E    XXB30F   B30F    XXB320   B320    XXB331   B331
 XXB337   B337    XXB34B   B34B    XXB34C   B34C    XXB355   B355
 XXB35F   B35F    XXB378   B378    XXB37D   B37D    XXB384   B384
 XXB391   B391    XXB39E   B39E    XXB3A2   B3A2    XXB3A6   B3A6
 XXB3AE   B3AE    XXB3E1   B3E1    XXB3F4   B3F4    XXB418   B418
 XXB449   B449    XXB44F   B44F    XXB465   B465    XXB46F   B46F
 XXB475   B475    XXB47D   B47D    XXB487   B487    XXB48D   B48D
 XXB497   B497    XXB4A4   B4A4    XXB4A8   B4A8    XXB4A9   B4A9
 XXB4B5   B4B5    XXB4BF   B4BF    XXB4CA   B4CA    XXB4D2   B4D2
 XXB4D5   B4D5    XXB4F4   B4F4    XXB4F6   B4F6    XXB501   B501
 XXB50B   B50B    XXB516   B516    XXB526   B526    XXB52A   B52A
 XXB544   B544    XXB54D   B54D    XXB559   B559    XXB561   B561
 XXB566   B566    XXB56E   B56E    XXB572   B572    XXB57D   B57D
 XXB5AE   B5AE    XXB5B0   B5B0    XXB5B8   B5B8    XXB5BD   B5BD
 XXB5C7   B5C7    XXB5DC   B5DC    XXB5E6   B5E6    XXB5F6   B5F6
 XXB601   B601    XXB606   B606    XXB63D   B63D    XXB65D   B65D
 XXB67A   B67A    XXB688   B688    XXB68C   B68C    XXB690   B690
 XXB699   B699    XXB6A2   B6A2    XXB6A3   B6A3    XXB6A6   B6A6
 XXB6AA   B6AA    XXB6D5   B6D5    XXB6D6   B6D6    XXB6DB   B6DB
 XXB6EB   B6EB    XXB6EC   B6EC    XXB700   B700    XXB706   B706
 XXB70C   B70C    XXB70D   B70D    XXB70E   B70E    XXB725   B725
 XXB72C   B72C    XXB737   B737    XXB748   B748    XXB761   B761
 XXB77C   B77C    XXB782   B782    XXB78B   B78B    XXB798   B798
 XXB79B   B79B    XXB79E   B79E    XXB7A1   B7A1    XXB7AD   B7AD
 XXB7B5   B7B5    XXB7CD   B7CD    XXB7E2   B7E2    XXB7EB   B7EB
 XXB7F1   B7F1    XXB7F7   B7F7    XXB80D   B80D    XXB82C   B82C
 XXB83C   B83C    XXB840   B840    XXB848   B848    XXB849   B849
 XXB850   B850    XXB862   B862    XXB867   B867    XXB86A   B86A








SYMBOL TABLE

SYMBOL VALUE
 XXB86F   B86F    XXB877   B877    XXB893   B893    XXB897   B897
 XXB8A3   B8A3    XXB8AF   B8AF    XXB8D2   B8D2    XXB8D7   B8D7
 XXB8DB   B8DB    XXB8F7   B8F7    XXB8F9   B8F9    XXB8FB   B8FB
 XXB8FE   B8FE    XXB91D   B91D    XXB929   B929    XXB936   B936
 XXB938   B938    XXB946   B946    XXB947   B947    XXB94D   B94D
 XXB96F   B96F    XXB97D   B97D    XXB97E   B97E    XXB983   B983
 XXB985   B985    XXB999   B999    XXB9A6   B9A6    XXB9AC   B9AC
 XXB9B0   B9B0    XXB9BA   B9BA    XXB9EA   B9EA    XXB9F1   B9F1
 XXB9F4   B9F4    XXBA28   BA28    XXBA30   BA30    XXBA59   BA59
 XXBA5E   BA5E    XXBA61   BA61    XXBA7D   BA7D    XXBA8B   BA8B
 XXBA8C   BA8C    XXBAB7   BAB7    XXBAC4   BAC4    XXBACF   BACF
 XXBADA   BADA    XXBADF   BADF    XXBAE2   BAE2    XXBAED   BAED
 XXBAF8   BAF8    XXBAFE   BAFE    XXBB0F   BB0F    XXBB12   BB12
 XXBB29   BB29    XXBB3F   BB3F    XXBB4C   BB4C    XXBB4F   BB4F
 XXBB5D   BB5D    XXBB7A   BB7A    XXBB7E   BB7E    XXBB8A   BB8A
 XXBB8F   BB8F    XXBBA2   BBA2    XXBBD0   BBD0    XXBBD4   BBD4
 XXBBFC   BBFC    XXBBFE   BBFE    XXBC02   BC02    XXBC0C   BC0C
 XXBC11   BC11    XXBC1A   BC1A    XXBC1B   BC1B    XXBC23   BC23
 XXBC2B   BC2B    XXBC2F   BC2F    XXBC31   BC31    XXBC38   BC38
 XXBC39   BC39    XXBC3C   BC3C    XXBC44   BC44    XXBC49   BC49
 XXBC4F   BC4F    XXBC58   BC58    XXBC5B   BC5B    XXBC5D   BC5D
 XXBC92   BC92    XXBC98   BC98    XXBC9B   BC9B    XXBCAF   BCAF
 XXBCBA   BCBA    XXBCBB   BCBB    XXBCCC   BCCC    XXBCE9   BCE9
 XXBCF2   BCF2    XXBCF3   BCF3    XXBCF7   BCF7    XXBD06   BD06
 XXBD0A   BD0A    XXBD0D   BD0D    XXBD0F   BD0F    XXBD2E   BD2E
 XXBD30   BD30    XXBD33   BD33    XXBD35   BD35    XXBD41   BD41
 XXBD47   BD47    XXBD49   BD49    XXBD52   BD52    XXBD5B   BD5B
 XXBD62   BD62    XXBD67   BD67    XXBD6A   BD6A    XXBD71   BD71
 XXBD7E   BD7E    XXBD91   BD91    XXBDA0   BDA0    XXBDAE   BDAE
 XXBDC2   BDC2    XXBDCD   BDCD    XXBDDA   BDDA    XXBDDD   BDDD
 XXBDDF   BDDF    XXBDE7   BDE7    XXBDF8   BDF8    XXBE00   BE00
 XXBE09   BE09    XXBE0B   BE0B    XXBE16   BE16    XXBE21   BE21
 XXBE28   BE28    XXBE2F   BE2F    XXBE32   BE32    XXBE47   BE47
 XXBE48   BE48    XXBE53   BE53    XXBE64   BE64    XXBE66   BE66
 XXBE68   BE68    XXBE6A   BE6A    XXBE8E   BE8E    XXBE90   BE90
 XXBE97   BE97    XXBEB2   BEB2    XXBEC4   BEC4    XXBEC6   BEC6
 XXBED3   BED3    XXBEE3   BEE3    XXBEEF   BEEF    XXBF04   BF04
 XXBF07   BF07    XXBF0C   BF0C    XXBF16   BF16    XXBF17   BF17
 XXBF18   BF18    XXBF19   BF19    XXBF71   BF71    XXBF84   BF84
 XXBF9E   BF9E    XXBFB4   BFB4    XXBFBE   BFBE    XXBFED   BFED
 XXBFFD   BFFD    XXE00B   E00B    XXE00E   E00E    XXE01E   E01E
 XXE043   E043    XXE059   E059    XXE05D   E05D    XXE06C   E06C
 XXE070   E070    XXE07D   E07D    XXE0BE   E0BE    XXE0D3   E0D3
 XXE0E3   E0E3    XXE0F6   E0F6    XXE0F9   E0F9    XXE104   E104
 XXE109   E109    XXE194   E194    XXE195   E195    XXE19E   E19E
 XXE1A1   E1A1    XXE1B5   E1B5    XXE1D1   E1D1    XXE1D4   E1D4
 XXE200   E200    XXE206   E206    XXE20D   E20D    XXE20E   E20E
 XXE211   E211    XXE219   E219    XXE23F   E23F    XXE257   E257
 XXE26B   E26B    XXE29D   E29D    XXE2A0   E2A0    XXE2AD   E2AD
 XXE2DC   E2DC    XXE316   E316    XXE324   E324    XXE337   E337
 XXE33D   E33D    XXE386   E386    XXE38B   E38B    XXE391   E391
 XXE3A2   E3A2    XXE3A8   E3A8    XXE3B9   E3B9    XXE3BF   E3BF
 XXE3E2   E3E2    XXE421   E421    XXE422   E422    XXE447   E447
 XXE453   E453    XXE455   E455    XXE4AD   E4AD    XXE4B6   E4B6
 XXE4D3   E4D3    XXEA61   EA61    ZZA000   A000    ZZA002   A002








SYMBOL TABLE

SYMBOL VALUE
 ZZA004   A004    ZZA00C   A00C    ZZA050   A050    ZZA052   A052
 ZZA129   A129    ZZA642   A642    ZZA65E   A65E    ZZA69C   A69C
 ZZA71A   A71A    ZZA742   A742    ZZA78B   A78B    ZZA82F   A82F
 ZZA831   A831    ZZA857   A857    ZZA871   A871    ZZA883   A883
 ZZA8D2   A8D2    ZZA928   A928    ZZA93B   A93B    ZZA94B   A94B
 ZZAA80   AA80    ZZABA5   ABA5    ZZABBF   ABBF    ZZAC06   AC06
 ZZAD1E   AD1E    ZZAED4   AED4    ZZAFE6   AFE6    ZZAFE9   AFE9
 ZZB016   B016    ZZB081   B081    ZZB1AA   B1AA    ZZB3B3   B3B3
 ZZB824   B824    ZZB82D   B82D    ZZBA2B   BA2B    ZZBBC7   BBC7
 ZZBDB3   BDB3    ZZBF11   BF11    ZZBF1A   BF1A    ZZBF3A   BF3A
 ZZBF52   BF52    ZZBF53   BF53    ZZBF7B   BF7B    ZZBFBF   BFBF
 ZZBFC4   BFC4    ZZE08D   E08D    ZZE092   E092    ZZE097   E097
 ZZE12A   E12A    ZZE156   E156    ZZE165   E165    ZZE168   E168
 ZZE1BE   E1BE    ZZE1C7   E1C7    ZZE2B4   E2B4    ZZE2E0   E2E0
 ZZE2E5   E2E5    ZZE2EA   E2EA    ZZE2EF   E2EF    ZZE33E   E33E
 ZZE394   E394    ZZE45F   E45F    ZZE460   E460    ZZE473   E473
 ZZE4AC   E4AC   

END OF ASSEMBLY
