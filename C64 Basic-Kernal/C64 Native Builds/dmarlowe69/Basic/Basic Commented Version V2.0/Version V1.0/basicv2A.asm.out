BASICV2A.ASM......PAGE 0001

LINE# LOC   CODE        LINE


00001  0000              *=$A000
00002  A000              ;********************************
00003  A000              ; PAGE ZERO EQUATES EQUATES
00004  A000              ;********************************
00005  A000              LINNUM = $14
00006  A000              TEMPPT = $16
00007  A000              LASTPT = $17
00008  A000              TEMPST = $19           ;NOT USED IN BASIC ROM
00009  A000              INDEX  = $22
00010  A000              RESHO  = $26
00011  A000              TXTTAB = $2B
00012  A000              VARTAB = $2D
00013  A000              ARYTAB = $2F
00014  A000              STREND = $31
00015  A000              FRETOP = $33
00016  A000              FRESPC = $35
00017  A000              MEMSIZ = $37
00018  A000              CURLIN = $39
00019  A000              OLDLIN = $3B
00020  A000              OLDTXT = $3D
00021  A000              DATLIN = $3F
00022  A000              DATPRT = $41
00023  A000              ;********************************
00024  A000              ; PAGE ONE EQUATES EQUATES
00025  A000              ;********************************
00026  A000              STACK  = $0100         ; PROCESSOR STACK
00027  A000              ;********************************
00028  A000              ; PAGE TWO EQUATES EQUATES
00029  A000              ;********************************
00030  A000              
00031  A000              ;********************************
00032  A000              ; PAGE THREE EQUATES EQUATES
00033  A000              ;********************************
00034  A000              
00035  A000              ;********************************
00036  A000              ; PAGE FOUR EQUATES EQUATES
00037  A000              ;********************************
00038  A000              
00039  A000              ;********************************
00040  A000              ; PAGE FIVE EQUATES EQUATES
00041  A000              ;********************************
00042  A000              
00043  A000              ;********************************
00044  A000              ; PAGE SIX EQUATES EQUATES
00045  A000              ;********************************
00046  A000              
00047  A000              ;********************************
00048  A000              ; PAGE SEVEN EQUATES EQUATES
00049  A000              ;********************************
00050  A000              
00051  A000              ;********************************
00052  A000              ; PAGE EIGHT EQUATES EQUATES
00053  A000              ;********************************
00054  A000              
00055  A000              ;********************************






BASICV2A.ASM......PAGE 0002

LINE# LOC   CODE        LINE


00056  A000              ; KERNAL ROM EQUATES
00057  A000              ;********************************
00058  A000              KERNAL = $E000         ; START OF KERNAL ROM
00059  A000              BASCLD = $E394         ; BASIC COLD START ENTRY P
OINT
00060  A000              BASWRM = $E37B         ; BASIC WARM START ENTRY P
OINT
00061  A000              ;********************************
00062  A000              ; KERNAL ROM EQUATES
00063  A000              ;********************************
00064  A000              CLALL  = $FFE7         ; CLOSE ALL FILES
00065  A000              ;********************************
00066  A000              ;*** START OF THE BASIC ROM
00067  A000              ;********************************
00068  A000  94 E3       ZZA000 .WORD BASCLD    ; BASIC COLD START ENTRY P
OINT
00069  A002  7B E3       ZZA002 .WORD BASWRM    ; BASIC WARM START ENTRY P
OINT
00070  A004              ;********************************
00071  A004              ; CBMBASIC
00072  A004              ;********************************
00073  A004  43 42       ZZA004 .BYTE 'CBMBASIC'
00074  A00C              ;********************************
00075  A00C              ; ADDRESS TABLE FOR COMMANDS
00076  A00C              ; (ADDRESS MINUS 1 USED)
00077  A00C              ;********************************
00078  A00C  30 A8       ZZA00C .WORD ZZA831-1  ;$A830   ; END
00079  A00E  41 A7       AAA00E .WORD ZZA742-1  ;$A741   ; FOR
00080  A010  1D AD              .WORD ZZAD1E-1  ;$AD1D   ; NEXT
00081  A012  F7 A8              .WORD XXA8F8-1  ;$A8F7   ; DATA
00082  A014  A4 AB              .WORD ZZABA5-1  ;$ABA4   ; INPUT#
00083  A016  BE AB              .WORD ZZABBF-1  ;$ABBE   ; INPUT
00084  A018  80 B0              .WORD ZZB081-1  ;$B080   ; DIM
00085  A01A  05 AC              .WORD $AC05     ; READ
00086  A01C  A4 A9              .WORD $A9A4     ; LET
00087  A01E  9F A8              .WORD $A89F     ; GOTO
00088  A020  70 A8              .WORD $A870     ; RUN
00089  A022  27 A9              .WORD $A927     ; IF
00090  A024  1C A8              .WORD $A81C     ; RESTORE
00091  A026  82 A8              .WORD $A882     ; GOSUB
00092  A028  D1 A8              .WORD $A8D1     ; RETURN
00093  A02A  3A A9              .WORD $A93A     ; REM
00094  A02C  2E A8              .WORD $A82E     ; STOP
00095  A02E  4A A9              .WORD $A94A     ; ON
00096  A030  2C B8              .WORD $B82C     ; WAIT
00097  A032  67 E1              .WORD $E167     ; LOAD
00098  A034  55 E1              .WORD $E155     ; SAVE
00099  A036  64 E1              .WORD $E164     ; VERIFY
00100  A038  B2 B3              .WORD $B3B2     ; DEF
00101  A03A  23 B8              .WORD $B823     ; POKE
00102  A03C  7F AA              .WORD $AA7F     ; PRINT#
00103  A03E  9F AA              .WORD $AA9F     ; PRINT
00104  A040  56 A8              .WORD $A856     ; CONT
00105  A042  9B A6              .WORD $A69B     ; LIST
00106  A044  5D A6              .WORD $A65D     ; CLR
00107  A046  85 AA              .WORD $AA85     ; CMD
00108  A048  29 E1              .WORD $E129     ; SYS
00109  A04A  BD E1              .WORD $E1BD     ; OPEN
00110  A04C  C6 E1              .WORD $E1C6     ; CLOSE






BASICV2A.ASM......PAGE 0003

LINE# LOC   CODE        LINE


00111  A04E  7A AB              .WORD $AB7A     ; GET
00112  A050  41 A6              .WORD $A641     ; NEW
00113  A052              ;
00114  A052              ; ADDRESS TABLE FOR FUNCTIONS
00115  A052              ;
00116  A052  39 BC       ZZA052 .WORD $BC39     ; SGN
00117  A054  CC BC              .WORD $BCCC     ; INT
00118  A056  58 BC              .WORD $BC58     ; ABS
00119  A058  10 03              .WORD $0310     ; USR
00120  A05A  7D B3              .WORD $B37D     ; FRE
00121  A05C  9E B3              .WORD $B39E     ; POS
00122  A05E  71 BF              .WORD $BF71     ; SQR
00123  A060  97 E0              .WORD $E097     ; RND
00124  A062  EA B9              .WORD $B9EA     ; LOG
00125  A064  ED BF              .WORD $BFED     ; EXP
00126  A066  64 E2              .WORD $E264     ; COS
00127  A068  6B E2              .WORD $E26B     ; SIN
00128  A06A  B4 E2              .WORD $E2B4     ; TAN
00129  A06C  0E E3              .WORD $E30E     ; ATN
00130  A06E  0D B8              .WORD $B80D     ; PEEK
00131  A070  7C B7              .WORD $B77C     ; LEN
00132  A072  65 B4              .WORD $B465     ; STR$
00133  A074  AD B7              .WORD $B7AD     ; VAL
00134  A076  8B B7              .WORD $B78B     ; ASC
00135  A078  EC B6              .WORD $B6EC     ; CHR$
00136  A07A  00 B7              .WORD $B700     ; LEFT$
00137  A07C  2C B7              .WORD $B72C     ; RIGHT$
00138  A07E  37 B7              .WORD $B737     ; MID$
00139  A080              ;********************************
00140  A080              ; PRIORITY AND ADDRESS TABLE
00141  A080              ; FOR OPERATORS
00142  A080              ; (ADDRESS MINUS 1 USED)
00143  A080              ;
00144  A080              ;*** PRECEDENCE BYTE AND ACTION ADDRESSES
00145  A080              ; FOR OPERATORS
00146  A080              ; LIKE THE PRIMARY COMMANDS THESE ARE CALLED
00147  A080              ; BY PUSHING THE ADDRESS ONTO THE STACK
00148  A080              ; AND DOING AN RTS, SO AGAIN THE 
00149  A080              ; ACTUAL ADDRESS -1 NEEDS TO BE PUSHED
00150  A080              ;********************************
00151  A080  79          XXA080 .BYTE $79
00152  A081  69          XXA081 .BYTE $69       ; PLUS
00153  A082  B8          XXA082 .BYTE $B8
00154  A083  79                 .BYTE $79
00155  A084  52                 .BYTE $52       ; MINUS
00156  A085  B8                 .BYTE $B8
00157  A086  7B                 .BYTE $7B
00158  A087  2A                 .BYTE $2A       ; MULTIPLY
00159  A088  BA                 .BYTE $BA
00160  A089  7B                 .BYTE $7B
00161  A08A  11                 .BYTE $11       ; DIVIDE
00162  A08B  BB                 .BYTE $BB
00163  A08C  7F                 .BYTE $7F
00164  A08D  7A                 .BYTE $7A       ; POWER
00165  A08E  BF                 .BYTE $BF






BASICV2A.ASM......PAGE 0004

LINE# LOC   CODE        LINE


00166  A08F  50                 .BYTE $50
00167  A090  E8                 .BYTE $E8       ; AND
00168  A091  AF                 .BYTE $AF
00169  A092  46                 .BYTE $46
00170  A093  E5                 .BYTE $E5       ; OR
00171  A094  AF                 .BYTE $AF
00172  A095  7D                 .BYTE $7D
00173  A096  B3                 .BYTE $B3       ; NEGATIVE
00174  A097  BF                 .BYTE $BF
00175  A098  5A                 .BYTE $5A
00176  A099  D3                 .BYTE $D3       ; NOT
00177  A09A  AE                 .BYTE $AE
00178  A09B  64                 .BYTE $64
00179  A09C  15                 .BYTE $15       ; GREATER / EQUAL / LESS
00180  A09D  B0          XXA09D .BYTE $B0
00181  A09E              ;********************************
00182  A09E              ; TABLE OF COMMANDS
00183  A09E              ; EACH ENDED WITH A +$80
00184  A09E              ;
00185  A09E              ; *** BASIC KEYWORDS
00186  A09E              ; EACH WORD HAS B7 SET IN IT'S LAST CHARACTER
00187  A09E              ; AS AN END MARKER, EVEN THE ONE CHARACTER
00188  A09E              ; KEYWORDS SUCH AS "<" OR "="
00189  A09E              ; FIRST ARE THE PRIMARY COMMAND KEYWORDS,
00190  A09E              ; ONLY THESE CAN START A STATEMENT
00191  A09E              ;
00192  A09E              ;********************************
00193  A09E  45          XXA09E .BYTE $45,$4E,$C4                 ; END
00193  A09F  4E 
00193  A0A0  C4 
00194  A0A1  46                 .BYTE $46,$4F,$D2                 ; FOR
00194  A0A2  4F 
00194  A0A3  D2 
00195  A0A4  4E                 .BYTE $4E,$45,$58,$D4             ; NEXT
00195  A0A5  45 
00195  A0A6  58 
00195  A0A7  D4 
00196  A0A8  44                 .BYTE $44,$41,$54,$C1             ; DATA
00196  A0A9  41 
00196  A0AA  54 
00196  A0AB  C1 
00197  A0AC  49                 .BYTE $49,$4E,$50,$55,$54,$A3     ; INPUT#

00197  A0AD  4E 
00197  A0AE  50 
00197  A0AF  55 
00197  A0B0  54 
00197  A0B1  A3 
00198  A0B2  49                 .BYTE $49,$4E,$50,$55,$D4         ; INPUT
00198  A0B3  4E 
00198  A0B4  50 
00198  A0B5  55 
00198  A0B6  D4 
00199  A0B7  44                 .BYTE $44,$49,$CD                 ; DIM
00199  A0B8  49 
00199  A0B9  CD 






BASICV2A.ASM......PAGE 0005

LINE# LOC   CODE        LINE


00200  A0BA  52                 .BYTE $52,$45,$41,$C4             ; READ
00200  A0BB  45 
00200  A0BC  41 
00200  A0BD  C4 
00201  A0BE  4C                 .BYTE $4C,$45,$D4                 ; LET
00201  A0BF  45 
00201  A0C0  D4 
00202  A0C1  47                 .BYTE $47,$4F,$54,$CF             ; GOTO
00202  A0C2  4F 
00202  A0C3  54 
00202  A0C4  CF 
00203  A0C5  52                 .BYTE $52,$55,$CE                 ; RUN
00203  A0C6  55 
00203  A0C7  CE 
00204  A0C8  49                 .BYTE $49,$C6                     ; IF
00204  A0C9  C6 
00205  A0CA  52                 .BYTE $52,$45,$53,$54,$4F,$52,$C5 ; RESTOR
E
00205  A0CB  45 
00205  A0CC  53 
00205  A0CD  54 
00205  A0CE  4F 
00205  A0CF  52 
00205  A0D0  C5 
00206  A0D1  47                 .BYTE $47,$4F,$53,$55,$C2         ; GOSUB
00206  A0D2  4F 
00206  A0D3  53 
00206  A0D4  55 
00206  A0D5  C2 
00207  A0D6  52                 .BYTE $52,$45,$54,$55,$52,$CE     ; RETURN

00207  A0D7  45 
00207  A0D8  54 
00207  A0D9  55 
00207  A0DA  52 
00207  A0DB  CE 
00208  A0DC  52                 .BYTE $52,$45,$CD                 ; REM
00208  A0DD  45 
00208  A0DE  CD 
00209  A0DF  53                 .BYTE $53,$54,$4F,$D0             ; STOP
00209  A0E0  54 
00209  A0E1  4F 
00209  A0E2  D0 
00210  A0E3  4F                 .BYTE $4F,$CE                     ; ON
00210  A0E4  CE 
00211  A0E5  57                 .BYTE $57,$41,$49,$D4             ; WAIT
00211  A0E6  41 
00211  A0E7  49 
00211  A0E8  D4 
00212  A0E9  4C                 .BYTE $4C,$4F,$41,$C4             ; LOAD
00212  A0EA  4F 
00212  A0EB  41 
00212  A0EC  C4 
00213  A0ED  53                 .BYTE $53,$41,$56,$C5             ; SAVE
00213  A0EE  41 
00213  A0EF  56 
00213  A0F0  C5 






BASICV2A.ASM......PAGE 0006

LINE# LOC   CODE        LINE


00214  A0F1  56                 .BYTE $56,$45,$52,$49,$46,$D9     ; VERIFY

00214  A0F2  45 
00214  A0F3  52 
00214  A0F4  49 
00214  A0F5  46 
00214  A0F6  D9 
00215  A0F7  44                 .BYTE $44,$45,$C6                 ; DEF
00215  A0F8  45 
00215  A0F9  C6 
00216  A0FA  50                 .BYTE $50,$4F,$4B,$C5             ; POKE
00216  A0FB  4F 
00216  A0FC  4B 
00216  A0FD  C5 
00217  A0FE  50                 .BYTE $50,$52,$49,$4E,$54,$A3     ; PRINT#

00217  A0FF  52 
00217  A100  49 
00217  A101  4E 
00217  A102  54 
00217  A103  A3 
00218  A104  50                 .BYTE $50,$52,$49,$4E,$D4         ; PRINT
00218  A105  52 
00218  A106  49 
00218  A107  4E 
00218  A108  D4 
00219  A109  43                 .BYTE $43,$4F,$4E,$D4             ; CONT
00219  A10A  4F 
00219  A10B  4E 
00219  A10C  D4 
00220  A10D  4C                 .BYTE $4C,$49,$53,$D4             ; LIST
00220  A10E  49 
00220  A10F  53 
00220  A110  D4 
00221  A111  43                 .BYTE $43,$4C,$D2                 ; CLR
00221  A112  4C 
00221  A113  D2 
00222  A114  43                 .BYTE $43,$4D,$C4                 ; CMD
00222  A115  4D 
00222  A116  C4 
00223  A117  53                 .BYTE $53,$59,$D3                 ; SYS
00223  A118  59 
00223  A119  D3 
00224  A11A  4F                 .BYTE $4F,$50,$45,$CE             ; OPEN
00224  A11B  50 
00224  A11C  45 
00224  A11D  CE 
00225  A11E  43                 .BYTE $43,$4C,$4F,$53,$C5         ; CLOSE
00225  A11F  4C 
00225  A120  4F 
00225  A121  53 
00225  A122  C5 
00226  A123  47                 .BYTE $47,$45,$D4                 ; GET
00226  A124  45 
00226  A125  D4 
00227  A126  4E                 .BYTE $4E,$45,$D7                 ; NEW
00227  A127  45 






BASICV2A.ASM......PAGE 0007

LINE# LOC   CODE        LINE


00227  A128  D7 
00228  A129              ;********************************
00229  A129              ; TABLE OF FUNCTIONS
00230  A129              ; EACH ENDED WITH A +$80
00231  A129              ;********************************
00232  A129  54          ZZA129 .BYTE $54,$41,$42,$A8         ; TAB(
00232  A12A  41 
00232  A12B  42 
00232  A12C  A8 
00233  A12D  54                 .BYTE $54,$CF                 ; TO
00233  A12E  CF 
00234  A12F  46                 .BYTE $46,$CE                 ; FN
00234  A130  CE 
00235  A131  53                 .BYTE $53,$50,$43,$A8         ; SPC(
00235  A132  50 
00235  A133  43 
00235  A134  A8 
00236  A135  54                 .BYTE $54,$48,$45,$CE         ; THEN
00236  A136  48 
00236  A137  45 
00236  A138  CE 
00237  A139  4E                 .BYTE $4E,$4F,$D4             ; NOT
00237  A13A  4F 
00237  A13B  D4 
00238  A13C  53                 .BYTE $53,$54,$45,$D0         ; STEP
00238  A13D  54 
00238  A13E  45 
00238  A13F  D0 
00239  A140  AB                 .BYTE $AB                     ; PLUS
00240  A141  AD                 .BYTE $AD                     ; MINUS
00241  A142  AA                 .BYTE $AA                     ; MULTIPLY
00242  A143  AF                 .BYTE $AF                     ; DIVIDE
00243  A144  DE                 .BYTE $DE                     ; POWER
00244  A145  41                 .BYTE $41,$4E,$C4             ; AND
00244  A146  4E 
00244  A147  C4 
00245  A148  4F                 .BYTE $4F,$D2                 ; ON
00245  A149  D2 
00246  A14A  BE                 .BYTE $BE                     ; GREATER
00247  A14B  BD                 .BYTE $BD                     ; EQUAL
00248  A14C  BC                 .BYTE $BC                     ; LESS
00249  A14D  53                 .BYTE $53,$47,$CE             ; SGN
00249  A14E  47 
00249  A14F  CE 
00250  A150  49                 .BYTE $49,$4E,$D4             ; INT
00250  A151  4E 
00250  A152  D4 
00251  A153  41                 .BYTE $41,$42,$D3             ; ABS
00251  A154  42 
00251  A155  D3 
00252  A156  55                 .BYTE $55,$53,$D2             ; USR
00252  A157  53 
00252  A158  D2 
00253  A159  46                 .BYTE $46,$52,$C5             ; FRE
00253  A15A  52 






BASICV2A.ASM......PAGE 0008

LINE# LOC   CODE        LINE


00253  A15B  C5 
00254  A15C  50                 .BYTE $50,$4F,$D3             ; POS
00254  A15D  4F 
00254  A15E  D3 
00255  A15F  53                 .BYTE $53,$51,$D2             ; SQR
00255  A160  51 
00255  A161  D2 
00256  A162  52                 .BYTE $52,$4E,$C4             ; RND
00256  A163  4E 
00256  A164  C4 
00257  A165  4C                 .BYTE $4C,$4F,$C7             ; LOG
00257  A166  4F 
00257  A167  C7 
00258  A168  45                 .BYTE $45,$58,$D0             ; EXP
00258  A169  58 
00258  A16A  D0 
00259  A16B  43                 .BYTE $43,$4F,$D3             ; COS
00259  A16C  4F 
00259  A16D  D3 
00260  A16E  53                 .BYTE $53,$49,$CE             ; SIN
00260  A16F  49 
00260  A170  CE 
00261  A171  54                 .BYTE $54,$41,$CE             ; TAN
00261  A172  41 
00261  A173  CE 
00262  A174  41                 .BYTE $41,$54,$CE             ; ATN
00262  A175  54 
00262  A176  CE 
00263  A177  50                 .BYTE $50,$45,$45,$CB         ; PEEK
00263  A178  45 
00263  A179  45 
00263  A17A  CB 
00264  A17B  4C                 .BYTE $4C,$45,$CE             ; LEN
00264  A17C  45 
00264  A17D  CE 
00265  A17E  53                 .BYTE $53,$54,$52,$A4         ; STR$
00265  A17F  54 
00265  A180  52 
00265  A181  A4 
00266  A182  56                 .BYTE $56,$41,$CC             ; VAL
00266  A183  41 
00266  A184  CC 
00267  A185  41                 .BYTE $41,$53,$C3             ; ASC
00267  A186  53 
00267  A187  C3 
00268  A188  43                 .BYTE $43,$48,$52,$A4         ; CHR$
00268  A189  48 
00268  A18A  52 
00268  A18B  A4 
00269  A18C  4C                 .BYTE $4C,$45,$46,$54,$A4     ; LEFT$
00269  A18D  45 
00269  A18E  46 
00269  A18F  54 
00269  A190  A4 
00270  A191  52                 .BYTE $52,$49,$47,$48,$54,$A4 ; RIGHT$






BASICV2A.ASM......PAGE 0009

LINE# LOC   CODE        LINE


00270  A192  49 
00270  A193  47 
00270  A194  48 
00270  A195  54 
00270  A196  A4 
00271  A197  4D                 .BYTE $4D,$49,$44,$A4         ; MID$
00271  A198  49 
00271  A199  44 
00271  A19A  A4 
00272  A19B              ;********************************
00273  A19B              ; OTHER COMMANDS
00274  A19B              ;********************************
00275  A19B  47                 .BYTE $47,$CF                 ; GO
00275  A19C  CF 
00276  A19D  00                 .BYTE $00
00277  A19E              ;********************************
00278  A19E              ; TABLE OF ERRORS MESSAGES
00279  A19E              ; EACH ENDED WITH A +$80
00280  A19E              ;********************************
00281  A19E              ; TOO MANY FILES
00282  A19E  54 4F       XXA19E .BYTE 'TOO MANY FILE'
00283  A1AB  D3                 .BYTE $D3
00284  A1AC              ; FILE OPEN
00285  A1AC  46 49       XXA1AC .BYTE 'FILE OPE'
00286  A1B4  CE                 .BYTE $CE
00287  A1B5              ; FILE NOT OPEN
00288  A1B5  46 49       XXA1B5 .BYTE 'FILE NOT OPE'
00289  A1C1  CE                 .BYTE $CE
00290  A1C2              ; FILE NOT FOUND
00291  A1C2  46 49       XXA1C2 .BYTE 'FILE NOT FOUN'
00292  A1CF  C4                 .BYTE $C4
00293  A1D0              ; DEVICE NOT PRESENT
00294  A1D0  44 45       XXA1D0 .BYTE 'DEVICE NOT PRESEN'
00295  A1E1  D4                 .BYTE $D4
00296  A1E2              ; NOT INPUT FILE
00297  A1E2  4E 4F       XXA1E2 .BYTE 'NOT INPUT FIL'
00298  A1EF  C5                 .BYTE $C5
00299  A1F0              ; NOT OUTPUT FILE
00300  A1F0  4E 4F       XXA1F0 .BYTE 'NOT OUTPUT FIL'
00301  A1FE  C5                 .BYTE $C5
00302  A1FF              ; MISSISNG FILE NAME
00303  A1FF  4D 49       XXA1FF .BYTE 'MISSING FILE NAM'
00304  A20F  C5                 .BYTE $C5
00305  A210              ; ILLEGAL DEVICE NUMBER
00306  A210  49 4C       XXA210 .BYTE 'ILLEGAL DEVICE NUMBE'
00307  A224  D2                 .BYTE $D2
00308  A225              ; NEXT WITHOUT FOR
00309  A225  4E 45       XXA225 .BYTE 'NEXT WITHOUT FO'
00310  A234  D2                 .BYTE $D2
00311  A235              ; SYNTAX
00312  A235  53 59       XXA235 .BYTE 'SYNTA'
00313  A23A  D8                 .BYTE $D8
00314  A23B              ; RETURN WITHOUT GOSUB
00315  A23B  52 45       XXA23B .BYTE 'RETURN WITHOUT GOSU'
00316  A24E  C2                 .BYTE $C2






BASICV2A.ASM......PAGE 0010

LINE# LOC   CODE        LINE


00317  A24F              ; OUT OF DATA
00318  A24F  4F 55       XXA24F .BYTE 'OUT OF DAT'
00319  A259  C1                 .BYTE $C1
00320  A25A              ; ILLEGAL QUANTITY
00321  A25A  49 4C       XXA25A .BYTE 'ILLEGAL QUANTIT'
00322  A269  D9                 .BYTE $D9
00323  A26A              ; OVERFLOW
00324  A26A  4F 56       XXA26A .BYTE 'OVERFLO'
00325  A271  D7                 .BYTE $D7
00326  A272              ; OUT OF MEMORY
00327  A272  4F 55       XXA272 .BYTE 'OUT OF MEMOR'
00328  A27E  D9                 .BYTE $D9
00329  A27F              ; UNDEF'D STATEMENT
00330  A27F  55 4E       XXA27F .BYTE 'UNDEF''D STATEMEN'
00331  A28F  D4                 .BYTE $D4
00332  A290              ; BAD SUBSCRIPT
00333  A290  42 41       XXA290 .BYTE 'BAD SUBSCRIP'
00334  A29C  D4                 .BYTE $D4
00335  A29D              ; REDIM'D ARRAY
00336  A29D  52 45       XXA29D .BYTE 'REDIM''D ARRA'
00337  A2A9  D9                 .BYTE $D9
00338  A2AA              ; DIVISION BY ZERO
00339  A2AA  44 49       XXA2AA .BYTE 'DIVISION BY ZER'
00340  A2B9  CF                 .BYTE $CF
00341  A2BA              ; ILLEGAL DIRECT
00342  A2BA  49 4C       XXA2BA .BYTE 'ILLEGAL DIREC'
00343  A2C7  D4                 .BYTE $D4
00344  A2C8              ; TYPE MISMATCH
00345  A2C8  54 59       XXA2C8 .BYTE 'TYPE MISMATC'
00346  A2D4  C8                 .BYTE $C8
00347  A2D5              ; STRING TO LONG
00348  A2D5  53 54       XXA2D5 .BYTE 'STRING TOO LON'
00349  A2E3  C7                 .BYTE $C7
00350  A2E4              ; FILE DATA
00351  A2E4  46 49       XXA2E4 .BYTE 'FILE DAT'
00352  A2EC  C1                 .BYTE $C1
00353  A2ED              ; FORMULA TOO COMPLEX
00354  A2ED  46 4F       XXA2ED .BYTE 'FORMULA TOO COMPLE'
00355  A2FF  D8                 .BYTE $D8
00356  A300              ; CAN'T CONTINUE
00357  A300  43 41       XXA300 .BYTE 'CAN''T CONTINU'
00358  A30D  C5                 .BYTE $C5
00359  A30E              ; UNDEF'D FUNCTION
00360  A30E  55 4E              XXA30E .BYTE 'UNDEF''D FUNCTIO'
00361  A31D  CE                 .BYTE $CE
00362  A31E              ; VERIFY
00363  A31E  56 45              XXA31E .BYTE 'VERIF'
00364  A323  D9                 .BYTE $D9
00365  A324              ; LOAD
00366  A324  4C 4F 41    XXA324 .BYTE 'LOA'
00367  A327  C4          XXA327 .BYTE $C4
00368  A328              ;********************************
00369  A328              ; ERROR MESSAGE ADDRESS LOCATIONS
00370  A328              ;********************************
00371  A328  9E A1              .WORD XXA19E    ; 01 TOO MANY FILES






BASICV2A.ASM......PAGE 0011

LINE# LOC   CODE        LINE


00372  A32A  AC A1              .WORD XXA1AC    ; 02 FILE OPEN
00373  A32C  B5 A1              .WORD XXA1B5    ; 03 FILE NOT OPEN
00374  A32E  C2 A1              .WORD XXA1C2    ; 04 FILE NOT FOUND
00375  A330  D0 A1              .WORD XXA1D0    ; 05 DEVICE NOT PRESENT
00376  A332  E2 A1              .WORD XXA1E2    ; 06 NOT INPUT FILE
00377  A334  F0 A1              .WORD XXA1F0    ; 07 NOT OUTPUT FILE
00378  A336  FF A1              .WORD XXA1FF    ; 08 MISSING FILE NAME
00379  A338  10 A2              .WORD XXA210    ; 09 ILLEGAL DEVICE NUMBER

00380  A33A  25 A2              .WORD XXA225    ; 0A NEXT WITHOUT FOR
00381  A33C  35 A2              .WORD XXA235    ; 0B SYNTAX
00382  A33E  3B A2              .WORD XXA23B    ; 0C RETURN WITHOUT GOSUB
00383  A340  4F A2              .WORD XXA24F    ; 0D OUT OF DATA
00384  A342  5A A2              .WORD XXA25A    ; 0E ILLEGAL QUANTITY
00385  A344  6A A2              .WORD XXA26A    ; 0F OVERFLOW
00386  A346  72 A2              .WORD XXA272    ; 10 OUT OF MEMORY
00387  A348  7F A2              .WORD XXA27F    ; 11 UNDEF'D STATMENT
00388  A34A  90 A2              .WORD XXA290    ; 12 BAD SUBSCRIPT
00389  A34C  9D A2              .WORD XXA29D    ; 13 REDIM'D ARRAY
00390  A34E  AA A2              .WORD XXA2AA    ; 14 DEVISION BY ZERO
00391  A350  BA A2              .WORD XXA2BA    ; 15 ILLEGAL DIRECT
00392  A352  C8 A2              .WORD XXA2C8    ; 16 TYPE MISMATCH
00393  A354  D5 A2              .WORD XXA2D5    ; 17 STRING TOO LONG
00394  A356  E4 A2              .WORD XXA2E4    ; 18 FILE DATA
00395  A358  ED A2              .WORD XXA2ED    ; 19 FORMULA TOO COMPLEX
00396  A35A  00 A3              .WORD XXA300    ; 1A CAN'T CONTINUE
00397  A35C  0E A3              .WORD XXA30E    ; 1B UNDEF'D FUNCTION
00398  A35E  1E A3              .WORD XXA31E    ; 1C VERIFY
00399  A360  24 A3              .WORD XXA324    ; 1D LOAD
00400  A362  83 A3              .WORD XXA383    ; 1E BREAK
00401  A364              ;********************************
00402  A364              ; OTHER MESSAGES
00403  A364              ;********************************
00404  A364              ; OK
00405  A364  0D                 .BYTE $0D
00406  A365  4F 4B              .BYTE 'OK'
00407  A367  0D                 .BYTE $0D
00408  A368  00                 .BYTE $00
00409  A369              ; ERROR
00410  A369  20 20              .BYTE '  ERROR'
00411  A370  00                 .BYTE $00
00412  A371              ; IN
00413  A371  20 49              .BYTE ' IN '
00414  A375  00                 .BYTE $00
00415  A376              ; READY.
00416  A376  0D                 .BYTE $0D
00417  A377  0A                 .BYTE $0A
00418  A378  52 45              .BYTE 'READY.'
00419  A37E  0D                 .BYTE $0D
00420  A37F  0A                 .BYTE $0A
00421  A380  00                 .BYTE $00
00422  A381              ; BREAK
00423  A381  0D                 .BYTE $0D
00424  A382  0A                 .BYTE $0A
00425  A383  42 52       XXA383 .BYTE 'BREAK'
00426  A388  00                 .BYTE $00






BASICV2A.ASM......PAGE 0012

LINE# LOC   CODE        LINE


00427  A389  A0                 .BYTE $A0
00428  A38A              ;********************************
00429  A38A              ; SEARCH FOR "FOR" BLOCKS ON STACK
00430  A38A              ;
00431  A38A              ; *** SEARCH THE STACK FOR FOR OR GOSUB ACTIVITY
00432  A38A              ; RETURN ZB=1 IF FOR VARIABLE FOUND
00433  A38A              ;********************************
00434  A38A  BA          XXA38A TSX             ;COPY STACK POINTER
00435  A38B  E8                 INX             ;+1 PASS RETURN ADDRESS
00436  A38C  E8                 INX             ;+2 PASS RETURN ADDRESS
00437  A38D  E8                 INX             ;+3 PASS CALLING ROUTINE R
ETURN ADDRESS
00438  A38E  E8                 INX +4 PASS CALLING ROUTINE RETURN ADDRESS

00439  A38F  BD 01 01    XXA38F LDA STACK+1,X GET THE TOKEN BYTE FROM THE 
STACK
00440  A392  C9 81              CMP #$81        ; FOR BLOCK CODE - IS IT T
HE FOR TOKEN
00441  A394  D0 21              BNE XXA3B7      ; IF NOT FOR TOKEN JUST EX
IT
00442  A396                                     ;IT WAS THE FOR TOKEN
00443  A396  A5 4A              LDA $4A         ;GET FOR/NEXT VARIABLE POI
NTER HIGH BYTE
00444  A398  D0 0A              BNE XXA3A4      ;BRANCH IF NOT NULL
00445  A39A  BD 02 01           LDA STACK+2,X   ;GET FOR VARIABLE POINTER 
LOW BYTE
00446  A39D  85 49              STA $49         ;SAVE FOR/NEXT VARIABLE PO
INTER LOW BYTE
00447  A39F  BD 03 01           LDA STACK+3,X   ;GET FOR VARIABLE POINTER 
HIGH BYTE
00448  A3A2  85 4A              STA $4A         ;SAVE FOR/NEXT VARIABLE PO
INTER HIGH BYTE
00449  A3A4  DD 03 01    XXA3A4 CMP STACK+3,X   ;COMPARE VARIABLE POINTER 
WITH STACKED VARIABLE POINTER
00450  A3A7                                     ;HIGH BYTE
00451  A3A7  D0 07              BNE XXA3B0      ;BRANCH IF NO MATCH
00452  A3A9  A5 49              LDA $49         ;GET FOR/NEXT VARIABLE POI
NTER LOW BYTE
00453  A3AB  DD 02 01           CMP STACK+2,X   ;COMPARE VARIABLE POINTER 
WITH STACKED VARIABLE POINTER
00454  A3AE                                     ;LOW BYTE
00455  A3AE  F0 07              BEQ XXA3B7      ;EXIT IF MATCH FOUND
00456  A3B0  8A          XXA3B0 TXA             ;COPY INDEX
00457  A3B1  18                 CLC             ;CLEAR CARRY FOR ADD
00458  A3B2  69 12              ADC #$12        ;ADD FOR STACK USE SIZE
00459  A3B4  AA                 TAX             ;COPY BACK TO INDEX
00460  A3B5  D0 D8              BNE XXA38F      ;LOOP IF NOT AT START OF S
TACK
00461  A3B7  60          XXA3B7 RTS             ;DONE WITH IT
00462  A3B8              ;********************************
00463  A3B8              ; MOVE BYTES AFTER CHECK FOR SPACE
00464  A3B8              ;********************************
00465  A3B8  20 08 A4    XXA3B8 JSR XXA408
00466  A3BB  85 31              STA STREND
00467  A3BD  84 32              STY STREND+1
00468  A3BF              ;********************************
00469  A3BF              ; MOVE BYTES ROUTINE
00470  A3BF              ;  $5F/$60 SOURCE START ADDRESS
00471  A3BF              ;  $5A/$5B SOURCE END ADDRESS
00472  A3BF              ;  $58/$59 DESTINATION END ADDRESS
00473  A3BF              ;********************************
00474  A3BF  38          XXA3BF SEC 
00475  A3C0  A5 5A              LDA $5A
00476  A3C2  E5 5F              SBC $5F
00477  A3C4  85 22              STA INDEX
00478  A3C6  A8                 TAY 
00479  A3C7  A5 5B              LDA $5B
00480  A3C9  E5 60              SBC $60
00481  A3CB  AA                 TAX 






BASICV2A.ASM......PAGE 0013

LINE# LOC   CODE        LINE


00482  A3CC  E8                 INX 
00483  A3CD  98                 TYA 
00484  A3CE  F0 23              BEQ XXA3F3
00485  A3D0  A5 5A              LDA $5A
00486  A3D2  38                 SEC 
00487  A3D3  E5 22              SBC INDEX
00488  A3D5  85 5A              STA $5A
00489  A3D7  B0 03              BCS XXA3DC
00490  A3D9  C6 5B              DEC $5B
00491  A3DB  38                 SEC 
00492  A3DC  A5 58       XXA3DC LDA $58
00493  A3DE  E5 22              SBC INDEX
00494  A3E0  85 58              STA $58
00495  A3E2  B0 08              BCS XXA3EC
00496  A3E4  C6 59              DEC $59
00497  A3E6  90 04              BCC XXA3EC
00498  A3E8  B1 5A       XXA3E8 LDA ($5A),Y
00499  A3EA  91 58              STA ($58),Y
00500  A3EC  88          XXA3EC DEY 
00501  A3ED  D0 F9              BNE XXA3E8
00502  A3EF  B1 5A              LDA ($5A),Y
00503  A3F1  91 58              STA ($58),Y
00504  A3F3  C6 5B       XXA3F3 DEC $5B
00505  A3F5  C6 59              DEC $59
00506  A3F7  CA                 DEX 
00507  A3F8  D0 F2              BNE XXA3EC
00508  A3FA  60                 RTS 
00509  A3FB              ;********************************
00510  A3FB              ; TEST FOR 2 * A BYTES FREE ON STACK
00511  A3FB              ;********************************
00512  A3FB  0A          XXA3FB ASL A
00513  A3FC  69 3E              ADC #$3E        ;'>'
00514  A3FE  B0 35              BCS XXA435
00515  A400  85 22              STA INDEX
00516  A402  BA                 TSX 
00517  A403  E4 22              CPX INDEX
00518  A405  90 2E              BCC XXA435
00519  A407  60                 RTS 
00520  A408              ;********************************
00521  A408              ; ARRAY AREA OVERFLOW CHECK
00522  A408              ;********************************
00523  A408  C4 34       XXA408 CPY FRETOP+1
00524  A40A  90 28              BCC XXA434
00525  A40C  D0 04              BNE XXA412
00526  A40E  C5 33              CMP FRETOP
00527  A410  90 22              BCC XXA434
00528  A412  48          XXA412 PHA 
00529  A413  A2 09              LDX #$09
00530  A415  98                 TYA 
00531  A416  48          XXA416 PHA 
00532  A417  B5 57              LDA $57,X
00533  A419  CA                 DEX 
00534  A41A  10 FA              BPL XXA416
00535  A41C  20 26 B5           JSR XXB526
00536  A41F  A2 F7              LDX #$F7






BASICV2A.ASM......PAGE 0014

LINE# LOC   CODE        LINE


00537  A421  68          XXA421 PLA 
00538  A422  95 61              STA $61,X
00539  A424  E8                 INX 
00540  A425  30 FA              BMI XXA421
00541  A427  68                 PLA 
00542  A428  A8                 TAY 
00543  A429  68                 PLA 
00544  A42A  C4 34              CPY FRETOP+1
00545  A42C  90 06              BCC XXA434
00546  A42E  D0 05              BNE XXA435
00547  A430  C5 33              CMP FRETOP
00548  A432  B0 01              BCS XXA435
00549  A434  60          XXA434 RTS 
00550  A435              ;********************************
00551  A435              ; OUT OF MEMORY ERROR
00552  A435              ;********************************
00553  A435  A2 10       XXA435 LDX #$10        ; ERROR NUMBER
00554  A437              ;********************************
00555  A437              ; HANDLE ERROR MESSAGES
00556  A437              ;********************************
00557  A437  6C 00 03    XXA437 JMP ($0300)     ; NORMALLY A43A
00558  A43A              ;********************************
00559  A43A              ; STANDARD ERROR MESSAGE HANDLER
00560  A43A              ;********************************
00561  A43A  8A                 TXA 
00562  A43B  0A                 ASL A
00563  A43C  AA                 TAX 
00564  A43D                                     ;LDA XXA326,X
00565  A43D  BD 26 A3           LDA XXA327-1,X
00566  A440  85 22              STA INDEX
00567  A442  BD 27 A3           LDA XXA327,X
00568  A445  85 23              STA INDEX+1
00569  A447  20 CC FF           JSR $FFCC
00570  A44A  A9 00              LDA #$00
00571  A44C  85 13              STA $13
00572  A44E  20 D7 AA           JSR XXAAD7
00573  A451  20 45 AB           JSR XXAB45
00574  A454  A0 00              LDY #$00
00575  A456  B1 22       XXA456 LDA (INDEX),Y
00576  A458  48                 PHA 
00577  A459  29 7F              AND #$7F
00578  A45B  20 47 AB           JSR XXAB47
00579  A45E  C8                 INY 
00580  A45F  68                 PLA 
00581  A460  10 F4              BPL XXA456
00582  A462  20 7A A6           JSR XXA67A
00583  A465  A9 69              LDA #$69        ; LOW  A369
00584  A467  A0 A3              LDY #$A3        ; HIGH A369
00585  A469  20 1E AB    XXA469 JSR XXAB1E
00586  A46C  A4 3A              LDY CURLIN+1
00587  A46E  C8                 INY 
00588  A46F  F0 03              BEQ XXA474
00589  A471  20 C2 BD           JSR XXBDC2
00590  A474  A9 76       XXA474 LDA #$76        ; LOW A376
00591  A476  A0 A3              LDY #$A3        ; HIGH A376






BASICV2A.ASM......PAGE 0015

LINE# LOC   CODE        LINE


00592  A478  20 1E AB           JSR XXAB1E
00593  A47B  A9 80              LDA #$80
00594  A47D  20 90 FF           JSR $FF90
00595  A480  6C 02 03    XXA480 JMP ($0302)     ; NORMALLY A483
00596  A483              ;################################
00597  A483              ;********************************
00598  A483              ;
00599  A483              ; STANDARD WARM START ROUTINE
00600  A483              ;
00601  A483              ;********************************
00602  A483              ;################################
00603  A483  20 60 A5           JSR XXA560
00604  A486  86 7A              STX $7A
00605  A488  84 7B              STY $7B
00606  A48A  20 73 00           JSR $0073
00607  A48D  AA                 TAX 
00608  A48E  F0 F0              BEQ XXA480
00609  A490  A2 FF              LDX #$FF
00610  A492  86 3A              STX CURLIN+1
00611  A494  90 06              BCC XXA49C
00612  A496  20 79 A5           JSR XXA579
00613  A499  4C E1 A7           JMP XXA7E1
00614  A49C              ;********************************
00615  A49C              ; HANDLE INSERT/DELETE BASIC LINES
00616  A49C              ;********************************
00617  A49C  20 6B A9    XXA49C JSR XXA96B
00618  A49F  20 79 A5           JSR XXA579
00619  A4A2  84 0B              STY $0B
00620  A4A4  20 13 A6           JSR XXA613
00621  A4A7  90 44              BCC XXA4ED
00622  A4A9              ;********************************
00623  A4A9              ; DELETE OLD LINE
00624  A4A9              ;********************************
00625  A4A9  A0 01              LDY #$01
00626  A4AB  B1 5F              LDA ($5F),Y
00627  A4AD  85 23              STA INDEX+1
00628  A4AF  A5 2D              LDA VARTAB
00629  A4B1  85 22              STA INDEX
00630  A4B3  A5 60              LDA $60
00631  A4B5  85 25              STA INDEX+3
00632  A4B7  A5 5F              LDA $5F
00633  A4B9  88                 DEY 
00634  A4BA  F1 5F              SBC ($5F),Y
00635  A4BC  18                 CLC 
00636  A4BD  65 2D              ADC VARTAB
00637  A4BF  85 2D              STA VARTAB
00638  A4C1  85 24              STA INDEX+2
00639  A4C3  A5 2E              LDA VARTAB+1
00640  A4C5  69 FF              ADC #$FF
00641  A4C7  85 2E              STA VARTAB+1
00642  A4C9  E5 60              SBC $60
00643  A4CB  AA                 TAX 
00644  A4CC  38                 SEC 
00645  A4CD  A5 5F              LDA $5F
00646  A4CF  E5 2D              SBC VARTAB






BASICV2A.ASM......PAGE 0016

LINE# LOC   CODE        LINE


00647  A4D1  A8                 TAY 
00648  A4D2  B0 03              BCS XXA4D7
00649  A4D4  E8                 INX 
00650  A4D5  C6 25              DEC INDEX+3
00651  A4D7  18          XXA4D7 CLC 
00652  A4D8  65 22              ADC INDEX
00653  A4DA  90 03              BCC XXA4DF
00654  A4DC  C6 23              DEC INDEX+1
00655  A4DE  18                 CLC 
00656  A4DF  B1 22       XXA4DF LDA (INDEX),Y
00657  A4E1  91 24              STA (INDEX+2),Y
00658  A4E3  C8                 INY 
00659  A4E4  D0 F9              BNE XXA4DF
00660  A4E6  E6 23              INC INDEX+1
00661  A4E8  E6 25              INC INDEX+3
00662  A4EA  CA                 DEX 
00663  A4EB  D0 F2              BNE XXA4DF
00664  A4ED              ;********************************
00665  A4ED              ; INSERT NEW LINE
00666  A4ED              ;********************************
00667  A4ED  20 59 A6    XXA4ED JSR XXA659
00668  A4F0  20 33 A5           JSR XXA533
00669  A4F3  AD 00 02           LDA $0200
00670  A4F6  F0 88              BEQ XXA480
00671  A4F8  18                 CLC 
00672  A4F9  A5 2D              LDA VARTAB
00673  A4FB  85 5A              STA $5A
00674  A4FD  65 0B              ADC $0B
00675  A4FF  85 58              STA $58
00676  A501  A4 2E              LDY VARTAB+1
00677  A503  84 5B              STY $5B
00678  A505  90 01              BCC XXA508
00679  A507  C8                 INY 
00680  A508  84 59       XXA508 STY $59
00681  A50A  20 B8 A3           JSR XXA3B8
00682  A50D  A5 14              LDA LINNUM
00683  A50F  A4 15              LDY LINNUM+1
00684  A511  8D FE 01           STA $01FE
00685  A514  8C FF 01           STY $01FF
00686  A517  A5 31              LDA STREND
00687  A519  A4 32              LDY STREND+1
00688  A51B  85 2D              STA VARTAB
00689  A51D  84 2E              STY VARTAB+1
00690  A51F  A4 0B              LDY $0B
00691  A521  88                 DEY 
00692  A522  B9 FC 01    XXA522 LDA $01FC,Y
00693  A525  91 5F              STA ($5F),Y
00694  A527  88                 DEY 
00695  A528  10 F8              BPL XXA522
00696  A52A  20 59 A6           JSR XXA659
00697  A52D  20 33 A5           JSR XXA533
00698  A530  4C 80 A4           JMP XXA480
00699  A533              ;********************************
00700  A533              ; RELINK BASIC PROGRAM
00701  A533              ;********************************






BASICV2A.ASM......PAGE 0017

LINE# LOC   CODE        LINE


00702  A533              
00703  A533  A5 2B       XXA533 LDA TXTTAB
00704  A535  A4 2C              LDY TXTTAB+1
00705  A537  85 22              STA INDEX
00706  A539  84 23              STY INDEX+1
00707  A53B  18                 CLC 
00708  A53C  A0 01       XXA53C LDY #$01
00709  A53E  B1 22              LDA (INDEX),Y
00710  A540  F0 1D              BEQ XXA55F
00711  A542  A0 04              LDY #$04
00712  A544  C8          XXA544 INY 
00713  A545  B1 22              LDA (INDEX),Y
00714  A547  D0 FB              BNE XXA544
00715  A549  C8                 INY 
00716  A54A  98                 TYA 
00717  A54B  65 22              ADC INDEX
00718  A54D  AA                 TAX 
00719  A54E  A0 00              LDY #$00
00720  A550  91 22              STA (INDEX),Y
00721  A552  A5 23              LDA INDEX+1
00722  A554  69 00              ADC #$00
00723  A556  C8                 INY 
00724  A557  91 22              STA (INDEX),Y
00725  A559  86 22              STX INDEX
00726  A55B  85 23              STA INDEX+1
00727  A55D  90 DD              BCC XXA53C
00728  A55F  60          XXA55F RTS 
00729  A560              ;********************************
00730  A560              ; GET STATEMENT INTO BUFFER
00731  A560              ;********************************
00732  A560  A2 00       XXA560 LDX #$00
00733  A562  20 12 E1    XXA562 JSR $E112
00734  A565  C9 0D              CMP #$0D
00735  A567  F0 0D              BEQ XXA576
00736  A569  9D 00 02           STA $0200,X
00737  A56C  E8                 INX 
00738  A56D  E0 59              CPX #$59        ;'Y'
00739  A56F  90 F1              BCC XXA562
00740  A571  A2 17              LDX #$17        ; ERROR NUMBER
00741  A573  4C 37 A4           JMP XXA437
00742  A576              ;********************************
00743  A576  4C CA AA    XXA576 JMP XXAACA      ; GOTO END OF LINE
00744  A579              ;********************************
00745  A579              ; CRUNCH TOKENS
00746  A579              ;********************************
00747  A579  6C 04 03    XXA579 JMP ($0304)     ; NORMALLY A57C
00748  A57C              ;********************************
00749  A57C              ; STANDARD TOKEN CRUNCHER
00750  A57C              ;********************************
00751  A57C  A6 7A              LDX $7A
00752  A57E  A0 04              LDY #$04
00753  A580  84 0F              STY $0F
00754  A582  BD 00 02    XXA582 LDA $0200,X
00755  A585  10 07              BPL XXA58E
00756  A587  C9 FF              CMP #$FF        ; PI






BASICV2A.ASM......PAGE 0018

LINE# LOC   CODE        LINE


00757  A589  F0 3E              BEQ XXA5C9
00758  A58B  E8                 INX 
00759  A58C  D0 F4              BNE XXA582
00760  A58E  C9 20       XXA58E CMP #$20        ;' '
00761  A590  F0 37              BEQ XXA5C9
00762  A592  85 08              STA $08
00763  A594  C9 22              CMP #$22        ;'"'
00764  A596  F0 56              BEQ XXA5EE
00765  A598  24 0F              BIT $0F
00766  A59A  70 2D              BVS XXA5C9
00767  A59C  C9 3F              CMP #$3F        ;'?'
00768  A59E  D0 04              BNE XXA5A4
00769  A5A0  A9 99              LDA #$99        ; PRINT CODE
00770  A5A2  D0 25              BNE XXA5C9
00771  A5A4  C9 30       XXA5A4 CMP #$30        ;'0'
00772  A5A6  90 04              BCC XXA5AC
00773  A5A8  C9 3C              CMP #$3C        ;'<'
00774  A5AA  90 1D              BCC XXA5C9
00775  A5AC  84 71       XXA5AC STY $71
00776  A5AE  A0 00              LDY #$00
00777  A5B0  84 0B              STY $0B
00778  A5B2  88                 DEY 
00779  A5B3  86 7A              STX $7A
00780  A5B5  CA                 DEX 
00781  A5B6  C8          XXA5B6 INY 
00782  A5B7  E8                 INX 
00783  A5B8  BD 00 02    XXA5B8 LDA $0200,X
00784  A5BB  38                 SEC 
00785  A5BC  F9 9E A0           SBC XXA09E,Y
00786  A5BF  F0 F5              BEQ XXA5B6
00787  A5C1  C9 80              CMP #$80
00788  A5C3  D0 30              BNE XXA5F5
00789  A5C5  05 0B              ORA $0B
00790  A5C7  A4 71       XXA5C7 LDY $71
00791  A5C9  E8          XXA5C9 INX 
00792  A5CA  C8                 INY 
00793  A5CB  99 FB 01           STA $01FB,Y
00794  A5CE  B9 FB 01           LDA $01FB,Y
00795  A5D1  F0 36              BEQ XXA609
00796  A5D3  38                 SEC 
00797  A5D4  E9 3A              SBC #$3A        ;':'
00798  A5D6  F0 04              BEQ XXA5DC
00799  A5D8  C9 49              CMP #$49        ; DATA CODE
00800  A5DA  D0 02              BNE XXA5DE
00801  A5DC  85 0F       XXA5DC STA $0F
00802  A5DE  38          XXA5DE SEC 
00803  A5DF  E9 55              SBC #$55        ; REM CODE
00804  A5E1  D0 9F              BNE XXA582
00805  A5E3  85 08              STA $08
00806  A5E5  BD 00 02    XXA5E5 LDA $0200,X
00807  A5E8  F0 DF              BEQ XXA5C9
00808  A5EA  C5 08              CMP $08
00809  A5EC  F0 DB              BEQ XXA5C9
00810  A5EE  C8          XXA5EE INY 
00811  A5EF  99 FB 01           STA $01FB,Y






BASICV2A.ASM......PAGE 0019

LINE# LOC   CODE        LINE


00812  A5F2  E8                 INX 
00813  A5F3  D0 F0              BNE XXA5E5
00814  A5F5  A6 7A       XXA5F5 LDX $7A
00815  A5F7  E6 0B              INC $0B
00816  A5F9  C8          XXA5F9 INY 
00817  A5FA  B9 9D A0           LDA XXA09D,Y
00818  A5FD  10 FA              BPL XXA5F9
00819  A5FF  B9 9E A0           LDA XXA09E,Y
00820  A602  D0 B4              BNE XXA5B8
00821  A604  BD 00 02           LDA $0200,X
00822  A607  10 BE              BPL XXA5C7
00823  A609  99 FD 01    XXA609 STA $01FD,Y
00824  A60C  C6 7B              DEC $7B
00825  A60E  A9 FF              LDA #$FF
00826  A610  85 7A              STA $7A
00827  A612  60                 RTS 
00828  A613              ;********************************
00829  A613              ; SEARCH FOR A LINE IN A PROGRAM
00830  A613              ;********************************
00831  A613  A5 2B       XXA613 LDA TXTTAB
00832  A615  A6 2C              LDX TXTTAB+1
00833  A617  A0 01       XXA617 LDY #$01
00834  A619  85 5F              STA $5F
00835  A61B  86 60              STX $60
00836  A61D  B1 5F              LDA ($5F),Y
00837  A61F  F0 1F              BEQ XXA640
00838  A621  C8                 INY 
00839  A622  C8                 INY 
00840  A623  A5 15              LDA LINNUM+1
00841  A625  D1 5F              CMP ($5F),Y
00842  A627  90 18              BCC XXA641
00843  A629  F0 03              BEQ XXA62E
00844  A62B  88                 DEY 
00845  A62C  D0 09              BNE XXA637
00846  A62E  A5 14       XXA62E LDA LINNUM
00847  A630  88                 DEY 
00848  A631  D1 5F              CMP ($5F),Y
00849  A633  90 0C              BCC XXA641
00850  A635  F0 0A              BEQ XXA641
00851  A637  88          XXA637 DEY 
00852  A638  B1 5F              LDA ($5F),Y
00853  A63A  AA                 TAX 
00854  A63B  88                 DEY 
00855  A63C  B1 5F              LDA ($5F),Y
00856  A63E  B0 D7              BCS XXA617
00857  A640  18          XXA640 CLC 
00858  A641  60          XXA641 RTS 
00859  A642              ;********************************
00860  A642              ; NEW COMMAND
00861  A642              ;********************************
00862  A642  D0 FD       ZZA642 BNE XXA641
00863  A644  A9 00              LDA #$00
00864  A646  A8                 TAY 
00865  A647  91 2B              STA (TXTTAB),Y
00866  A649  C8                 INY 






BASICV2A.ASM......PAGE 0020

LINE# LOC   CODE        LINE


00867  A64A  91 2B              STA (TXTTAB),Y
00868  A64C  A5 2B              LDA TXTTAB
00869  A64E  18                 CLC 
00870  A64F  69 02              ADC #$02
00871  A651  85 2D              STA VARTAB
00872  A653  A5 2C              LDA TXTTAB+1
00873  A655  69 00              ADC #$00
00874  A657  85 2E              STA VARTAB+1
00875  A659  20 8E A6    XXA659 JSR XXA68E
00876  A65C  A9 00              LDA #$00
00877  A65E              ;********************************
00878  A65E              ; CLR COMMAND
00879  A65E              ;********************************
00880  A65E  D0 2D              BNE XXA68D
00881  A660  20 E7 FF    XXA660 JSR CLALL
00882  A663  A5 37              LDA MEMSIZ
00883  A665  A4 38              LDY MEMSIZ+1
00884  A667  85 33              STA FRETOP
00885  A669  84 34              STY FRETOP+1
00886  A66B  A5 2D              LDA VARTAB
00887  A66D  A4 2E              LDY VARTAB+1
00888  A66F  85 2F              STA ARYTAB
00889  A671  84 30              STY ARYTAB+1
00890  A673  85 31              STA STREND
00891  A675  84 32              STY STREND+1
00892  A677  20 1D A8           JSR XXA81D
00893  A67A              ;********************************
00894  A67A              ; RESET STACK AND PROGRAM POINTERS
00895  A67A              ;********************************
00896  A67A  A2 19       XXA67A LDX #$19
00897  A67C  86 16              STX TEMPPT
00898  A67E  68                 PLA 
00899  A67F  A8                 TAY 
00900  A680  68                 PLA 
00901  A681  A2 FA              LDX #$FA
00902  A683  9A                 TXS 
00903  A684  48                 PHA 
00904  A685  98                 TYA 
00905  A686  48                 PHA 
00906  A687  A9 00              LDA #$00
00907  A689  85 3E              STA OLDTXT+1
00908  A68B  85 10              STA $10
00909  A68D  60          XXA68D RTS 
00910  A68E              ;********************************
00911  A68E              ; SET CURRENT CHARACTER POINTER TO START OF BASIC
 - 1
00912  A68E              ;********************************
00913  A68E  18          XXA68E CLC 
00914  A68F  A5 2B              LDA TXTTAB
00915  A691  69 FF              ADC #$FF
00916  A693  85 7A              STA $7A
00917  A695  A5 2C              LDA TXTTAB+1
00918  A697  69 FF              ADC #$FF
00919  A699  85 7B              STA $7B
00920  A69B  60          XXA69B RTS 
00921  A69C              ;********************************






BASICV2A.ASM......PAGE 0021

LINE# LOC   CODE        LINE


00922  A69C              ; LIST COMMAND
00923  A69C              ;********************************
00924  A69C  90 06       ZZA69C BCC XXA6A4
00925  A69E  F0 04              BEQ XXA6A4
00926  A6A0  C9 AB              CMP #$AB
00927  A6A2  D0 E9              BNE XXA68D
00928  A6A4  20 6B A9    XXA6A4 JSR XXA96B
00929  A6A7  20 13 A6           JSR XXA613
00930  A6AA  20 79 00           JSR $0079
00931  A6AD  F0 0C              BEQ XXA6BB
00932  A6AF  C9 AB              CMP #$AB
00933  A6B1  D0 8E              BNE XXA641
00934  A6B3  20 73 00           JSR $0073
00935  A6B6  20 6B A9           JSR XXA96B
00936  A6B9  D0 86              BNE XXA641
00937  A6BB  68          XXA6BB PLA 
00938  A6BC  68                 PLA 
00939  A6BD  A5 14              LDA LINNUM
00940  A6BF  05 15              ORA LINNUM+1
00941  A6C1  D0 06              BNE XXA6C9
00942  A6C3  A9 FF              LDA #$FF
00943  A6C5  85 14              STA LINNUM
00944  A6C7  85 15              STA LINNUM+1
00945  A6C9              ;********************************
00946  A6C9              ; LIST LINES FROM $5F/$60 TO LINNUM/LINNUM+1
00947  A6C9              ;********************************
00948  A6C9  A0 01       XXA6C9 LDY #$01
00949  A6CB  84 0F              STY $0F
00950  A6CD  B1 5F              LDA ($5F),Y
00951  A6CF  F0 43              BEQ XXA714
00952  A6D1  20 2C A8           JSR XXA82C
00953  A6D4  20 D7 AA           JSR XXAAD7
00954  A6D7  C8                 INY 
00955  A6D8  B1 5F              LDA ($5F),Y
00956  A6DA  AA                 TAX 
00957  A6DB  C8                 INY 
00958  A6DC  B1 5F              LDA ($5F),Y
00959  A6DE  C5 15              CMP LINNUM+1
00960  A6E0  D0 04              BNE XXA6E6
00961  A6E2  E4 14              CPX LINNUM
00962  A6E4  F0 02              BEQ XXA6E8
00963  A6E6  B0 2C       XXA6E6 BCS XXA714
00964  A6E8  84 49       XXA6E8 STY $49
00965  A6EA  20 CD BD           JSR XXBDCD
00966  A6ED  A9 20              LDA #$20        ;' '
00967  A6EF  A4 49       XXA6EF LDY $49
00968  A6F1  29 7F              AND #$7F
00969  A6F3  20 47 AB    XXA6F3 JSR XXAB47
00970  A6F6  C9 22              CMP #$22        ;'"'
00971  A6F8  D0 06              BNE XXA700
00972  A6FA  A5 0F              LDA $0F
00973  A6FC  49 FF              EOR #$FF
00974  A6FE  85 0F              STA $0F
00975  A700  C8          XXA700 INY 
00976  A701  F0 11              BEQ XXA714






BASICV2A.ASM......PAGE 0022

LINE# LOC   CODE        LINE


00977  A703  B1 5F              LDA ($5F),Y
00978  A705  D0 10              BNE XXA717
00979  A707  A8                 TAY 
00980  A708  B1 5F              LDA ($5F),Y
00981  A70A  AA                 TAX 
00982  A70B  C8                 INY 
00983  A70C  B1 5F              LDA ($5F),Y
00984  A70E  86 5F              STX $5F
00985  A710  85 60              STA $60
00986  A712  D0 B5              BNE XXA6C9
00987  A714  4C 86 E3    XXA714 JMP $E386
00988  A717              ;********************************
00989  A717              ; PRINT TOKENS ROUTINE
00990  A717              ;********************************
00991  A717  6C 06 03    XXA717 JMP ($0306)     ; NORMALLY A71A
00992  A71A              ;********************************
00993  A71A              ; STANDARD TOKEN PRINTER
00994  A71A              ;********************************
00995  A71A  10 D7       ZZA71A BPL XXA6F3
00996  A71C  C9 FF              CMP #$FF
00997  A71E  F0 D3              BEQ XXA6F3
00998  A720  24 0F              BIT $0F
00999  A722  30 CF              BMI XXA6F3
01000  A724  38                 SEC 
01001  A725  E9 7F              SBC #$7F
01002  A727  AA                 TAX 
01003  A728  84 49              STY $49
01004  A72A  A0 FF              LDY #$FF
01005  A72C  CA          XXA72C DEX 
01006  A72D  F0 08              BEQ XXA737
01007  A72F  C8          XXA72F INY 
01008  A730  B9 9E A0           LDA XXA09E,Y
01009  A733  10 FA              BPL XXA72F
01010  A735  30 F5              BMI XXA72C
01011  A737              ;********************************
01012  A737              ; PRINT KEYWORD
01013  A737              ;********************************
01014  A737  C8          XXA737 INY 
01015  A738  B9 9E A0           LDA XXA09E,Y
01016  A73B  30 B2              BMI XXA6EF
01017  A73D  20 47 AB           JSR XXAB47
01018  A740  D0 F5              BNE XXA737
01019  A742              ;********************************
01020  A742              ; FOR COMMAND
01021  A742              ;********************************
01022  A742  A9 80       ZZA742 LDA #$80
01023  A744  85 10              STA $10
01024  A746  20 A5 A9           JSR XXA9A5
01025  A749  20 8A A3           JSR XXA38A
01026  A74C  D0 05              BNE XXA753
01027  A74E  8A                 TXA 
01028  A74F  69 0F              ADC #$0F
01029  A751  AA                 TAX 
01030  A752  9A                 TXS 
01031  A753  68          XXA753 PLA 






BASICV2A.ASM......PAGE 0023

LINE# LOC   CODE        LINE


01032  A754  68                 PLA 
01033  A755  A9 09              LDA #$09
01034  A757  20 FB A3           JSR XXA3FB
01035  A75A  20 06 A9           JSR XXA906
01036  A75D  18                 CLC 
01037  A75E  98                 TYA 
01038  A75F  65 7A              ADC $7A
01039  A761  48                 PHA 
01040  A762  A5 7B              LDA $7B
01041  A764  69 00              ADC #$00
01042  A766  48                 PHA 
01043  A767  A5 3A              LDA CURLIN+1
01044  A769  48                 PHA 
01045  A76A  A5 39              LDA CURLIN
01046  A76C  48                 PHA 
01047  A76D  A9 A4              LDA #$A4
01048  A76F  20 FF AE           JSR XXAEFF
01049  A772  20 8D AD           JSR XXAD8D
01050  A775  20 8A AD           JSR XXAD8A
01051  A778  A5 66              LDA $66
01052  A77A  09 7F              ORA #$7F
01053  A77C  25 62              AND $62
01054  A77E  85 62              STA $62
01055  A780  A9 8B              LDA #$8B        ; LOW  A78B
01056  A782  A0 A7              LDY #$A7        ; HIGH A78B
01057  A784  85 22              STA INDEX
01058  A786  84 23              STY INDEX+1
01059  A788  4C 43 AE           JMP XXAE43
01060  A78B              ;********************************
01061  A78B              ;
01062  A78B              ;********************************
01063  A78B  A9 BC       ZZA78B LDA #$BC        ; LOW  B9BC
01064  A78D  A0 B9              LDY #$B9        ; HIGH B9BC
01065  A78F  20 A2 BB           JSR XXBBA2
01066  A792  20 79 00           JSR $0079
01067  A795  C9 A9              CMP #$A9
01068  A797  D0 06              BNE XXA79F
01069  A799  20 73 00           JSR $0073
01070  A79C  20 8A AD           JSR XXAD8A
01071  A79F  20 2B BC    XXA79F JSR XXBC2B
01072  A7A2  20 38 AE           JSR XXAE38
01073  A7A5  A5 4A              LDA $4A
01074  A7A7  48                 PHA 
01075  A7A8  A5 49              LDA $49
01076  A7AA  48                 PHA 
01077  A7AB  A9 81              LDA #$81        ; FOR BLOCK CODE
01078  A7AD  48                 PHA 
01079  A7AE              ;********************************
01080  A7AE              ; EXECUTE NEXT STATEMENT
01081  A7AE              ;********************************
01082  A7AE  20 2C A8    XXA7AE JSR XXA82C
01083  A7B1  A5 7A              LDA $7A
01084  A7B3  A4 7B              LDY $7B
01085  A7B5  C0 02              CPY #$02
01086  A7B7  EA                 NOP 






BASICV2A.ASM......PAGE 0024

LINE# LOC   CODE        LINE


01087  A7B8  F0 04              BEQ XXA7BE
01088  A7BA  85 3D              STA OLDTXT
01089  A7BC  84 3E              STY OLDTXT+1
01090  A7BE  A0 00       XXA7BE LDY #$00
01091  A7C0  B1 7A              LDA ($7A),Y
01092  A7C2  D0 43              BNE XXA807
01093  A7C4  A0 02              LDY #$02
01094  A7C6  B1 7A              LDA ($7A),Y
01095  A7C8  18                 CLC 
01096  A7C9  D0 03              BNE XXA7CE
01097  A7CB  4C 4B A8           JMP XXA84B
01098  A7CE              ;********************************
01099  A7CE              ;
01100  A7CE              ;********************************
01101  A7CE  C8          XXA7CE INY 
01102  A7CF  B1 7A              LDA ($7A),Y
01103  A7D1  85 39              STA CURLIN
01104  A7D3  C8                 INY 
01105  A7D4  B1 7A              LDA ($7A),Y
01106  A7D6  85 3A              STA CURLIN+1
01107  A7D8  98                 TYA 
01108  A7D9  65 7A              ADC $7A
01109  A7DB  85 7A              STA $7A
01110  A7DD  90 02              BCC XXA7E1
01111  A7DF  E6 7B              INC $7B
01112  A7E1  6C 08 03    XXA7E1 JMP ($0308)     ; NORMALLY A7E4
01113  A7E4              ;********************************
01114  A7E4              ; EXECUTE A STATEMENT
01115  A7E4              ;********************************
01116  A7E4  20 73 00           JSR $0073
01117  A7E7  20 ED A7           JSR XXA7ED
01118  A7EA  4C AE A7           JMP XXA7AE
01119  A7ED              ;********************************
01120  A7ED              ; EXECUTE COMMAND IN A
01121  A7ED              ;********************************
01122  A7ED  F0 3C       XXA7ED BEQ XXA82B
01123  A7EF  E9 80       XXA7EF SBC #$80
01124  A7F1  90 11              BCC XXA804
01125  A7F3  C9 23              CMP #$23        ;'#'
01126  A7F5  B0 17              BCS XXA80E
01127  A7F7  0A                 ASL A
01128  A7F8  A8                 TAY 
01129  A7F9  B9 0D A0           LDA ZZA00C+1,Y
01130  A7FC  48                 PHA 
01131  A7FD  B9 0C A0           LDA ZZA00C,Y
01132  A800  48                 PHA 
01133  A801  4C 73 00           JMP $0073
01134  A804              ;********************************
01135  A804              ;
01136  A804              ;********************************
01137  A804  4C A5 A9    XXA804 JMP XXA9A5
01138  A807              ;********************************
01139  A807  C9 3A       XXA807 CMP #$3A        ;':'
01140  A809  F0 D6              BEQ XXA7E1
01141  A80B  4C 08 AF    XXA80B JMP XXAF08






BASICV2A.ASM......PAGE 0025

LINE# LOC   CODE        LINE


01142  A80E              ;********************************
01143  A80E              ;
01144  A80E              ;********************************
01145  A80E  C9 4B       XXA80E CMP #$4B        ; GO CODE
01146  A810  D0 F9              BNE XXA80B
01147  A812  20 73 00           JSR $0073
01148  A815  A9 A4              LDA #$A4        ; TO CODE
01149  A817  20 FF AE           JSR XXAEFF
01150  A81A  4C A0 A8           JMP XXA8A0      ; DO GOTO
01151  A81D              ;********************************
01152  A81D              ; RESTORE COMMAND
01153  A81D              ;********************************
01154  A81D  38          XXA81D SEC 
01155  A81E  A5 2B              LDA TXTTAB
01156  A820  E9 01              SBC #$01
01157  A822  A4 2C              LDY TXTTAB+1
01158  A824  B0 01              BCS XXA827
01159  A826  88                 DEY 
01160  A827  85 41       XXA827 STA DATPRT
01161  A829  84 42              STY DATPRT+1
01162  A82B  60          XXA82B RTS 
01163  A82C              ;********************************
01164  A82C              ; STOP COMMAND
01165  A82C              ;********************************
01166  A82C  20 E1 FF    XXA82C JSR $FFE1       ; TEST STOP KEY
01167  A82F              ;********************************
01168  A82F              ; STOP COMMAND
01169  A82F              ;********************************
01170  A82F  B0 01              BCS XXA832
01171  A831  18          ZZA831 CLC
01172  A832              ;********************************
01173  A832              ; END COMMAND
01174  A832              ;********************************
01175  A832  D0 3C       XXA832 BNE XXA870
01176  A834  A5 7A              LDA $7A
01177  A836  A4 7B              LDY $7B
01178  A838  A6 3A              LDX CURLIN+1
01179  A83A  E8                 INX 
01180  A83B  F0 0C              BEQ XXA849
01181  A83D  85 3D              STA OLDTXT
01182  A83F  84 3E              STY OLDTXT+1
01183  A841  A5 39              LDA CURLIN
01184  A843  A4 3A              LDY CURLIN+1
01185  A845  85 3B              STA OLDLIN
01186  A847  84 3C              STY OLDLIN+1
01187  A849  68          XXA849 PLA 
01188  A84A  68                 PLA 
01189  A84B  A9 81       XXA84B LDA #$81        ; LOW  A381
01190  A84D  A0 A3              LDY #$A3        ; HIGH A381
01191  A84F  90 03              BCC XXA854
01192  A851  4C 69 A4           JMP XXA469
01193  A854              ;********************************
01194  A854              ;
01195  A854              ;********************************
01196  A854  4C 86 E3    XXA854 JMP $E386






BASICV2A.ASM......PAGE 0026

LINE# LOC   CODE        LINE


01197  A857              ;********************************
01198  A857              ; CONT COMMAND
01199  A857              ;********************************
01200  A857  D0 17       ZZA857 BNE XXA870
01201  A859  A2 1A              LDX #$1A        ; ERROR NUMBER
01202  A85B  A4 3E              LDY OLDTXT+1
01203  A85D  D0 03              BNE XXA862
01204  A85F  4C 37 A4           JMP XXA437
01205  A862              ;********************************
01206  A862              ;
01207  A862              ;********************************
01208  A862  A5 3D       XXA862 LDA OLDTXT
01209  A864  85 7A              STA $7A
01210  A866  84 7B              STY $7B
01211  A868  A5 3B              LDA OLDLIN
01212  A86A  A4 3C              LDY OLDLIN+1
01213  A86C  85 39              STA CURLIN
01214  A86E  84 3A              STY CURLIN+1
01215  A870  60          XXA870 RTS 
01216  A871              ;********************************
01217  A871              ; RUN COMMAND
01218  A871              ;********************************
01219  A871  08          ZZA871 PHP 
01220  A872  A9 00              LDA #$00
01221  A874  20 90 FF           JSR $FF90
01222  A877  28                 PLP 
01223  A878  D0 03              BNE XXA87D
01224  A87A  4C 59 A6           JMP XXA659
01225  A87D              ;********************************
01226  A87D              ;
01227  A87D              ;********************************
01228  A87D  20 60 A6    XXA87D JSR XXA660      ; DO CLR
01229  A880  4C 97 A8           JMP XXA897      ; DO GOTO
01230  A883              ;********************************
01231  A883              ; GOSUB COMMAND
01232  A883              ;********************************
01233  A883  A9 03       ZZA883 LDA #$03
01234  A885  20 FB A3           JSR XXA3FB
01235  A888  A5 7B              LDA $7B
01236  A88A  48                 PHA 
01237  A88B  A5 7A              LDA $7A
01238  A88D  48                 PHA 
01239  A88E  A5 3A              LDA CURLIN+1
01240  A890  48                 PHA 
01241  A891  A5 39              LDA CURLIN
01242  A893  48                 PHA 
01243  A894  A9 8D              LDA #$8D
01244  A896  48                 PHA 
01245  A897  20 79 00    XXA897 JSR $0079
01246  A89A  20 A0 A8           JSR XXA8A0
01247  A89D  4C AE A7           JMP XXA7AE
01248  A8A0              ;********************************
01249  A8A0              ;
01250  A8A0              ;********************************
01251  A8A0  20 6B A9    XXA8A0 JSR XXA96B






BASICV2A.ASM......PAGE 0027

LINE# LOC   CODE        LINE


01252  A8A3  20 09 A9           JSR XXA909
01253  A8A6  38                 SEC 
01254  A8A7  A5 39              LDA CURLIN
01255  A8A9  E5 14              SBC LINNUM
01256  A8AB  A5 3A              LDA CURLIN+1
01257  A8AD  E5 15              SBC LINNUM+1
01258  A8AF  B0 0B              BCS XXA8BC
01259  A8B1  98                 TYA 
01260  A8B2  38                 SEC 
01261  A8B3  65 7A              ADC $7A
01262  A8B5  A6 7B              LDX $7B
01263  A8B7  90 07              BCC XXA8C0
01264  A8B9  E8                 INX 
01265  A8BA  B0 04              BCS XXA8C0
01266  A8BC  A5 2B       XXA8BC LDA TXTTAB
01267  A8BE  A6 2C              LDX TXTTAB+1
01268  A8C0  20 17 A6    XXA8C0 JSR XXA617
01269  A8C3  90 1E              BCC XXA8E3
01270  A8C5  A5 5F              LDA $5F
01271  A8C7  E9 01              SBC #$01
01272  A8C9  85 7A              STA $7A
01273  A8CB  A5 60              LDA $60
01274  A8CD  E9 00              SBC #$00
01275  A8CF  85 7B              STA $7B
01276  A8D1  60          XXA8D1 RTS 
01277  A8D2              ;********************************
01278  A8D2              ;
01279  A8D2              ;********************************
01280  A8D2  D0 FD              BNE XXA8D1
01281  A8D4  A9 FF              LDA #$FF
01282  A8D6  85 4A              STA $4A
01283  A8D8  20 8A A3           JSR XXA38A
01284  A8DB  9A                 TXS 
01285  A8DC  C9 8D              CMP #$8D
01286  A8DE  F0 0B              BEQ XXA8EB
01287  A8E0  A2 0C              LDX #$0C
01288  A8E2              ;********************************
01289  A8E2  2C                 .BYTE $2C
01290  A8E3              ;********************************
01291  A8E3  A2 11       XXA8E3 LDX #$11
01292  A8E5  4C 37 A4           JMP XXA437
01293  A8E8              ;********************************
01294  A8E8              ;
01295  A8E8              ;********************************
01296  A8E8  4C 08 AF    XXA8E8 JMP XXAF08
01297  A8EB              ;********************************
01298  A8EB              ;
01299  A8EB              ;********************************
01300  A8EB  68          XXA8EB PLA 
01301  A8EC  68                 PLA 
01302  A8ED  85 39              STA CURLIN
01303  A8EF  68                 PLA 
01304  A8F0  85 3A              STA CURLIN+1
01305  A8F2  68                 PLA 
01306  A8F3  85 7A              STA $7A






BASICV2A.ASM......PAGE 0028

LINE# LOC   CODE        LINE


01307  A8F5  68                 PLA 
01308  A8F6  85 7B              STA $7B
01309  A8F8              ;********************************
01310  A8F8              ; DATA
01311  A8F8              ;********************************
01312  A8F8  20 06 A9    XXA8F8 JSR XXA906
01313  A8FB  98          XXA8FB TYA 
01314  A8FC  18                 CLC 
01315  A8FD  65 7A              ADC $7A
01316  A8FF  85 7A              STA $7A
01317  A901  90 02              BCC XXA905
01318  A903  E6 7B              INC $7B
01319  A905  60          XXA905 RTS 
01320  A906              ;********************************
01321  A906              ;
01322  A906              ;********************************
01323  A906  A2 3A       XXA906 LDX #$3A        ;':'
01324  A908              ;********************************
01325  A908  2C                 .BYTE $2C
01326  A909              ;********************************
01327  A909  A2 00       XXA909 LDX #$00
01328  A90B  86 07              STX $07
01329  A90D  A0 00              LDY #$00
01330  A90F  84 08              STY $08
01331  A911  A5 08       XXA911 LDA $08
01332  A913  A6 07              LDX $07
01333  A915  85 07              STA $07
01334  A917  86 08              STX $08
01335  A919  B1 7A       XXA919 LDA ($7A),Y
01336  A91B  F0 E8              BEQ XXA905
01337  A91D  C5 08              CMP $08
01338  A91F  F0 E4              BEQ XXA905
01339  A921  C8                 INY 
01340  A922  C9 22              CMP #$22        ;'"'
01341  A924  D0 F3              BNE XXA919
01342  A926  F0 E9              BEQ XXA911
01343  A928  20 9E AD           JSR XXAD9E
01344  A92B  20 79 00           JSR $0079
01345  A92E  C9 89              CMP #$89
01346  A930  F0 05              BEQ XXA937
01347  A932  A9 A7              LDA #$A7
01348  A934  20 FF AE           JSR XXAEFF
01349  A937  A5 61       XXA937 LDA $61
01350  A939  D0 05              BNE XXA940
01351  A93B  20 09 A9           JSR XXA909
01352  A93E  F0 BB              BEQ XXA8FB
01353  A940  20 79 00    XXA940 JSR $0079
01354  A943  B0 03              BCS XXA948
01355  A945  4C A0 A8           JMP XXA8A0
01356  A948              ;********************************
01357  A948              ;
01358  A948              ;********************************
01359  A948  4C ED A7    XXA948 JMP XXA7ED
01360  A94B              ;********************************
01361  A94B              ;






BASICV2A.ASM......PAGE 0029

LINE# LOC   CODE        LINE


01362  A94B              ;********************************
01363  A94B  20 9E B7           JSR XXB79E
01364  A94E  48                 PHA 
01365  A94F  C9 8D              CMP #$8D
01366  A951  F0 04              BEQ XXA957
01367  A953  C9 89       XXA953 CMP #$89
01368  A955  D0 91              BNE XXA8E8
01369  A957  C6 65       XXA957 DEC $65
01370  A959  D0 04              BNE XXA95F
01371  A95B  68                 PLA 
01372  A95C  4C EF A7           JMP XXA7EF
01373  A95F              ;********************************
01374  A95F              ;
01375  A95F              ;********************************
01376  A95F  20 73 00    XXA95F JSR $0073
01377  A962  20 6B A9           JSR XXA96B
01378  A965  C9 2C              CMP #$2C        ;','
01379  A967  F0 EE              BEQ XXA957
01380  A969  68                 PLA 
01381  A96A  60          XXA96A RTS 
01382  A96B              ;********************************
01383  A96B              ;
01384  A96B              ;********************************
01385  A96B  A2 00       XXA96B LDX #$00
01386  A96D  86 14              STX LINNUM
01387  A96F  86 15              STX LINNUM+1
01388  A971  B0 F7       XXA971 BCS XXA96A
01389  A973  E9 2F              SBC #$2F        ;'/'
01390  A975  85 07              STA $07
01391  A977  A5 15              LDA LINNUM+1
01392  A979  85 22              STA INDEX
01393  A97B  C9 19              CMP #$19
01394  A97D  B0 D4              BCS XXA953
01395  A97F  A5 14              LDA LINNUM
01396  A981  0A                 ASL A
01397  A982  26 22              ROL INDEX
01398  A984  0A                 ASL A
01399  A985  26 22              ROL INDEX
01400  A987  65 14              ADC LINNUM
01401  A989  85 14              STA LINNUM
01402  A98B  A5 22              LDA INDEX
01403  A98D  65 15              ADC LINNUM+1
01404  A98F  85 15              STA LINNUM+1
01405  A991  06 14              ASL LINNUM
01406  A993  26 15              ROL LINNUM+1
01407  A995  A5 14              LDA LINNUM
01408  A997  65 07              ADC $07
01409  A999  85 14              STA LINNUM
01410  A99B  90 02              BCC XXA99F
01411  A99D  E6 15              INC LINNUM+1
01412  A99F  20 73 00    XXA99F JSR $0073
01413  A9A2  4C 71 A9           JMP XXA971
01414  A9A5              ;********************************
01415  A9A5              ;
01416  A9A5              ;********************************






BASICV2A.ASM......PAGE 0030

LINE# LOC   CODE        LINE


01417  A9A5  20 8B B0    XXA9A5 JSR XXB08B
01418  A9A8  85 49              STA $49
01419  A9AA  84 4A              STY $4A
01420  A9AC  A9 B2              LDA #$B2
01421  A9AE  20 FF AE           JSR XXAEFF
01422  A9B1  A5 0E              LDA $0E
01423  A9B3  48                 PHA 
01424  A9B4  A5 0D              LDA $0D
01425  A9B6  48                 PHA 
01426  A9B7  20 9E AD           JSR XXAD9E
01427  A9BA  68                 PLA 
01428  A9BB  2A                 ROL A
01429  A9BC  20 90 AD           JSR XXAD90
01430  A9BF  D0 18              BNE XXA9D9
01431  A9C1  68                 PLA 
01432  A9C2  10 12       XXA9C2 BPL XXA9D6
01433  A9C4  20 1B BC           JSR XXBC1B
01434  A9C7  20 BF B1           JSR XXB1BF
01435  A9CA  A0 00              LDY #$00
01436  A9CC  A5 64              LDA $64
01437  A9CE  91 49              STA ($49),Y
01438  A9D0  C8                 INY 
01439  A9D1  A5 65              LDA $65
01440  A9D3  91 49              STA ($49),Y
01441  A9D5  60                 RTS 
01442  A9D6              ;********************************
01443  A9D6              ;
01444  A9D6              ;********************************
01445  A9D6  4C D0 BB    XXA9D6 JMP XXBBD0
01446  A9D9              ;********************************
01447  A9D9              ;
01448  A9D9              ;********************************
01449  A9D9  68          XXA9D9 PLA 
01450  A9DA  A4 4A       XXA9DA LDY $4A
01451  A9DC  C0 BF              CPY #$BF
01452  A9DE  D0 4C              BNE XXAA2C
01453  A9E0  20 A6 B6           JSR XXB6A6
01454  A9E3  C9 06              CMP #$06
01455  A9E5  D0 3D              BNE XXAA24
01456  A9E7  A0 00              LDY #$00
01457  A9E9  84 61              STY $61
01458  A9EB  84 66              STY $66
01459  A9ED  84 71       XXA9ED STY $71
01460  A9EF  20 1D AA           JSR XXAA1D
01461  A9F2  20 E2 BA           JSR XXBAE2
01462  A9F5  E6 71              INC $71
01463  A9F7  A4 71              LDY $71
01464  A9F9  20 1D AA           JSR XXAA1D
01465  A9FC  20 0C BC           JSR XXBC0C
01466  A9FF  AA                 TAX 
01467  AA00  F0 05              BEQ XXAA07
01468  AA02  E8                 INX 
01469  AA03  8A                 TXA 
01470  AA04  20 ED BA           JSR XXBAED
01471  AA07  A4 71       XXAA07 LDY $71






BASICV2A.ASM......PAGE 0031

LINE# LOC   CODE        LINE


01472  AA09  C8                 INY 
01473  AA0A  C0 06              CPY #$06
01474  AA0C  D0 DF              BNE XXA9ED
01475  AA0E  20 E2 BA           JSR XXBAE2
01476  AA11  20 9B BC           JSR XXBC9B
01477  AA14  A6 64              LDX $64
01478  AA16  A4 63              LDY $63
01479  AA18  A5 65              LDA $65
01480  AA1A  4C DB FF           JMP $FFDB
01481  AA1D              ;********************************
01482  AA1D              ;
01483  AA1D              ;********************************
01484  AA1D  B1 22       XXAA1D LDA (INDEX),Y
01485  AA1F  20 80 00           JSR $0080
01486  AA22  90 03              BCC XXAA27
01487  AA24  4C 48 B2    XXAA24 JMP XXB248
01488  AA27              ;********************************
01489  AA27              ;
01490  AA27              ;********************************
01491  AA27  E9 2F       XXAA27 SBC #$2F        ;'/'
01492  AA29  4C 7E BD           JMP XXBD7E
01493  AA2C              ;********************************
01494  AA2C              ;
01495  AA2C              ;********************************
01496  AA2C  A0 02       XXAA2C LDY #$02
01497  AA2E  B1 64              LDA ($64),Y
01498  AA30  C5 34              CMP FRETOP+1
01499  AA32  90 17              BCC XXAA4B
01500  AA34  D0 07              BNE XXAA3D
01501  AA36  88                 DEY 
01502  AA37  B1 64              LDA ($64),Y
01503  AA39  C5 33              CMP FRETOP
01504  AA3B  90 0E              BCC XXAA4B
01505  AA3D  A4 65       XXAA3D LDY $65
01506  AA3F  C4 2E              CPY VARTAB+1
01507  AA41  90 08              BCC XXAA4B
01508  AA43  D0 0D              BNE XXAA52
01509  AA45  A5 64              LDA $64
01510  AA47  C5 2D              CMP VARTAB
01511  AA49  B0 07              BCS XXAA52
01512  AA4B  A5 64       XXAA4B LDA $64
01513  AA4D  A4 65              LDY $65
01514  AA4F  4C 68 AA           JMP XXAA68
01515  AA52              ;********************************
01516  AA52              ;
01517  AA52              ;********************************
01518  AA52  A0 00       XXAA52 LDY #$00
01519  AA54  B1 64              LDA ($64),Y
01520  AA56  20 75 B4           JSR XXB475
01521  AA59  A5 50              LDA $50
01522  AA5B  A4 51              LDY $51
01523  AA5D  85 6F              STA $6F
01524  AA5F  84 70              STY $70
01525  AA61  20 7A B6           JSR XXB67A
01526  AA64  A9 61              LDA #$61






BASICV2A.ASM......PAGE 0032

LINE# LOC   CODE        LINE


01527  AA66  A0 00              LDY #$00
01528  AA68  85 50       XXAA68 STA $50
01529  AA6A  84 51              STY $51
01530  AA6C  20 DB B6           JSR XXB6DB
01531  AA6F  A0 00              LDY #$00
01532  AA71  B1 50              LDA ($50),Y
01533  AA73  91 49              STA ($49),Y
01534  AA75  C8                 INY 
01535  AA76  B1 50              LDA ($50),Y
01536  AA78  91 49              STA ($49),Y
01537  AA7A  C8                 INY 
01538  AA7B  B1 50              LDA ($50),Y
01539  AA7D  91 49              STA ($49),Y
01540  AA7F  60          XXAA7F RTS 
01541  AA80              ;********************************
01542  AA80              ;
01543  AA80              ;********************************
01544  AA80  20 86 AA           JSR XXAA86
01545  AA83  4C B5 AB           JMP XXABB5
01546  AA86              ;********************************
01547  AA86              ;
01548  AA86              ;********************************
01549  AA86  20 9E B7    XXAA86 JSR XXB79E
01550  AA89  F0 05              BEQ XXAA90
01551  AA8B  A9 2C              LDA #$2C        ;','
01552  AA8D  20 FF AE           JSR XXAEFF
01553  AA90  08          XXAA90 PHP 
01554  AA91  86 13              STX $13
01555  AA93  20 18 E1           JSR $E118
01556  AA96  28                 PLP 
01557  AA97  4C A0 AA           JMP XXAAA0
01558  AA9A              ;********************************
01559  AA9A              ;
01560  AA9A              ;********************************
01561  AA9A  20 21 AB    XXAA9A JSR XXAB21
01562  AA9D  20 79 00    XXAA9D JSR $0079
01563  AAA0  F0 35       XXAAA0 BEQ XXAAD7
01564  AAA2  F0 43       XXAAA2 BEQ XXAAE7
01565  AAA4  C9 A3              CMP #$A3
01566  AAA6  F0 50              BEQ XXAAF8
01567  AAA8  C9 A6              CMP #$A6
01568  AAAA  18                 CLC 
01569  AAAB  F0 4B              BEQ XXAAF8
01570  AAAD  C9 2C              CMP #$2C        ;','
01571  AAAF  F0 37              BEQ XXAAE8
01572  AAB1  C9 3B              CMP #$3B        ;';'
01573  AAB3  F0 5E              BEQ XXAB13
01574  AAB5  20 9E AD           JSR XXAD9E
01575  AAB8  24 0D              BIT $0D
01576  AABA  30 DE              BMI XXAA9A
01577  AABC  20 DD BD           JSR XXBDDD
01578  AABF  20 87 B4           JSR XXB487
01579  AAC2  20 21 AB           JSR XXAB21
01580  AAC5  20 3B AB           JSR XXAB3B
01581  AAC8  D0 D3              BNE XXAA9D






BASICV2A.ASM......PAGE 0033

LINE# LOC   CODE        LINE


01582  AACA  A9 00       XXAACA LDA #$00
01583  AACC  9D 00 02           STA $0200,X
01584  AACF  A2 FF              LDX #$FF
01585  AAD1  A0 01              LDY #$01
01586  AAD3  A5 13              LDA $13
01587  AAD5  D0 10              BNE XXAAE7
01588  AAD7  A9 0D       XXAAD7 LDA #$0D
01589  AAD9  20 47 AB           JSR XXAB47
01590  AADC  24 13              BIT $13
01591  AADE  10 05              BPL XXAAE5
01592  AAE0  A9 0A              LDA #$0A
01593  AAE2  20 47 AB           JSR XXAB47
01594  AAE5  49 FF       XXAAE5 EOR #$FF
01595  AAE7  60          XXAAE7 RTS 
01596  AAE8              ;********************************
01597  AAE8              ;
01598  AAE8              ;********************************
01599  AAE8  38          XXAAE8 SEC 
01600  AAE9  20 F0 FF           JSR $FFF0
01601  AAEC  98                 TYA 
01602  AAED  38                 SEC 
01603  AAEE  E9 0A       XXAAEE SBC #$0A
01604  AAF0  B0 FC              BCS XXAAEE
01605  AAF2  49 FF              EOR #$FF
01606  AAF4  69 01              ADC #$01
01607  AAF6  D0 16              BNE XXAB0E
01608  AAF8  08          XXAAF8 PHP 
01609  AAF9  38                 SEC 
01610  AAFA  20 F0 FF           JSR $FFF0
01611  AAFD  84 09              STY $09
01612  AAFF  20 9B B7           JSR XXB79B
01613  AB02  C9 29              CMP #$29        ;')'
01614  AB04  D0 59              BNE XXAB5F
01615  AB06  28                 PLP 
01616  AB07  90 06              BCC XXAB0F
01617  AB09  8A                 TXA 
01618  AB0A  E5 09              SBC $09
01619  AB0C  90 05              BCC XXAB13
01620  AB0E  AA          XXAB0E TAX 
01621  AB0F  E8          XXAB0F INX 
01622  AB10  CA          XXAB10 DEX 
01623  AB11  D0 06              BNE XXAB19
01624  AB13  20 73 00    XXAB13 JSR $0073
01625  AB16  4C A2 AA           JMP XXAAA2
01626  AB19              ;********************************
01627  AB19              ;
01628  AB19              ;********************************
01629  AB19  20 3B AB    XXAB19 JSR XXAB3B
01630  AB1C  D0 F2              BNE XXAB10
01631  AB1E  20 87 B4    XXAB1E JSR XXB487
01632  AB21  20 A6 B6    XXAB21 JSR XXB6A6
01633  AB24  AA                 TAX 
01634  AB25  A0 00              LDY #$00
01635  AB27  E8                 INX 
01636  AB28  CA          XXAB28 DEX 






BASICV2A.ASM......PAGE 0034

LINE# LOC   CODE        LINE


01637  AB29  F0 BC              BEQ XXAAE7
01638  AB2B  B1 22              LDA (INDEX),Y
01639  AB2D  20 47 AB           JSR XXAB47
01640  AB30  C8                 INY 
01641  AB31  C9 0D              CMP #$0D
01642  AB33  D0 F3              BNE XXAB28
01643  AB35  20 E5 AA           JSR XXAAE5
01644  AB38  4C 28 AB           JMP XXAB28
01645  AB3B              ;********************************
01646  AB3B              ;
01647  AB3B              ;********************************
01648  AB3B  A5 13       XXAB3B LDA $13
01649  AB3D  F0 03              BEQ XXAB42
01650  AB3F  A9 20              LDA #$20        ;' '
01651  AB41              ;********************************
01652  AB41  2C                 .BYTE $2C
01653  AB42              ;********************************
01654  AB42  A9 1D       XXAB42 LDA #$1D
01655  AB44              ;********************************
01656  AB44  2C                 .BYTE $2C
01657  AB45              ;********************************
01658  AB45  A9 3F       XXAB45 LDA #$3F        ;'?'
01659  AB47  20 0C E1    XXAB47 JSR $E10C
01660  AB4A  29 FF              AND #$FF
01661  AB4C  60                 RTS 
01662  AB4D              ;********************************
01663  AB4D              ;
01664  AB4D              ;********************************
01665  AB4D  A5 11       XXAB4D LDA $11
01666  AB4F  F0 11              BEQ XXAB62
01667  AB51  30 04              BMI XXAB57
01668  AB53  A0 FF              LDY #$FF
01669  AB55  D0 04              BNE XXAB5B
01670  AB57  A5 3F       XXAB57 LDA DATLIN
01671  AB59  A4 40              LDY DATLIN+1
01672  AB5B  85 39       XXAB5B STA CURLIN
01673  AB5D  84 3A              STY CURLIN+1
01674  AB5F  4C 08 AF    XXAB5F JMP XXAF08
01675  AB62              ;********************************
01676  AB62              ;
01677  AB62              ;********************************
01678  AB62  A5 13       XXAB62 LDA $13
01679  AB64  F0 05              BEQ XXAB6B
01680  AB66  A2 18              LDX #$18
01681  AB68  4C 37 A4           JMP XXA437
01682  AB6B              ;********************************
01683  AB6B              ;
01684  AB6B              ;********************************
01685  AB6B  A9 0C       XXAB6B LDA #$0C
01686  AB6D  A0 AD              LDY #$AD
01687  AB6F  20 1E AB           JSR XXAB1E
01688  AB72  A5 3D              LDA OLDTXT
01689  AB74  A4 3E              LDY OLDTXT+1
01690  AB76  85 7A              STA $7A
01691  AB78  84 7B              STY $7B






BASICV2A.ASM......PAGE 0035

LINE# LOC   CODE        LINE


01692  AB7A  60          XXAB7A RTS 
01693  AB7B              ;********************************
01694  AB7B              ;
01695  AB7B              ;********************************
01696  AB7B  20 A6 B3           JSR XXB3A6
01697  AB7E  C9 23              CMP #$23        ;'#'
01698  AB80  D0 10              BNE XXAB92
01699  AB82  20 73 00           JSR $0073
01700  AB85  20 9E B7           JSR XXB79E
01701  AB88  A9 2C              LDA #$2C        ;','
01702  AB8A  20 FF AE           JSR XXAEFF
01703  AB8D  86 13              STX $13
01704  AB8F  20 1E E1           JSR $E11E
01705  AB92  A2 01       XXAB92 LDX #$01
01706  AB94  A0 02              LDY #$02
01707  AB96  A9 00              LDA #$00
01708  AB98  8D 01 02           STA $0201
01709  AB9B  A9 40              LDA #$40        ;'@'
01710  AB9D  20 0F AC           JSR XXAC0F
01711  ABA0  A6 13              LDX $13
01712  ABA2  D0 13              BNE XXABB7
01713  ABA4  60          XXABA4 RTS 
01714  ABA5              ;********************************
01715  ABA5              ; INPUT#
01716  ABA5              ;********************************
01717  ABA5  20 9E B7    ZZABA5 JSR XXB79E
01718  ABA8  A9 2C              LDA #$2C        ;','
01719  ABAA  20 FF AE           JSR XXAEFF
01720  ABAD  86 13              STX $13
01721  ABAF  20 1E E1           JSR $E11E
01722  ABB2  20 CE AB           JSR XXABCE
01723  ABB5  A5 13       XXABB5 LDA $13
01724  ABB7  20 CC FF    XXABB7 JSR $FFCC
01725  ABBA  A2 00              LDX #$00
01726  ABBC  86 13              STX $13
01727  ABBE  60          XXABBE RTS 
01728  ABBF              ;********************************
01729  ABBF              ; INPUT
01730  ABBF              ;********************************
01731  ABBF  C9 22       ZZABBF CMP #$22        ;'"'
01732  ABC1  D0 0B              BNE XXABCE
01733  ABC3  20 BD AE           JSR XXAEBD
01734  ABC6  A9 3B              LDA #$3B        ;';'
01735  ABC8  20 FF AE           JSR XXAEFF
01736  ABCB  20 21 AB           JSR XXAB21
01737  ABCE  20 A6 B3    XXABCE JSR XXB3A6
01738  ABD1  A9 2C              LDA #$2C        ;','
01739  ABD3  8D FF 01           STA $01FF
01740  ABD6  20 F9 AB    XXABD6 JSR XXABF9
01741  ABD9  A5 13              LDA $13
01742  ABDB  F0 0D              BEQ XXABEA
01743  ABDD  20 B7 FF           JSR $FFB7
01744  ABE0  29 02              AND #$02
01745  ABE2  F0 06              BEQ XXABEA
01746  ABE4  20 B5 AB           JSR XXABB5






BASICV2A.ASM......PAGE 0036

LINE# LOC   CODE        LINE


01747  ABE7  4C F8 A8           JMP XXA8F8
01748  ABEA              ;********************************
01749  ABEA              ;
01750  ABEA              ;********************************
01751  ABEA  AD 00 02    XXABEA LDA $0200
01752  ABED  D0 1E              BNE XXAC0D
01753  ABEF  A5 13              LDA $13
01754  ABF1  D0 E3              BNE XXABD6
01755  ABF3  20 06 A9           JSR XXA906
01756  ABF6  4C FB A8           JMP XXA8FB
01757  ABF9              ;********************************
01758  ABF9              ;
01759  ABF9              ;********************************
01760  ABF9  A5 13       XXABF9 LDA $13
01761  ABFB  D0 06              BNE XXAC03
01762  ABFD  20 45 AB           JSR XXAB45
01763  AC00  20 3B AB           JSR XXAB3B
01764  AC03  4C 60 A5    XXAC03 JMP XXA560
01765  AC06              ;********************************
01766  AC06              ;
01767  AC06              ;********************************
01768  AC06  A6 41              LDX DATPRT
01769  AC08  A4 42              LDY DATPRT+1
01770  AC0A  A9 98              LDA #$98
01771  AC0C              ;********************************
01772  AC0C  2C                 .BYTE $2C
01773  AC0D              ;********************************
01774  AC0D  A9 00       XXAC0D LDA #$00
01775  AC0F  85 11       XXAC0F STA $11
01776  AC11  86 43              STX $43
01777  AC13  84 44              STY $44
01778  AC15  20 8B B0    XXAC15 JSR XXB08B
01779  AC18  85 49              STA $49
01780  AC1A  84 4A              STY $4A
01781  AC1C  A5 7A              LDA $7A
01782  AC1E  A4 7B              LDY $7B
01783  AC20  85 4B              STA $4B
01784  AC22  84 4C              STY $4C
01785  AC24  A6 43              LDX $43
01786  AC26  A4 44              LDY $44
01787  AC28  86 7A              STX $7A
01788  AC2A  84 7B              STY $7B
01789  AC2C  20 79 00           JSR $0079
01790  AC2F  D0 20              BNE XXAC51
01791  AC31  24 11              BIT $11
01792  AC33  50 0C              BVC XXAC41
01793  AC35  20 24 E1           JSR $E124
01794  AC38  8D 00 02           STA $0200
01795  AC3B  A2 FF              LDX #$FF
01796  AC3D  A0 01              LDY #$01
01797  AC3F  D0 0C              BNE XXAC4D
01798  AC41  30 75       XXAC41 BMI XXACB8
01799  AC43  A5 13              LDA $13
01800  AC45  D0 03              BNE XXAC4A
01801  AC47  20 45 AB           JSR XXAB45






BASICV2A.ASM......PAGE 0037

LINE# LOC   CODE        LINE


01802  AC4A  20 F9 AB    XXAC4A JSR XXABF9
01803  AC4D  86 7A       XXAC4D STX $7A
01804  AC4F  84 7B              STY $7B
01805  AC51  20 73 00    XXAC51 JSR $0073
01806  AC54  24 0D              BIT $0D
01807  AC56  10 31              BPL XXAC89
01808  AC58  24 11              BIT $11
01809  AC5A  50 09              BVC XXAC65
01810  AC5C  E8                 INX 
01811  AC5D  86 7A              STX $7A
01812  AC5F  A9 00              LDA #$00
01813  AC61  85 07              STA $07
01814  AC63  F0 0C              BEQ XXAC71
01815  AC65  85 07       XXAC65 STA $07
01816  AC67  C9 22              CMP #$22        ;'"'
01817  AC69  F0 07              BEQ XXAC72
01818  AC6B  A9 3A              LDA #$3A        ;':'
01819  AC6D  85 07              STA $07
01820  AC6F  A9 2C              LDA #$2C        ;','
01821  AC71  18          XXAC71 CLC 
01822  AC72  85 08       XXAC72 STA $08
01823  AC74  A5 7A              LDA $7A
01824  AC76  A4 7B              LDY $7B
01825  AC78  69 00              ADC #$00
01826  AC7A  90 01              BCC XXAC7D
01827  AC7C  C8                 INY 
01828  AC7D  20 8D B4    XXAC7D JSR XXB48D
01829  AC80  20 E2 B7           JSR XXB7E2
01830  AC83  20 DA A9           JSR XXA9DA
01831  AC86  4C 91 AC           JMP XXAC91
01832  AC89              ;********************************
01833  AC89              ;
01834  AC89              ;********************************
01835  AC89  20 F3 BC    XXAC89 JSR XXBCF3
01836  AC8C  A5 0E              LDA $0E
01837  AC8E  20 C2 A9           JSR XXA9C2
01838  AC91  20 79 00    XXAC91 JSR $0079
01839  AC94  F0 07              BEQ XXAC9D
01840  AC96  C9 2C              CMP #$2C        ;','
01841  AC98  F0 03              BEQ XXAC9D
01842  AC9A  4C 4D AB           JMP XXAB4D
01843  AC9D              ;********************************
01844  AC9D              ;
01845  AC9D              ;********************************
01846  AC9D  A5 7A       XXAC9D LDA $7A
01847  AC9F  A4 7B              LDY $7B
01848  ACA1  85 43              STA $43
01849  ACA3  84 44              STY $44
01850  ACA5  A5 4B              LDA $4B
01851  ACA7  A4 4C              LDY $4C
01852  ACA9  85 7A              STA $7A
01853  ACAB  84 7B              STY $7B
01854  ACAD  20 79 00           JSR $0079
01855  ACB0  F0 2D              BEQ XXACDF
01856  ACB2  20 FD AE           JSR XXAEFD






BASICV2A.ASM......PAGE 0038

LINE# LOC   CODE        LINE


01857  ACB5  4C 15 AC           JMP XXAC15
01858  ACB8              ;********************************
01859  ACB8              ;
01860  ACB8              ;********************************
01861  ACB8  20 06 A9    XXACB8 JSR XXA906
01862  ACBB  C8                 INY 
01863  ACBC  AA                 TAX 
01864  ACBD  D0 12              BNE XXACD1
01865  ACBF  A2 0D              LDX #$0D
01866  ACC1  C8                 INY 
01867  ACC2  B1 7A              LDA ($7A),Y
01868  ACC4  F0 6C              BEQ XXAD32
01869  ACC6  C8                 INY 
01870  ACC7  B1 7A              LDA ($7A),Y
01871  ACC9  85 3F              STA DATLIN
01872  ACCB  C8                 INY 
01873  ACCC  B1 7A              LDA ($7A),Y
01874  ACCE  C8                 INY 
01875  ACCF  85 40              STA DATLIN+1
01876  ACD1  20 FB A8    XXACD1 JSR XXA8FB
01877  ACD4  20 79 00           JSR $0079
01878  ACD7  AA                 TAX 
01879  ACD8  E0 83              CPX #$83
01880  ACDA  D0 DC              BNE XXACB8
01881  ACDC  4C 51 AC           JMP XXAC51
01882  ACDF              ;********************************
01883  ACDF              ;
01884  ACDF              ;********************************
01885  ACDF  A5 43       XXACDF LDA $43
01886  ACE1  A4 44              LDY $44
01887  ACE3  A6 11              LDX $11
01888  ACE5  10 03              BPL XXACEA
01889  ACE7  4C 27 A8           JMP XXA827
01890  ACEA              ;********************************
01891  ACEA              ;
01892  ACEA              ;********************************
01893  ACEA  A0 00       XXACEA LDY #$00
01894  ACEC  B1 43              LDA ($43),Y
01895  ACEE  F0 0B              BEQ XXACFB
01896  ACF0  A5 13              LDA $13
01897  ACF2  D0 07              BNE XXACFB
01898  ACF4  A9 FC              LDA #$FC
01899  ACF6  A0 AC              LDY #$AC
01900  ACF8  4C 1E AB           JMP XXAB1E
01901  ACFB              ;********************************
01902  ACFB              ;
01903  ACFB              ;********************************
01904  ACFB  60          XXACFB RTS 
01905  ACFC              ;********************************
01906  ACFC              ;
01907  ACFC              ;********************************
01908  ACFC  3F 45              .BYTE '?EXTRA IGNORED'
01909  AD0A  0D                 .BYTE $0D
01910  AD0B  00                 .BYTE $00
01911  AD0C  3F 52              .BYTE '?REDO FROM START'






BASICV2A.ASM......PAGE 0039

LINE# LOC   CODE        LINE


01912  AD1C  0D                 .BYTE $0D
01913  AD1D  00          XXAD1D .BYTE $00
01914  AD1E              ;********************************
01915  AD1E              ;
01916  AD1E              ;********************************
01917  AD1E  D0 04       ZZAD1E BNE XXAD24
01918  AD20  A0 00              LDY #$00
01919  AD22  F0 03              BEQ XXAD27
01920  AD24  20 8B B0    XXAD24 JSR XXB08B
01921  AD27  85 49       XXAD27 STA $49
01922  AD29  84 4A              STY $4A
01923  AD2B  20 8A A3           JSR XXA38A
01924  AD2E  F0 05              BEQ XXAD35
01925  AD30  A2 0A              LDX #$0A
01926  AD32  4C 37 A4    XXAD32 JMP XXA437
01927  AD35              ;********************************
01928  AD35              ;
01929  AD35              ;********************************
01930  AD35  9A          XXAD35 TXS 
01931  AD36  8A                 TXA 
01932  AD37  18                 CLC 
01933  AD38  69 04              ADC #$04
01934  AD3A  48                 PHA 
01935  AD3B  69 06              ADC #$06
01936  AD3D  85 24              STA INDEX+2
01937  AD3F  68                 PLA 
01938  AD40  A0 01              LDY #$01
01939  AD42  20 A2 BB           JSR XXBBA2
01940  AD45  BA                 TSX 
01941  AD46  BD 09 01           LDA $0109,X
01942  AD49  85 66              STA $66
01943  AD4B  A5 49              LDA $49
01944  AD4D  A4 4A              LDY $4A
01945  AD4F  20 67 B8           JSR XXB867
01946  AD52  20 D0 BB           JSR XXBBD0
01947  AD55  A0 01              LDY #$01
01948  AD57  20 5D BC           JSR XXBC5D
01949  AD5A  BA                 TSX 
01950  AD5B  38                 SEC 
01951  AD5C  FD 09 01           SBC $0109,X
01952  AD5F  F0 17              BEQ XXAD78
01953  AD61  BD 0F 01           LDA $010F,X
01954  AD64  85 39              STA CURLIN
01955  AD66  BD 10 01           LDA $0110,X
01956  AD69  85 3A              STA CURLIN+1
01957  AD6B  BD 12 01           LDA $0112,X
01958  AD6E  85 7A              STA $7A
01959  AD70  BD 11 01           LDA $0111,X
01960  AD73  85 7B              STA $7B
01961  AD75  4C AE A7    XXAD75 JMP XXA7AE
01962  AD78              ;********************************
01963  AD78              ;
01964  AD78              ;********************************
01965  AD78  8A          XXAD78 TXA 
01966  AD79  69 11              ADC #$11






BASICV2A.ASM......PAGE 0040

LINE# LOC   CODE        LINE


01967  AD7B  AA                 TAX 
01968  AD7C  9A                 TXS 
01969  AD7D  20 79 00           JSR $0079
01970  AD80  C9 2C              CMP #$2C        ;','
01971  AD82  D0 F1              BNE XXAD75
01972  AD84  20 73 00           JSR $0073
01973  AD87  20 24 AD           JSR XXAD24
01974  AD8A  20 9E AD    XXAD8A JSR XXAD9E
01975  AD8D  18          XXAD8D CLC 
01976  AD8E              ;********************************
01977  AD8E  24                 .BYTE $24
01978  AD8F              ;********************************
01979  AD8F  38          XXAD8F SEC 
01980  AD90  24 0D       XXAD90 BIT $0D
01981  AD92  30 03              BMI XXAD97
01982  AD94  B0 03              BCS XXAD99
01983  AD96  60          XXAD96 RTS 
01984  AD97              ;********************************
01985  AD97              ;
01986  AD97              ;********************************
01987  AD97  B0 FD       XXAD97 BCS XXAD96
01988  AD99  A2 16       XXAD99 LDX #$16
01989  AD9B  4C 37 A4           JMP XXA437
01990  AD9E              ;********************************
01991  AD9E              ;
01992  AD9E              ;********************************
01993  AD9E  A6 7A       XXAD9E LDX $7A
01994  ADA0  D0 02              BNE XXADA4
01995  ADA2  C6 7B              DEC $7B
01996  ADA4  C6 7A       XXADA4 DEC $7A
01997  ADA6  A2 00              LDX #$00
01998  ADA8              ;********************************
01999  ADA8  24                 .BYTE $24
02000  ADA9              ;********************************
02001  ADA9  48          XXADA9 PHA 
02002  ADAA  8A                 TXA 
02003  ADAB  48                 PHA 
02004  ADAC  A9 01              LDA #$01
02005  ADAE  20 FB A3           JSR XXA3FB
02006  ADB1  20 83 AE           JSR XXAE83
02007  ADB4  A9 00              LDA #$00
02008  ADB6  85 4D              STA $4D
02009  ADB8  20 79 00    XXADB8 JSR $0079
02010  ADBB  38          XXADBB SEC 
02011  ADBC  E9 B1              SBC #$B1
02012  ADBE  90 17              BCC XXADD7
02013  ADC0  C9 03              CMP #$03
02014  ADC2  B0 13              BCS XXADD7
02015  ADC4  C9 01              CMP #$01
02016  ADC6  2A                 ROL A
02017  ADC7  49 01              EOR #$01
02018  ADC9  45 4D              EOR $4D
02019  ADCB  C5 4D              CMP $4D
02020  ADCD  90 61              BCC XXAE30
02021  ADCF  85 4D              STA $4D






BASICV2A.ASM......PAGE 0041

LINE# LOC   CODE        LINE


02022  ADD1  20 73 00           JSR $0073
02023  ADD4  4C BB AD           JMP XXADBB
02024  ADD7              ;********************************
02025  ADD7              ;
02026  ADD7              ;********************************
02027  ADD7  A6 4D       XXADD7 LDX $4D
02028  ADD9  D0 2C              BNE XXAE07
02029  ADDB  B0 7B              BCS XXAE58
02030  ADDD  69 07              ADC #$07
02031  ADDF  90 77              BCC XXAE58
02032  ADE1  65 0D              ADC $0D
02033  ADE3  D0 03              BNE XXADE8
02034  ADE5  4C 3D B6           JMP XXB63D
02035  ADE8              ;********************************
02036  ADE8              ;
02037  ADE8              ;********************************
02038  ADE8  69 FF       XXADE8 ADC #$FF
02039  ADEA  85 22              STA INDEX
02040  ADEC  0A                 ASL A
02041  ADED  65 22              ADC INDEX
02042  ADEF  A8                 TAY 
02043  ADF0  68          XXADF0 PLA 
02044  ADF1  D9 80 A0           CMP XXA080,Y
02045  ADF4  B0 67              BCS XXAE5D
02046  ADF6  20 8D AD           JSR XXAD8D
02047  ADF9  48          XXADF9 PHA 
02048  ADFA  20 20 AE    XXADFA JSR XXAE20
02049  ADFD  68                 PLA 
02050  ADFE  A4 4B              LDY $4B
02051  AE00  10 17              BPL XXAE19
02052  AE02  AA                 TAX 
02053  AE03  F0 56              BEQ XXAE5B
02054  AE05  D0 5F              BNE XXAE66
02055  AE07  46 0D       XXAE07 LSR $0D
02056  AE09  8A                 TXA 
02057  AE0A  2A                 ROL A
02058  AE0B  A6 7A              LDX $7A
02059  AE0D  D0 02              BNE XXAE11
02060  AE0F  C6 7B              DEC $7B
02061  AE11  C6 7A       XXAE11 DEC $7A
02062  AE13  A0 1B              LDY #$1B
02063  AE15  85 4D              STA $4D
02064  AE17  D0 D7              BNE XXADF0
02065  AE19  D9 80 A0    XXAE19 CMP XXA080,Y
02066  AE1C  B0 48              BCS XXAE66
02067  AE1E  90 D9              BCC XXADF9
02068  AE20  B9 82 A0    XXAE20 LDA XXA082,Y
02069  AE23  48                 PHA 
02070  AE24  B9 81 A0           LDA XXA081,Y
02071  AE27  48                 PHA 
02072  AE28  20 33 AE           JSR XXAE33
02073  AE2B  A5 4D              LDA $4D
02074  AE2D  4C A9 AD           JMP XXADA9
02075  AE30              ;********************************
02076  AE30              ;






BASICV2A.ASM......PAGE 0042

LINE# LOC   CODE        LINE


02077  AE30              ;********************************
02078  AE30  4C 08 AF    XXAE30 JMP XXAF08
02079  AE33              ;********************************
02080  AE33              ;
02081  AE33              ;********************************
02082  AE33  A5 66       XXAE33 LDA $66
02083  AE35  BE 80 A0           LDX XXA080,Y
02084  AE38  A8          XXAE38 TAY 
02085  AE39  68                 PLA 
02086  AE3A  85 22              STA INDEX
02087  AE3C  E6 22              INC INDEX
02088  AE3E  68                 PLA 
02089  AE3F  85 23              STA INDEX+1
02090  AE41  98                 TYA 
02091  AE42  48                 PHA 
02092  AE43  20 1B BC    XXAE43 JSR XXBC1B
02093  AE46  A5 65              LDA $65
02094  AE48  48                 PHA 
02095  AE49  A5 64              LDA $64
02096  AE4B  48                 PHA 
02097  AE4C  A5 63              LDA $63
02098  AE4E  48                 PHA 
02099  AE4F  A5 62              LDA $62
02100  AE51  48                 PHA 
02101  AE52  A5 61              LDA $61
02102  AE54  48                 PHA 
02103  AE55  6C 22 00           JMP ($0022)
02104  AE58              ;********************************
02105  AE58              ;
02106  AE58              ;********************************
02107  AE58  A0 FF       XXAE58 LDY #$FF
02108  AE5A  68                 PLA 
02109  AE5B  F0 23       XXAE5B BEQ XXAE80
02110  AE5D  C9 64       XXAE5D CMP #$64
02111  AE5F  F0 03              BEQ XXAE64
02112  AE61  20 8D AD           JSR XXAD8D
02113  AE64  84 4B       XXAE64 STY $4B
02114  AE66  68          XXAE66 PLA 
02115  AE67  4A                 LSR A
02116  AE68  85 12              STA $12
02117  AE6A  68                 PLA 
02118  AE6B  85 69              STA $69
02119  AE6D  68                 PLA 
02120  AE6E  85 6A              STA $6A
02121  AE70  68                 PLA 
02122  AE71  85 6B              STA $6B
02123  AE73  68                 PLA 
02124  AE74  85 6C              STA $6C
02125  AE76  68                 PLA 
02126  AE77  85 6D              STA $6D
02127  AE79  68                 PLA 
02128  AE7A  85 6E              STA $6E
02129  AE7C  45 66              EOR $66
02130  AE7E  85 6F              STA $6F
02131  AE80  A5 61       XXAE80 LDA $61






BASICV2A.ASM......PAGE 0043

LINE# LOC   CODE        LINE


02132  AE82  60                 RTS 
02133  AE83              ;********************************
02134  AE83              ;
02135  AE83              ;********************************
02136  AE83  6C 0A 03    XXAE83 JMP ($030A)
02137  AE86              ;********************************
02138  AE86              ;
02139  AE86              ;********************************
02140  AE86  A9 00              LDA #$00
02141  AE88  85 0D              STA $0D
02142  AE8A  20 73 00    XXAE8A JSR $0073
02143  AE8D  B0 03              BCS XXAE92
02144  AE8F  4C F3 BC    XXAE8F JMP XXBCF3
02145  AE92              ;********************************
02146  AE92              ;
02147  AE92              ;********************************
02148  AE92  20 13 B1    XXAE92 JSR XXB113
02149  AE95  90 03              BCC XXAE9A
02150  AE97  4C 28 AF           JMP XXAF28
02151  AE9A              ;********************************
02152  AE9A              ;
02153  AE9A              ;********************************
02154  AE9A  C9 FF       XXAE9A CMP #$FF
02155  AE9C  D0 0F              BNE XXAEAD
02156  AE9E  A9 A8              LDA #$A8
02157  AEA0  A0 AE              LDY #$AE
02158  AEA2  20 A2 BB           JSR XXBBA2
02159  AEA5  4C 73 00           JMP $0073
02160  AEA8              ;********************************
02161  AEA8              ;
02162  AEA8              ;********************************
02163  AEA8  82                 .BYTE $82
02164  AEA9  49                 .BYTE $49
02165  AEAA  0F                 .BYTE $0F
02166  AEAB  DA                 .BYTE $DA
02167  AEAC  A1                 .BYTE $A1
02168  AEAD              ;********************************
02169  AEAD              ;
02170  AEAD              ;********************************
02171  AEAD  C9 2E       XXAEAD CMP #$2E        ;'.'
02172  AEAF  F0 DE              BEQ XXAE8F
02173  AEB1  C9 AB              CMP #$AB
02174  AEB3  F0 58              BEQ XXAF0D
02175  AEB5  C9 AA              CMP #$AA
02176  AEB7  F0 D1              BEQ XXAE8A
02177  AEB9  C9 22              CMP #$22        ;'"'
02178  AEBB  D0 0F              BNE XXAECC
02179  AEBD  A5 7A       XXAEBD LDA $7A
02180  AEBF  A4 7B              LDY $7B
02181  AEC1  69 00              ADC #$00
02182  AEC3  90 01              BCC XXAEC6
02183  AEC5  C8                 INY 
02184  AEC6  20 87 B4    XXAEC6 JSR XXB487
02185  AEC9  4C E2 B7           JMP XXB7E2
02186  AECC              ;********************************






BASICV2A.ASM......PAGE 0044

LINE# LOC   CODE        LINE


02187  AECC              ;
02188  AECC              ;********************************
02189  AECC  C9 A8       XXAECC CMP #$A8
02190  AECE  D0 13              BNE XXAEE3
02191  AED0  A0 18              LDY #$18
02192  AED2  D0 3B              BNE XXAF0F
02193  AED4  20 BF B1           JSR XXB1BF
02194  AED7  A5 65              LDA $65
02195  AED9  49 FF              EOR #$FF
02196  AEDB  A8                 TAY 
02197  AEDC  A5 64              LDA $64
02198  AEDE  49 FF              EOR #$FF
02199  AEE0  4C 91 B3           JMP XXB391
02200  AEE3              ;********************************
02201  AEE3              ;
02202  AEE3              ;********************************
02203  AEE3  C9 A5       XXAEE3 CMP #$A5
02204  AEE5  D0 03              BNE XXAEEA
02205  AEE7  4C F4 B3           JMP XXB3F4
02206  AEEA              ;********************************
02207  AEEA              ;
02208  AEEA              ;********************************
02209  AEEA  C9 B4       XXAEEA CMP #$B4
02210  AEEC  90 03              BCC XXAEF1
02211  AEEE  4C A7 AF           JMP XXAFA7
02212  AEF1              ;********************************
02213  AEF1              ;
02214  AEF1              ;********************************
02215  AEF1  20 FA AE    XXAEF1 JSR XXAEFA
02216  AEF4  20 9E AD           JSR XXAD9E
02217  AEF7  A9 29       XXAEF7 LDA #$29        ;')'
02218  AEF9              ;********************************
02219  AEF9  2C                 .BYTE $2C
02220  AEFA              ;********************************
02221  AEFA  A9 28       XXAEFA LDA #$28        ;'('
02222  AEFC              ;********************************
02223  AEFC  2C                 .BYTE $2C
02224  AEFD              ;********************************
02225  AEFD  A9 2C       XXAEFD LDA #$2C        ;','
02226  AEFF  A0 00       XXAEFF LDY #$00
02227  AF01  D1 7A              CMP ($7A),Y
02228  AF03  D0 03              BNE XXAF08
02229  AF05  4C 73 00           JMP $0073
02230  AF08              ;********************************
02231  AF08              ;
02232  AF08              ;********************************
02233  AF08  A2 0B       XXAF08 LDX #$0B
02234  AF0A  4C 37 A4           JMP XXA437
02235  AF0D              ;********************************
02236  AF0D              ;
02237  AF0D              ;********************************
02238  AF0D  A0 15       XXAF0D LDY #$15
02239  AF0F  68          XXAF0F PLA 
02240  AF10  68                 PLA 
02241  AF11  4C FA AD           JMP XXADFA






BASICV2A.ASM......PAGE 0045

LINE# LOC   CODE        LINE


02242  AF14              ;********************************
02243  AF14              ;
02244  AF14              ;********************************
02245  AF14  38          XXAF14 SEC 
02246  AF15  A5 64              LDA $64
02247  AF17  E9 00              SBC #$00
02248  AF19  A5 65              LDA $65
02249  AF1B  E9 A0              SBC #$A0
02250  AF1D  90 08              BCC XXAF27
02251  AF1F  A9 A2              LDA #$A2
02252  AF21  E5 64              SBC $64
02253  AF23  A9 E3              LDA #$E3
02254  AF25  E5 65              SBC $65
02255  AF27  60          XXAF27 RTS 
02256  AF28              ;********************************
02257  AF28              ;
02258  AF28              ;********************************
02259  AF28  20 8B B0    XXAF28 JSR XXB08B
02260  AF2B  85 64              STA $64
02261  AF2D  84 65              STY $65
02262  AF2F  A6 45              LDX $45
02263  AF31  A4 46              LDY $46
02264  AF33  A5 0D              LDA $0D
02265  AF35  F0 26              BEQ XXAF5D
02266  AF37  A9 00              LDA #$00
02267  AF39  85 70              STA $70
02268  AF3B  20 14 AF           JSR XXAF14
02269  AF3E  90 1C              BCC XXAF5C
02270  AF40  E0 54              CPX #$54        ;'T'
02271  AF42  D0 18              BNE XXAF5C
02272  AF44  C0 C9              CPY #$C9
02273  AF46  D0 14              BNE XXAF5C
02274  AF48  20 84 AF           JSR XXAF84
02275  AF4B  84 5E              STY $5E
02276  AF4D  88                 DEY 
02277  AF4E  84 71              STY $71
02278  AF50  A0 06              LDY #$06
02279  AF52  84 5D              STY $5D
02280  AF54  A0 24              LDY #$24        ;'$'
02281  AF56  20 68 BE           JSR XXBE68
02282  AF59  4C 6F B4           JMP XXB46F
02283  AF5C              ;********************************
02284  AF5C              ;
02285  AF5C              ;********************************
02286  AF5C  60          XXAF5C RTS 
02287  AF5D              ;********************************
02288  AF5D              ;
02289  AF5D              ;********************************
02290  AF5D  24 0E       XXAF5D BIT $0E
02291  AF5F  10 0D              BPL XXAF6E
02292  AF61  A0 00              LDY #$00
02293  AF63  B1 64              LDA ($64),Y
02294  AF65  AA                 TAX 
02295  AF66  C8                 INY 
02296  AF67  B1 64              LDA ($64),Y






BASICV2A.ASM......PAGE 0046

LINE# LOC   CODE        LINE


02297  AF69  A8                 TAY 
02298  AF6A  8A                 TXA 
02299  AF6B  4C 91 B3           JMP XXB391
02300  AF6E              ;********************************
02301  AF6E              ;
02302  AF6E              ;********************************
02303  AF6E  20 14 AF    XXAF6E JSR XXAF14
02304  AF71  90 2D              BCC XXAFA0
02305  AF73  E0 54              CPX #$54        ;'T'
02306  AF75  D0 1B              BNE XXAF92
02307  AF77  C0 49              CPY #$49        ;'I'
02308  AF79  D0 25              BNE XXAFA0
02309  AF7B  20 84 AF           JSR XXAF84
02310  AF7E  98                 TYA 
02311  AF7F  A2 A0              LDX #$A0
02312  AF81  4C 4F BC           JMP XXBC4F
02313  AF84              ;********************************
02314  AF84              ;
02315  AF84              ;********************************
02316  AF84  20 DE FF    XXAF84 JSR $FFDE
02317  AF87  86 64              STX $64
02318  AF89  84 63              STY $63
02319  AF8B  85 65              STA $65
02320  AF8D  A0 00              LDY #$00
02321  AF8F  84 62              STY $62
02322  AF91  60                 RTS 
02323  AF92              ;********************************
02324  AF92              ;
02325  AF92              ;********************************
02326  AF92  E0 53       XXAF92 CPX #$53        ;'S'
02327  AF94  D0 0A              BNE XXAFA0
02328  AF96  C0 54              CPY #$54        ;'T'
02329  AF98  D0 06              BNE XXAFA0
02330  AF9A  20 B7 FF           JSR $FFB7
02331  AF9D  4C 3C BC           JMP XXBC3C
02332  AFA0              ;********************************
02333  AFA0              ;
02334  AFA0              ;********************************
02335  AFA0  A5 64       XXAFA0 LDA $64
02336  AFA2  A4 65              LDY $65
02337  AFA4  4C A2 BB           JMP XXBBA2
02338  AFA7              ;********************************
02339  AFA7              ;
02340  AFA7              ;********************************
02341  AFA7  0A          XXAFA7 ASL A
02342  AFA8  48                 PHA 
02343  AFA9  AA                 TAX 
02344  AFAA  20 73 00           JSR $0073
02345  AFAD  E0 8F              CPX #$8F
02346  AFAF  90 20              BCC XXAFD1
02347  AFB1  20 FA AE           JSR XXAEFA
02348  AFB4  20 9E AD           JSR XXAD9E
02349  AFB7  20 FD AE           JSR XXAEFD
02350  AFBA  20 8F AD           JSR XXAD8F
02351  AFBD  68                 PLA 






BASICV2A.ASM......PAGE 0047

LINE# LOC   CODE        LINE


02352  AFBE  AA                 TAX 
02353  AFBF  A5 65              LDA $65
02354  AFC1  48                 PHA 
02355  AFC2  A5 64              LDA $64
02356  AFC4  48                 PHA 
02357  AFC5  8A                 TXA 
02358  AFC6  48                 PHA 
02359  AFC7  20 9E B7           JSR XXB79E
02360  AFCA  68                 PLA 
02361  AFCB  A8                 TAY 
02362  AFCC  8A                 TXA 
02363  AFCD  48                 PHA 
02364  AFCE  4C D6 AF           JMP XXAFD6
02365  AFD1              ;********************************
02366  AFD1              ;
02367  AFD1              ;********************************
02368  AFD1  20 F1 AE    XXAFD1 JSR XXAEF1
02369  AFD4  68                 PLA 
02370  AFD5  A8                 TAY 
02371  AFD6  B9 EA 9F    XXAFD6 LDA $9FEA,Y
02372  AFD9  85 55              STA $55
02373  AFDB  B9 EB 9F           LDA $9FEB,Y
02374  AFDE  85 56              STA $56
02375  AFE0  20 54 00           JSR $0054
02376  AFE3  4C 8D AD           JMP XXAD8D
02377  AFE6              ;********************************
02378  AFE6              ; OR OPERATOR
02379  AFE6              ;********************************
02380  AFE6  A0 FF       ZZAFE6 LDY #$FF
02381  AFE8              ;********************************
02382  AFE8  2C                 .BYTE $2C
02383  AFE9              ;********************************
02384  AFE9              ; AND OPERATOR
02385  AFE9              ;********************************
02386  AFE9  A0 00       ZZAFE9 LDY #$00
02387  AFEB  84 0B              STY $0B
02388  AFED  20 BF B1           JSR XXB1BF
02389  AFF0  A5 64              LDA $64
02390  AFF2  45 0B              EOR $0B
02391  AFF4  85 07              STA $07
02392  AFF6  A5 65              LDA $65
02393  AFF8  45 0B              EOR $0B
02394  AFFA  85 08              STA $08
02395  AFFC  20 FC BB           JSR XXBBFC
02396  AFFF  20 BF B1           JSR XXB1BF
02397  B002  A5 65              LDA $65
02398  B004  45 0B              EOR $0B
02399  B006  25 08              AND $08
02400  B008  45 0B              EOR $0B
02401  B00A  A8                 TAY 
02402  B00B  A5 64              LDA $64
02403  B00D  45 0B              EOR $0B
02404  B00F  25 07              AND $07
02405  B011  45 0B              EOR $0B
02406  B013  4C 91 B3           JMP XXB391






BASICV2A.ASM......PAGE 0048

LINE# LOC   CODE        LINE


02407  B016              ;********************************
02408  B016              ;
02409  B016              ;********************************
02410  B016  20 90 AD           JSR XXAD90
02411  B019  B0 13              BCS XXB02E
02412  B01B  A5 6E              LDA $6E
02413  B01D  09 7F              ORA #$7F
02414  B01F  25 6A              AND $6A
02415  B021  85 6A              STA $6A
02416  B023  A9 69              LDA #$69
02417  B025  A0 00              LDY #$00
02418  B027  20 5B BC           JSR XXBC5B
02419  B02A  AA                 TAX 
02420  B02B  4C 61 B0           JMP XXB061
02421  B02E              ;********************************
02422  B02E              ;
02423  B02E              ;********************************
02424  B02E  A9 00       XXB02E LDA #$00
02425  B030  85 0D              STA $0D
02426  B032  C6 4D              DEC $4D
02427  B034  20 A6 B6           JSR XXB6A6
02428  B037  85 61              STA $61
02429  B039  86 62              STX $62
02430  B03B  84 63              STY $63
02431  B03D  A5 6C              LDA $6C
02432  B03F  A4 6D              LDY $6D
02433  B041  20 AA B6           JSR XXB6AA
02434  B044  86 6C              STX $6C
02435  B046  84 6D              STY $6D
02436  B048  AA                 TAX 
02437  B049  38                 SEC 
02438  B04A  E5 61              SBC $61
02439  B04C  F0 08              BEQ XXB056
02440  B04E  A9 01              LDA #$01
02441  B050  90 04              BCC XXB056
02442  B052  A6 61              LDX $61
02443  B054  A9 FF              LDA #$FF
02444  B056  85 66       XXB056 STA $66
02445  B058  A0 FF              LDY #$FF
02446  B05A  E8                 INX 
02447  B05B  C8          XXB05B INY 
02448  B05C  CA                 DEX 
02449  B05D  D0 07              BNE XXB066
02450  B05F  A6 66              LDX $66
02451  B061  30 0F       XXB061 BMI XXB072
02452  B063  18                 CLC 
02453  B064  90 0C              BCC XXB072
02454  B066  B1 6C       XXB066 LDA ($6C),Y
02455  B068  D1 62              CMP ($62),Y
02456  B06A  F0 EF              BEQ XXB05B
02457  B06C  A2 FF              LDX #$FF
02458  B06E  B0 02              BCS XXB072
02459  B070  A2 01              LDX #$01
02460  B072  E8          XXB072 INX 
02461  B073  8A                 TXA 






BASICV2A.ASM......PAGE 0049

LINE# LOC   CODE        LINE


02462  B074  2A                 ROL A
02463  B075  25 12              AND $12
02464  B077  F0 02              BEQ XXB07B
02465  B079  A9 FF              LDA #$FF
02466  B07B  4C 3C BC    XXB07B JMP XXBC3C
02467  B07E              ;********************************
02468  B07E              ;
02469  B07E              ;********************************
02470  B07E  20 FD AE    XXB07E JSR XXAEFD
02471  B081              ;********************************
02472  B081              ; DIM COMMAND
02473  B081              ;********************************
02474  B081  AA          ZZB081 TAX 
02475  B082  20 90 B0           JSR XXB090
02476  B085  20 79 00           JSR $0079
02477  B088  D0 F4              BNE XXB07E
02478  B08A  60                 RTS 
02479  B08B              ;********************************
02480  B08B              ; GET NAME AND POINTER TO A VARIABLE
02481  B08B              ;********************************
02482  B08B  A2 00       XXB08B LDX #$00
02483  B08D  20 79 00           JSR $0079
02484  B090  86 0C       XXB090 STX $0C
02485  B092  85 45       XXB092 STA $45
02486  B094  20 79 00           JSR $0079
02487  B097  20 13 B1           JSR XXB113
02488  B09A  B0 03              BCS XXB09F
02489  B09C  4C 08 AF    XXB09C JMP XXAF08
02490  B09F              ;********************************
02491  B09F              ;
02492  B09F              ;********************************
02493  B09F  A2 00       XXB09F LDX #$00
02494  B0A1  86 0D              STX $0D
02495  B0A3  86 0E              STX $0E
02496  B0A5  20 73 00           JSR $0073
02497  B0A8  90 05              BCC XXB0AF
02498  B0AA  20 13 B1           JSR XXB113
02499  B0AD  90 0B              BCC XXB0BA
02500  B0AF  AA          XXB0AF TAX 
02501  B0B0  20 73 00    XXB0B0 JSR $0073
02502  B0B3  90 FB              BCC XXB0B0
02503  B0B5  20 13 B1           JSR XXB113
02504  B0B8  B0 F6              BCS XXB0B0
02505  B0BA  C9 24       XXB0BA CMP #$24        ;'$'
02506  B0BC  D0 06              BNE XXB0C4
02507  B0BE  A9 FF              LDA #$FF
02508  B0C0  85 0D              STA $0D
02509  B0C2  D0 10              BNE XXB0D4
02510  B0C4  C9 25       XXB0C4 CMP #$25        ;'%'
02511  B0C6  D0 13              BNE XXB0DB
02512  B0C8  A5 10              LDA $10
02513  B0CA  D0 D0              BNE XXB09C
02514  B0CC  A9 80              LDA #$80
02515  B0CE  85 0E              STA $0E
02516  B0D0  05 45              ORA $45






BASICV2A.ASM......PAGE 0050

LINE# LOC   CODE        LINE


02517  B0D2  85 45              STA $45
02518  B0D4  8A          XXB0D4 TXA 
02519  B0D5  09 80              ORA #$80
02520  B0D7  AA                 TAX 
02521  B0D8  20 73 00           JSR $0073
02522  B0DB  86 46       XXB0DB STX $46
02523  B0DD  38                 SEC 
02524  B0DE  05 10              ORA $10
02525  B0E0  E9 28              SBC #$28        ;'('
02526  B0E2  D0 03              BNE XXB0E7
02527  B0E4  4C D1 B1           JMP XXB1D1
02528  B0E7              ;********************************
02529  B0E7              ;
02530  B0E7              ;********************************
02531  B0E7  A0 00       XXB0E7 LDY #$00
02532  B0E9  84 10              STY $10
02533  B0EB  A5 2D              LDA VARTAB
02534  B0ED  A6 2E              LDX VARTAB+1
02535  B0EF  86 60       XXB0EF STX $60
02536  B0F1  85 5F       XXB0F1 STA $5F
02537  B0F3  E4 30              CPX ARYTAB+1
02538  B0F5  D0 04              BNE XXB0FB
02539  B0F7  C5 2F              CMP ARYTAB
02540  B0F9  F0 22              BEQ XXB11D
02541  B0FB  A5 45       XXB0FB LDA $45
02542  B0FD  D1 5F              CMP ($5F),Y
02543  B0FF  D0 08              BNE XXB109
02544  B101  A5 46              LDA $46
02545  B103  C8                 INY 
02546  B104  D1 5F              CMP ($5F),Y
02547  B106  F0 7D              BEQ XXB185
02548  B108  88                 DEY 
02549  B109  18          XXB109 CLC 
02550  B10A  A5 5F              LDA $5F
02551  B10C  69 07              ADC #$07
02552  B10E  90 E1              BCC XXB0F1
02553  B110  E8                 INX 
02554  B111  D0 DC              BNE XXB0EF
02555  B113              ;********************************
02556  B113              ; CHECK CHARACTER IN A
02557  B113              ; C=1 IF ALPHABETIC, C=0 IF NOT
02558  B113              ;********************************
02559  B113  C9 41       XXB113 CMP #$41        ;'A'
02560  B115  90 05              BCC XXB11C
02561  B117  E9 5B              SBC #$5B        ;'['
02562  B119  38                 SEC 
02563  B11A  E9 A5              SBC #$A5
02564  B11C  60          XXB11C RTS 
02565  B11D              ;********************************
02566  B11D              ; VARIABLE NOT FOUND
02567  B11D              ;********************************
02568  B11D  68          XXB11D PLA 
02569  B11E  48                 PHA 
02570  B11F  C9 2A              CMP #$2A        ;'*'
02571  B121  D0 05              BNE XXB128






BASICV2A.ASM......PAGE 0051

LINE# LOC   CODE        LINE


02572  B123  A9 13       XXB123 LDA #$13
02573  B125  A0 BF              LDY #$BF
02574  B127  60                 RTS 
02575  B128              ;********************************
02576  B128              ;
02577  B128              ;********************************
02578  B128  A5 45       XXB128 LDA $45
02579  B12A  A4 46              LDY $46
02580  B12C  C9 54              CMP #$54        ;'T'
02581  B12E  D0 0B              BNE XXB13B
02582  B130  C0 C9              CPY #$C9
02583  B132  F0 EF              BEQ XXB123
02584  B134  C0 49              CPY #$49        ;'I'
02585  B136  D0 03              BNE XXB13B
02586  B138  4C 08 AF    XXB138 JMP XXAF08
02587  B13B              ;********************************
02588  B13B              ;
02589  B13B              ;********************************
02590  B13B  C9 53       XXB13B CMP #$53        ;'S'
02591  B13D  D0 04              BNE XXB143
02592  B13F  C0 54              CPY #$54        ;'T'
02593  B141  F0 F5              BEQ XXB138
02594  B143  A5 2F       XXB143 LDA ARYTAB
02595  B145  A4 30              LDY ARYTAB+1
02596  B147  85 5F              STA $5F
02597  B149  84 60              STY $60
02598  B14B  A5 31              LDA STREND
02599  B14D  A4 32              LDY STREND+1
02600  B14F  85 5A              STA $5A
02601  B151  84 5B              STY $5B
02602  B153  18                 CLC 
02603  B154  69 07              ADC #$07
02604  B156  90 01              BCC XXB159
02605  B158  C8                 INY 
02606  B159  85 58       XXB159 STA $58
02607  B15B  84 59              STY $59
02608  B15D  20 B8 A3           JSR XXA3B8
02609  B160  A5 58              LDA $58
02610  B162  A4 59              LDY $59
02611  B164  C8                 INY 
02612  B165  85 2F              STA ARYTAB
02613  B167  84 30              STY ARYTAB+1
02614  B169  A0 00              LDY #$00
02615  B16B  A5 45              LDA $45
02616  B16D  91 5F              STA ($5F),Y
02617  B16F  C8                 INY 
02618  B170  A5 46              LDA $46
02619  B172  91 5F              STA ($5F),Y
02620  B174  A9 00              LDA #$00
02621  B176  C8                 INY 
02622  B177  91 5F              STA ($5F),Y
02623  B179  C8                 INY 
02624  B17A  91 5F              STA ($5F),Y
02625  B17C  C8                 INY 
02626  B17D  91 5F              STA ($5F),Y






BASICV2A.ASM......PAGE 0052

LINE# LOC   CODE        LINE


02627  B17F  C8                 INY 
02628  B180  91 5F              STA ($5F),Y
02629  B182  C8                 INY 
02630  B183  91 5F              STA ($5F),Y
02631  B185              ;********************************
02632  B185              ; VARIABLE FOUND
02633  B185              ;********************************
02634  B185  A5 5F       XXB185 LDA $5F
02635  B187  18                 CLC 
02636  B188  69 02              ADC #$02
02637  B18A  A4 60              LDY $60
02638  B18C  90 01              BCC XXB18F
02639  B18E  C8                 INY 
02640  B18F  85 47       XXB18F STA $47
02641  B191  84 48              STY $48
02642  B193  60                 RTS 
02643  B194              ;********************************
02644  B194              ; COMPUTE POINTER TO ARRAY BODY
02645  B194              ;********************************
02646  B194  A5 0B       XXB194 LDA $0B
02647  B196  0A                 ASL A
02648  B197  69 05              ADC #$05
02649  B199  65 5F              ADC $5F
02650  B19B  A4 60              LDY $60
02651  B19D  90 01              BCC XXB1A0
02652  B19F  C8                 INY 
02653  B1A0  85 58       XXB1A0 STA $58
02654  B1A2  84 59              STY $59
02655  B1A4  60                 RTS 
02656  B1A5              ;********************************
02657  B1A5              ; ; FLOAT NUMBER FOR CONVERSION TO INTEGER
02658  B1A5              ;********************************
02659  B1A5  90          WWB1A5 .BYTE $90
02660  B1A6  80                 .BYTE $80
02661  B1A7  00                 .BYTE $00
02662  B1A8  00                 .BYTE $00
02663  B1A9  00                 .BYTE $00
02664  B1AA              ;********************************
02665  B1AA              ; ROUTINE TO CONVERT FLOAT TO FIXED POINT
02666  B1AA              ;********************************
02667  B1AA  20 BF B1    ZZB1AA JSR XXB1BF
02668  B1AD  A5 64              LDA $64
02669  B1AF  A4 65              LDY $65
02670  B1B1  60                 RTS 
02671  B1B2              ;********************************
02672  B1B2              ; CONVERT VALUE FROM STATEMENT TO INTEGER
02673  B1B2              ;********************************
02674  B1B2  20 73 00    XXB1B2 JSR $0073
02675  B1B5  20 9E AD           JSR XXAD9E
02676  B1B8  20 8D AD    XXB1B8 JSR XXAD8D
02677  B1BB  A5 66              LDA $66
02678  B1BD  30 0D              BMI XXB1CC
02679  B1BF              ;********************************
02680  B1BF              ; CONVERT FLOAT NUMBER TO INTEGER
02681  B1BF              ;********************************






BASICV2A.ASM......PAGE 0053

LINE# LOC   CODE        LINE


02682  B1BF  A5 61       XXB1BF LDA $61
02683  B1C1  C9 90              CMP #$90
02684  B1C3  90 09              BCC XXB1CE
02685  B1C5  A9 A5              LDA #$A5
02686  B1C7  A0 B1              LDY #$B1
02687  B1C9  20 5B BC           JSR XXBC5B
02688  B1CC  D0 7A       XXB1CC BNE XXB248
02689  B1CE  4C 9B BC    XXB1CE JMP XXBC9B
02690  B1D1              ;********************************
02691  B1D1              ; GET POINTER TO DIMENSIONED VARIABLE
02692  B1D1              ;********************************
02693  B1D1  A5 0C       XXB1D1 LDA $0C
02694  B1D3  05 0E              ORA $0E
02695  B1D5  48                 PHA 
02696  B1D6  A5 0D              LDA $0D
02697  B1D8  48                 PHA 
02698  B1D9  A0 00              LDY #$00
02699  B1DB  98          XXB1DB TYA 
02700  B1DC  48                 PHA 
02701  B1DD  A5 46              LDA $46
02702  B1DF  48                 PHA 
02703  B1E0  A5 45              LDA $45
02704  B1E2  48                 PHA 
02705  B1E3  20 B2 B1           JSR XXB1B2
02706  B1E6  68                 PLA 
02707  B1E7  85 45              STA $45
02708  B1E9  68                 PLA 
02709  B1EA  85 46              STA $46
02710  B1EC  68                 PLA 
02711  B1ED  A8                 TAY 
02712  B1EE  BA                 TSX 
02713  B1EF  BD 02 01           LDA STACK+2,X
02714  B1F2  48                 PHA 
02715  B1F3  BD 01 01           LDA STACK+1,X
02716  B1F6  48                 PHA 
02717  B1F7  A5 64              LDA $64
02718  B1F9  9D 02 01           STA STACK+2,X
02719  B1FC  A5 65              LDA $65
02720  B1FE  9D 01 01           STA STACK+1,X
02721  B201  C8                 INY 
02722  B202  20 79 00           JSR $0079
02723  B205  C9 2C              CMP #$2C        ;','
02724  B207  F0 D2              BEQ XXB1DB
02725  B209  84 0B              STY $0B
02726  B20B  20 F7 AE           JSR XXAEF7
02727  B20E  68                 PLA 
02728  B20F  85 0D              STA $0D
02729  B211  68                 PLA 
02730  B212  85 0E              STA $0E
02731  B214  29 7F              AND #$7F
02732  B216  85 0C              STA $0C
02733  B218  A6 2F              LDX ARYTAB
02734  B21A  A5 30              LDA ARYTAB+1
02735  B21C  86 5F       XXB21C STX $5F
02736  B21E  85 60              STA $60






BASICV2A.ASM......PAGE 0054

LINE# LOC   CODE        LINE


02737  B220  C5 32              CMP STREND+1
02738  B222  D0 04              BNE XXB228
02739  B224  E4 31              CPX STREND
02740  B226  F0 39              BEQ XXB261
02741  B228  A0 00       XXB228 LDY #$00
02742  B22A  B1 5F              LDA ($5F),Y
02743  B22C  C8                 INY 
02744  B22D  C5 45              CMP $45
02745  B22F  D0 06              BNE XXB237
02746  B231  A5 46              LDA $46
02747  B233  D1 5F              CMP ($5F),Y
02748  B235  F0 16              BEQ XXB24D
02749  B237  C8          XXB237 INY 
02750  B238  B1 5F              LDA ($5F),Y
02751  B23A  18                 CLC 
02752  B23B  65 5F              ADC $5F
02753  B23D  AA                 TAX 
02754  B23E  C8                 INY 
02755  B23F  B1 5F              LDA ($5F),Y
02756  B241  65 60              ADC $60
02757  B243  90 D7              BCC XXB21C
02758  B245  A2 12       XXB245 LDX #$12        ; ERROR NUMBER
02759  B247              ;********************************
02760  B247  2C                 .BYTE $2C
02761  B248              ;********************************
02762  B248  A2 0E       XXB248 LDX #$0E        ; ERROR NUMBER
02763  B24A  4C 37 A4    XXB24A JMP XXA437
02764  B24D              ;********************************
02765  B24D              ;
02766  B24D              ;********************************
02767  B24D  A2 13       XXB24D LDX #$13        ; ERROR NUMBER
02768  B24F  A5 0C              LDA $0C
02769  B251  D0 F7              BNE XXB24A
02770  B253  20 94 B1           JSR XXB194
02771  B256  A5 0B              LDA $0B
02772  B258  A0 04              LDY #$04
02773  B25A  D1 5F              CMP ($5F),Y
02774  B25C  D0 E7              BNE XXB245
02775  B25E  4C EA B2           JMP XXB2EA
02776  B261              ;********************************
02777  B261              ; ALLOCATE ARRAY
02778  B261              ;********************************
02779  B261  20 94 B1    XXB261 JSR XXB194
02780  B264  20 08 A4           JSR XXA408
02781  B267  A0 00              LDY #$00
02782  B269  84 72              STY $72
02783  B26B  A2 05              LDX #$05
02784  B26D  A5 45              LDA $45
02785  B26F  91 5F              STA ($5F),Y
02786  B271  10 01              BPL XXB274
02787  B273  CA                 DEX 
02788  B274  C8          XXB274 INY 
02789  B275  A5 46              LDA $46
02790  B277  91 5F              STA ($5F),Y
02791  B279  10 02              BPL XXB27D






BASICV2A.ASM......PAGE 0055

LINE# LOC   CODE        LINE


02792  B27B  CA                 DEX 
02793  B27C  CA                 DEX 
02794  B27D  86 71       XXB27D STX $71
02795  B27F  A5 0B              LDA $0B
02796  B281  C8                 INY 
02797  B282  C8                 INY 
02798  B283  C8                 INY 
02799  B284  91 5F              STA ($5F),Y
02800  B286  A2 0B       XXB286 LDX #$0B
02801  B288  A9 00              LDA #$00
02802  B28A  24 0C              BIT $0C
02803  B28C  50 08              BVC XXB296
02804  B28E  68                 PLA 
02805  B28F  18                 CLC 
02806  B290  69 01              ADC #$01
02807  B292  AA                 TAX 
02808  B293  68                 PLA 
02809  B294  69 00              ADC #$00
02810  B296  C8          XXB296 INY 
02811  B297  91 5F              STA ($5F),Y
02812  B299  C8                 INY 
02813  B29A  8A                 TXA 
02814  B29B  91 5F              STA ($5F),Y
02815  B29D  20 4C B3           JSR XXB34C
02816  B2A0  86 71              STX $71
02817  B2A2  85 72              STA $72
02818  B2A4  A4 22              LDY INDEX
02819  B2A6  C6 0B              DEC $0B
02820  B2A8  D0 DC              BNE XXB286
02821  B2AA  65 59              ADC $59
02822  B2AC  B0 5D              BCS XXB30B
02823  B2AE  85 59              STA $59
02824  B2B0  A8                 TAY 
02825  B2B1  8A                 TXA 
02826  B2B2  65 58              ADC $58
02827  B2B4  90 03              BCC XXB2B9
02828  B2B6  C8                 INY 
02829  B2B7  F0 52              BEQ XXB30B
02830  B2B9  20 08 A4    XXB2B9 JSR XXA408
02831  B2BC  85 31              STA STREND
02832  B2BE  84 32              STY STREND+1
02833  B2C0  A9 00              LDA #$00
02834  B2C2  E6 72              INC $72
02835  B2C4  A4 71              LDY $71
02836  B2C6  F0 05              BEQ XXB2CD
02837  B2C8  88          XXB2C8 DEY 
02838  B2C9  91 58              STA ($58),Y
02839  B2CB  D0 FB              BNE XXB2C8
02840  B2CD  C6 59       XXB2CD DEC $59
02841  B2CF  C6 72              DEC $72
02842  B2D1  D0 F5              BNE XXB2C8
02843  B2D3  E6 59              INC $59
02844  B2D5  38                 SEC 
02845  B2D6  A5 31              LDA STREND
02846  B2D8  E5 5F              SBC $5F






BASICV2A.ASM......PAGE 0056

LINE# LOC   CODE        LINE


02847  B2DA  A0 02              LDY #$02
02848  B2DC  91 5F              STA ($5F),Y
02849  B2DE  A5 32              LDA STREND+1
02850  B2E0  C8                 INY 
02851  B2E1  E5 60              SBC $60
02852  B2E3  91 5F              STA ($5F),Y
02853  B2E5  A5 0C              LDA $0C
02854  B2E7  D0 62              BNE XXB34B
02855  B2E9  C8                 INY
02856  B2EA              ;********************************
02857  B2EA              ; COMPUTE REFERENCE TO ARRAY ELEMENT
02858  B2EA              ;********************************
02859  B2EA  B1 5F       XXB2EA LDA ($5F),Y
02860  B2EC  85 0B              STA $0B
02861  B2EE  A9 00              LDA #$00
02862  B2F0  85 71              STA $71
02863  B2F2  85 72       XXB2F2 STA $72
02864  B2F4  C8                 INY 
02865  B2F5  68                 PLA 
02866  B2F6  AA                 TAX 
02867  B2F7  85 64              STA $64
02868  B2F9  68                 PLA 
02869  B2FA  85 65              STA $65
02870  B2FC  D1 5F              CMP ($5F),Y
02871  B2FE  90 0E              BCC XXB30E
02872  B300  D0 06              BNE XXB308
02873  B302  C8                 INY 
02874  B303  8A                 TXA 
02875  B304  D1 5F              CMP ($5F),Y
02876  B306  90 07              BCC XXB30F
02877  B308  4C 45 B2    XXB308 JMP XXB245
02878  B30B              ;********************************
02879  B30B              ;
02880  B30B              ;********************************
02881  B30B  4C 35 A4    XXB30B JMP XXA435
02882  B30E              ;********************************
02883  B30E              ;
02884  B30E              ;********************************
02885  B30E  C8          XXB30E INY 
02886  B30F  A5 72       XXB30F LDA $72
02887  B311  05 71              ORA $71
02888  B313  18                 CLC 
02889  B314  F0 0A              BEQ XXB320
02890  B316  20 4C B3           JSR XXB34C
02891  B319  8A                 TXA 
02892  B31A  65 64              ADC $64
02893  B31C  AA                 TAX 
02894  B31D  98                 TYA 
02895  B31E  A4 22              LDY INDEX
02896  B320  65 65       XXB320 ADC $65
02897  B322  86 71              STX $71
02898  B324  C6 0B              DEC $0B
02899  B326  D0 CA              BNE XXB2F2
02900  B328  85 72              STA $72
02901  B32A  A2 05              LDX #$05






BASICV2A.ASM......PAGE 0057

LINE# LOC   CODE        LINE


02902  B32C  A5 45              LDA $45
02903  B32E  10 01              BPL XXB331
02904  B330  CA                 DEX 
02905  B331  A5 46       XXB331 LDA $46
02906  B333  10 02              BPL XXB337
02907  B335  CA                 DEX 
02908  B336  CA                 DEX 
02909  B337  86 28       XXB337 STX RESHO+2
02910  B339  A9 00              LDA #$00
02911  B33B  20 55 B3           JSR XXB355
02912  B33E  8A                 TXA 
02913  B33F  65 58              ADC $58
02914  B341  85 47              STA $47
02915  B343  98                 TYA 
02916  B344  65 59              ADC $59
02917  B346  85 48              STA $48
02918  B348  A8                 TAY 
02919  B349  A5 47              LDA $47
02920  B34B  60          XXB34B RTS 
02921  B34C              ;********************************
02922  B34C              ; XY = XA = LENGTH * LIMIT FROM ARRAY DATA
02923  B34C              ;********************************
02924  B34C  84 22       XXB34C STY INDEX
02925  B34E  B1 5F              LDA ($5F),Y
02926  B350  85 28              STA RESHO+2
02927  B352  88                 DEY 
02928  B353  B1 5F              LDA ($5F),Y
02929  B355  85 29       XXB355 STA RESHO+3
02930  B357  A9 10              LDA #$10
02931  B359  85 5D              STA $5D
02932  B35B  A2 00              LDX #$00
02933  B35D  A0 00              LDY #$00
02934  B35F  8A          XXB35F TXA 
02935  B360  0A                 ASL A
02936  B361  AA                 TAX 
02937  B362  98                 TYA 
02938  B363  2A                 ROL A
02939  B364  A8                 TAY 
02940  B365  B0 A4              BCS XXB30B
02941  B367  06 71              ASL $71
02942  B369  26 72              ROL $72
02943  B36B  90 0B              BCC XXB378
02944  B36D  18                 CLC 
02945  B36E  8A                 TXA 
02946  B36F  65 28              ADC RESHO+2
02947  B371  AA                 TAX 
02948  B372  98                 TYA 
02949  B373  65 29              ADC RESHO+3
02950  B375  A8                 TAY 
02951  B376  B0 93              BCS XXB30B
02952  B378  C6 5D       XXB378 DEC $5D
02953  B37A  D0 E3              BNE XXB35F
02954  B37C  60                 RTS 
02955  B37D              ;********************************
02956  B37D              ; FRE FUNCTION






BASICV2A.ASM......PAGE 0058

LINE# LOC   CODE        LINE


02957  B37D              ;********************************
02958  B37D  A5 0D       XXB37D LDA $0D
02959  B37F  F0 03              BEQ XXB384
02960  B381  20 A6 B6           JSR XXB6A6
02961  B384  20 26 B5    XXB384 JSR XXB526
02962  B387  38                 SEC 
02963  B388  A5 33              LDA FRETOP
02964  B38A  E5 31              SBC STREND
02965  B38C  A8                 TAY 
02966  B38D  A5 34              LDA FRETOP+1
02967  B38F  E5 32              SBC STREND+1
02968  B391              ;********************************
02969  B391              ; ROUTINE TO CONVERT INTEGER TO FLOAT
02970  B391              ;********************************
02971  B391  A2 00       XXB391 LDX #$00
02972  B393  86 0D              STX $0D
02973  B395  85 62              STA $62
02974  B397  84 63              STY $63
02975  B399  A2 90              LDX #$90
02976  B39B  4C 44 BC           JMP XXBC44
02977  B39E              ;********************************
02978  B39E              ; POS FUNCTION
02979  B39E              ;********************************
02980  B39E  38          XXB39E SEC 
02981  B39F  20 F0 FF           JSR $FFF0
02982  B3A2  A9 00       XXB3A2 LDA #$00
02983  B3A4  F0 EB              BEQ XXB391
02984  B3A6              ;********************************
02985  B3A6              ; CHECK FOR NON-DIRECT MODE
02986  B3A6              ;********************************
02987  B3A6  A6 3A       XXB3A6 LDX CURLIN+1
02988  B3A8  E8                 INX 
02989  B3A9  D0 A0              BNE XXB34B
02990  B3AB  A2 15              LDX #$15        ; ERROR NUMBER
02991  B3AD              ;********************************
02992  B3AD  2C                 .BYTE $2C
02993  B3AE              ;********************************
02994  B3AE  A2 1B       XXB3AE LDX #$1B        ; ERROR NUMBER
02995  B3B0  4C 37 A4           JMP XXA437
02996  B3B3              ;********************************
02997  B3B3              ; DEF COMMAND
02998  B3B3              ;********************************
02999  B3B3  20 E1 B3    ZZB3B3 JSR XXB3E1
03000  B3B6  20 A6 B3           JSR XXB3A6
03001  B3B9  20 FA AE           JSR XXAEFA
03002  B3BC  A9 80              LDA #$80
03003  B3BE  85 10              STA $10
03004  B3C0  20 8B B0           JSR XXB08B
03005  B3C3  20 8D AD           JSR XXAD8D
03006  B3C6  20 F7 AE           JSR XXAEF7
03007  B3C9  A9 B2              LDA #$B2
03008  B3CB  20 FF AE           JSR XXAEFF
03009  B3CE  48                 PHA 
03010  B3CF  A5 48              LDA $48
03011  B3D1  48                 PHA 






BASICV2A.ASM......PAGE 0059

LINE# LOC   CODE        LINE


03012  B3D2  A5 47              LDA $47
03013  B3D4  48                 PHA 
03014  B3D5  A5 7B              LDA $7B
03015  B3D7  48                 PHA 
03016  B3D8  A5 7A              LDA $7A
03017  B3DA  48                 PHA 
03018  B3DB  20 F8 A8           JSR XXA8F8
03019  B3DE  4C 4F B4           JMP XXB44F
03020  B3E1              ;********************************
03021  B3E1              ; GET FUNCTION NAME
03022  B3E1              ;********************************
03023  B3E1  A9 A5       XXB3E1 LDA #$A5
03024  B3E3  20 FF AE           JSR XXAEFF
03025  B3E6  09 80              ORA #$80
03026  B3E8  85 10              STA $10
03027  B3EA  20 92 B0           JSR XXB092
03028  B3ED  85 4E              STA $4E
03029  B3EF  84 4F              STY $4F
03030  B3F1  4C 8D AD           JMP XXAD8D
03031  B3F4              ;********************************
03032  B3F4              ; EXPAND FN CALL
03033  B3F4              ;********************************
03034  B3F4  20 E1 B3    XXB3F4 JSR XXB3E1
03035  B3F7  A5 4F              LDA $4F
03036  B3F9  48                 PHA 
03037  B3FA  A5 4E              LDA $4E
03038  B3FC  48                 PHA 
03039  B3FD  20 F1 AE           JSR XXAEF1
03040  B400  20 8D AD           JSR XXAD8D
03041  B403  68                 PLA 
03042  B404  85 4E              STA $4E
03043  B406  68                 PLA 
03044  B407  85 4F              STA $4F
03045  B409  A0 02              LDY #$02
03046  B40B  B1 4E              LDA ($4E),Y
03047  B40D  85 47              STA $47
03048  B40F  AA                 TAX 
03049  B410  C8                 INY 
03050  B411  B1 4E              LDA ($4E),Y
03051  B413  F0 99              BEQ XXB3AE
03052  B415  85 48              STA $48
03053  B417  C8                 INY 
03054  B418  B1 47       XXB418 LDA ($47),Y
03055  B41A  48                 PHA 
03056  B41B  88                 DEY 
03057  B41C  10 FA              BPL XXB418
03058  B41E  A4 48              LDY $48
03059  B420  20 D4 BB           JSR XXBBD4
03060  B423  A5 7B              LDA $7B
03061  B425  48                 PHA 
03062  B426  A5 7A              LDA $7A
03063  B428  48                 PHA 
03064  B429  B1 4E              LDA ($4E),Y
03065  B42B  85 7A              STA $7A
03066  B42D  C8                 INY 






BASICV2A.ASM......PAGE 0060

LINE# LOC   CODE        LINE


03067  B42E  B1 4E              LDA ($4E),Y
03068  B430  85 7B              STA $7B
03069  B432  A5 48              LDA $48
03070  B434  48                 PHA 
03071  B435  A5 47              LDA $47
03072  B437  48                 PHA 
03073  B438  20 8A AD           JSR XXAD8A
03074  B43B  68                 PLA 
03075  B43C  85 4E              STA $4E
03076  B43E  68                 PLA 
03077  B43F  85 4F              STA $4F
03078  B441  20 79 00           JSR $0079
03079  B444  F0 03              BEQ XXB449
03080  B446  4C 08 AF           JMP XXAF08
03081  B449              ;********************************
03082  B449              ;
03083  B449              ;********************************
03084  B449  68          XXB449 PLA 
03085  B44A  85 7A              STA $7A
03086  B44C  68                 PLA 
03087  B44D  85 7B              STA $7B
03088  B44F  A0 00       XXB44F LDY #$00
03089  B451  68                 PLA 
03090  B452  91 4E              STA ($4E),Y
03091  B454  68                 PLA 
03092  B455  C8                 INY 
03093  B456  91 4E              STA ($4E),Y
03094  B458  68                 PLA 
03095  B459  C8                 INY 
03096  B45A  91 4E              STA ($4E),Y
03097  B45C  68                 PLA 
03098  B45D  C8                 INY 
03099  B45E  91 4E              STA ($4E),Y
03100  B460  68                 PLA 
03101  B461  C8                 INY 
03102  B462  91 4E              STA ($4E),Y
03103  B464  60                 RTS 
03104  B465              ;********************************
03105  B465              ; STR$ FUNCTION
03106  B465              ;********************************
03107  B465  20 8D AD    XXB465 JSR XXAD8D
03108  B468  A0 00              LDY #$00
03109  B46A  20 DF BD           JSR XXBDDF
03110  B46D  68                 PLA 
03111  B46E  68                 PLA 
03112  B46F  A9 FF       XXB46F LDA #$FF
03113  B471  A0 00              LDY #$00
03114  B473  F0 12              BEQ XXB487
03115  B475  A6 64       XXB475 LDX $64
03116  B477  A4 65              LDY $65
03117  B479  86 50              STX $50
03118  B47B  84 51              STY $51
03119  B47D              ;********************************
03120  B47D              ; ALLOCATE AREA ACCORDING TO A
03121  B47D              ;********************************






BASICV2A.ASM......PAGE 0061

LINE# LOC   CODE        LINE


03122  B47D  20 F4 B4    XXB47D JSR XXB4F4
03123  B480  86 62              STX $62
03124  B482  84 63              STY $63
03125  B484  85 61              STA $61
03126  B486  60                 RTS 
03127  B487              ;********************************
03128  B487              ; GET DESCRIPTION OF STRING INTO FLOAT ACCU
03129  B487              ;********************************
03130  B487  A2 22       XXB487 LDX #$22        ;'"'
03131  B489  86 07              STX $07
03132  B48B  86 08              STX $08
03133  B48D  85 6F       XXB48D STA $6F
03134  B48F  84 70              STY $70
03135  B491  85 62              STA $62
03136  B493  84 63              STY $63
03137  B495  A0 FF              LDY #$FF
03138  B497  C8          XXB497 INY 
03139  B498  B1 6F              LDA ($6F),Y
03140  B49A  F0 0C              BEQ XXB4A8
03141  B49C  C5 07              CMP $07
03142  B49E  F0 04              BEQ XXB4A4
03143  B4A0  C5 08              CMP $08
03144  B4A2  D0 F3              BNE XXB497
03145  B4A4  C9 22       XXB4A4 CMP #$22        ;'"'
03146  B4A6  F0 01              BEQ XXB4A9
03147  B4A8  18          XXB4A8 CLC 
03148  B4A9  84 61       XXB4A9 STY $61
03149  B4AB  98                 TYA 
03150  B4AC  65 6F              ADC $6F
03151  B4AE  85 71              STA $71
03152  B4B0  A6 70              LDX $70
03153  B4B2  90 01              BCC XXB4B5
03154  B4B4  E8                 INX 
03155  B4B5  86 72       XXB4B5 STX $72
03156  B4B7  A5 70              LDA $70
03157  B4B9  F0 04              BEQ XXB4BF
03158  B4BB  C9 02              CMP #$02
03159  B4BD  D0 0B              BNE XXB4CA
03160  B4BF  98          XXB4BF TYA 
03161  B4C0  20 75 B4           JSR XXB475
03162  B4C3  A6 6F              LDX $6F
03163  B4C5  A4 70              LDY $70
03164  B4C7  20 88 B6           JSR XXB688
03165  B4CA              ;********************************
03166  B4CA              ; SAVE DESCRIPTOR FROM $61-$63 ON STACK
03167  B4CA              ;********************************
03168  B4CA  A6 16       XXB4CA LDX TEMPPT
03169  B4CC  E0 22              CPX #$22        ;'"'
03170  B4CE  D0 05              BNE XXB4D5
03171  B4D0  A2 19              LDX #$19
03172  B4D2  4C 37 A4    XXB4D2 JMP XXA437
03173  B4D5              ;********************************
03174  B4D5              ;
03175  B4D5              ;********************************
03176  B4D5  A5 61       XXB4D5 LDA $61






BASICV2A.ASM......PAGE 0062

LINE# LOC   CODE        LINE


03177  B4D7  95 00              STA $00,X
03178  B4D9  A5 62              LDA $62
03179  B4DB  95 01              STA $01,X
03180  B4DD  A5 63              LDA $63
03181  B4DF  95 02              STA $02,X
03182  B4E1  A0 00              LDY #$00
03183  B4E3  86 64              STX $64
03184  B4E5  84 65              STY $65
03185  B4E7  84 70              STY $70
03186  B4E9  88                 DEY 
03187  B4EA  84 0D              STY $0D
03188  B4EC  86 17              STX LASTPT
03189  B4EE  E8                 INX 
03190  B4EF  E8                 INX 
03191  B4F0  E8                 INX 
03192  B4F1  86 16              STX TEMPPT
03193  B4F3  60                 RTS 
03194  B4F4              ;********************************
03195  B4F4              ; ALLOCATE NUMBER OF BYTES IN A
03196  B4F4              ;********************************
03197  B4F4  46 0F       XXB4F4 LSR $0F
03198  B4F6  48          XXB4F6 PHA 
03199  B4F7  49 FF              EOR #$FF
03200  B4F9  38                 SEC 
03201  B4FA  65 33              ADC FRETOP
03202  B4FC  A4 34              LDY FRETOP+1
03203  B4FE  B0 01              BCS XXB501
03204  B500  88                 DEY 
03205  B501  C4 32       XXB501 CPY STREND+1
03206  B503  90 11              BCC XXB516
03207  B505  D0 04              BNE XXB50B
03208  B507  C5 31              CMP STREND
03209  B509  90 0B              BCC XXB516
03210  B50B  85 33       XXB50B STA FRETOP
03211  B50D  84 34              STY FRETOP+1
03212  B50F  85 35              STA FRESPC
03213  B511  84 36              STY FRESPC+1
03214  B513  AA                 TAX 
03215  B514  68                 PLA 
03216  B515  60                 RTS 
03217  B516              ;********************************
03218  B516              ;
03219  B516              ;********************************
03220  B516  A2 10       XXB516 LDX #$10
03221  B518  A5 0F              LDA $0F
03222  B51A  30 B6              BMI XXB4D2
03223  B51C  20 26 B5           JSR XXB526
03224  B51F  A9 80              LDA #$80
03225  B521  85 0F              STA $0F
03226  B523  68                 PLA 
03227  B524  D0 D0              BNE XXB4F6
03228  B526              ;********************************
03229  B526              ; STRING GARBAGE CLEAN UP
03230  B526              ;********************************
03231  B526  A6 37       XXB526 LDX MEMSIZ






BASICV2A.ASM......PAGE 0063

LINE# LOC   CODE        LINE


03232  B528  A5 38              LDA MEMSIZ+1
03233  B52A  86 33       XXB52A STX FRETOP
03234  B52C  85 34              STA FRETOP+1
03235  B52E  A0 00              LDY #$00
03236  B530  84 4F              STY $4F
03237  B532  84 4E              STY $4E
03238  B534  A5 31              LDA STREND
03239  B536  A6 32              LDX STREND+1
03240  B538  85 5F              STA $5F
03241  B53A  86 60              STX $60
03242  B53C  A9 19              LDA #$19        ; LOW  0019
03243  B53E  A2 00              LDX #$00        ; HIGH 0019
03244  B540  85 22              STA INDEX
03245  B542  86 23              STX INDEX+1
03246  B544  C5 16       XXB544 CMP TEMPPT
03247  B546  F0 05              BEQ XXB54D
03248  B548  20 C7 B5           JSR XXB5C7
03249  B54B  F0 F7              BEQ XXB544
03250  B54D  A9 07       XXB54D LDA #$07
03251  B54F  85 53              STA $53
03252  B551  A5 2D              LDA VARTAB
03253  B553  A6 2E              LDX VARTAB+1
03254  B555  85 22              STA INDEX
03255  B557  86 23              STX INDEX+1
03256  B559  E4 30       XXB559 CPX ARYTAB+1
03257  B55B  D0 04              BNE XXB561
03258  B55D  C5 2F              CMP ARYTAB
03259  B55F  F0 05              BEQ XXB566
03260  B561  20 BD B5    XXB561 JSR XXB5BD
03261  B564  F0 F3              BEQ XXB559
03262  B566  85 58       XXB566 STA $58
03263  B568  86 59              STX $59
03264  B56A  A9 03              LDA #$03
03265  B56C  85 53              STA $53
03266  B56E  A5 58       XXB56E LDA $58
03267  B570  A6 59              LDX $59
03268  B572  E4 32       XXB572 CPX STREND+1
03269  B574  D0 07              BNE XXB57D
03270  B576  C5 31              CMP STREND
03271  B578  D0 03              BNE XXB57D
03272  B57A  4C 06 B6           JMP XXB606
03273  B57D              ;********************************
03274  B57D              ;
03275  B57D              ;********************************
03276  B57D  85 22       XXB57D STA INDEX
03277  B57F  86 23              STX INDEX+1
03278  B581  A0 00              LDY #$00
03279  B583  B1 22              LDA (INDEX),Y
03280  B585  AA                 TAX 
03281  B586  C8                 INY 
03282  B587  B1 22              LDA (INDEX),Y
03283  B589  08                 PHP 
03284  B58A  C8                 INY 
03285  B58B  B1 22              LDA (INDEX),Y
03286  B58D  65 58              ADC $58






BASICV2A.ASM......PAGE 0064

LINE# LOC   CODE        LINE


03287  B58F  85 58              STA $58
03288  B591  C8                 INY 
03289  B592  B1 22              LDA (INDEX),Y
03290  B594  65 59              ADC $59
03291  B596  85 59              STA $59
03292  B598  28                 PLP 
03293  B599  10 D3              BPL XXB56E
03294  B59B  8A                 TXA 
03295  B59C  30 D0              BMI XXB56E
03296  B59E  C8                 INY 
03297  B59F  B1 22              LDA (INDEX),Y
03298  B5A1  A0 00              LDY #$00
03299  B5A3  0A                 ASL A
03300  B5A4  69 05              ADC #$05
03301  B5A6  65 22              ADC INDEX
03302  B5A8  85 22              STA INDEX
03303  B5AA  90 02              BCC XXB5AE
03304  B5AC  E6 23              INC INDEX+1
03305  B5AE  A6 23       XXB5AE LDX INDEX+1
03306  B5B0  E4 59       XXB5B0 CPX $59
03307  B5B2  D0 04              BNE XXB5B8
03308  B5B4  C5 58              CMP $58
03309  B5B6  F0 BA              BEQ XXB572
03310  B5B8  20 C7 B5    XXB5B8 JSR XXB5C7
03311  B5BB  F0 F3              BEQ XXB5B0
03312  B5BD              ;********************************
03313  B5BD              ; CHECK STRING AREA
03314  B5BD              ;********************************
03315  B5BD  B1 22              XXB5BD LDA (INDEX),Y
03316  B5BF  30 35              BMI XXB5F6
03317  B5C1  C8                 INY 
03318  B5C2  B1 22              LDA (INDEX),Y
03319  B5C4  10 30              BPL XXB5F6
03320  B5C6  C8                 INY 
03321  B5C7              ;********************************
03322  B5C7              ; CHECK STRING AREA
03323  B5C7              ;********************************
03324  B5C7  B1 22       XXB5C7 LDA (INDEX),Y
03325  B5C9  F0 2B              BEQ XXB5F6
03326  B5CB  C8                 INY 
03327  B5CC  B1 22              LDA (INDEX),Y
03328  B5CE  AA                 TAX 
03329  B5CF  C8                 INY 
03330  B5D0  B1 22              LDA (INDEX),Y
03331  B5D2  C5 34              CMP FRETOP+1
03332  B5D4  90 06              BCC XXB5DC
03333  B5D6  D0 1E              BNE XXB5F6
03334  B5D8  E4 33              CPX FRETOP
03335  B5DA  B0 1A              BCS XXB5F6
03336  B5DC  C5 60       XXB5DC CMP $60
03337  B5DE  90 16              BCC XXB5F6
03338  B5E0  D0 04              BNE XXB5E6
03339  B5E2  E4 5F              CPX $5F
03340  B5E4  90 10              BCC XXB5F6
03341  B5E6  86 5F       XXB5E6 STX $5F






BASICV2A.ASM......PAGE 0065

LINE# LOC   CODE        LINE


03342  B5E8  85 60              STA $60
03343  B5EA  A5 22              LDA INDEX
03344  B5EC  A6 23              LDX INDEX+1
03345  B5EE  85 4E              STA $4E
03346  B5F0  86 4F              STX $4F
03347  B5F2  A5 53              LDA $53
03348  B5F4  85 55              STA $55
03349  B5F6  A5 53       XXB5F6 LDA $53
03350  B5F8  18                 CLC 
03351  B5F9  65 22              ADC INDEX
03352  B5FB  85 22              STA INDEX
03353  B5FD  90 02              BCC XXB601
03354  B5FF  E6 23              INC INDEX+1
03355  B601  A6 23       XXB601 LDX INDEX+1
03356  B603  A0 00              LDY #$00
03357  B605  60                 RTS 
03358  B606              ;********************************
03359  B606              ; CONTINUATION OF GARBAGE CLEAN UP
03360  B606              ;********************************
03361  B606  A5 4F       XXB606 LDA $4F
03362  B608  05 4E              ORA $4E
03363  B60A  F0 F5              BEQ XXB601
03364  B60C  A5 55              LDA $55
03365  B60E  29 04              AND #$04
03366  B610  4A                 LSR A
03367  B611  A8                 TAY 
03368  B612  85 55              STA $55
03369  B614  B1 4E              LDA ($4E),Y
03370  B616  65 5F              ADC $5F
03371  B618  85 5A              STA $5A
03372  B61A  A5 60              LDA $60
03373  B61C  69 00              ADC #$00
03374  B61E  85 5B              STA $5B
03375  B620  A5 33              LDA FRETOP
03376  B622  A6 34              LDX FRETOP+1
03377  B624  85 58              STA $58
03378  B626  86 59              STX $59
03379  B628  20 BF A3           JSR XXA3BF
03380  B62B  A4 55              LDY $55
03381  B62D  C8                 INY 
03382  B62E  A5 58              LDA $58
03383  B630  91 4E              STA ($4E),Y
03384  B632  AA                 TAX 
03385  B633  E6 59              INC $59
03386  B635  A5 59              LDA $59
03387  B637  C8                 INY 
03388  B638  91 4E              STA ($4E),Y
03389  B63A  4C 2A B5           JMP XXB52A
03390  B63D              ;********************************
03391  B63D              ; JOINING STRINGS
03392  B63D              ;********************************
03393  B63D  A5 65       XXB63D LDA $65
03394  B63F  48                 PHA 
03395  B640  A5 64              LDA $64
03396  B642  48                 PHA 






BASICV2A.ASM......PAGE 0066

LINE# LOC   CODE        LINE


03397  B643  20 83 AE           JSR XXAE83
03398  B646  20 8F AD           JSR XXAD8F
03399  B649  68                 PLA 
03400  B64A  85 6F              STA $6F
03401  B64C  68                 PLA 
03402  B64D  85 70              STA $70
03403  B64F  A0 00              LDY #$00
03404  B651  B1 6F              LDA ($6F),Y
03405  B653  18                 CLC 
03406  B654  71 64              ADC ($64),Y
03407  B656  90 05              BCC XXB65D
03408  B658  A2 17              LDX #$17
03409  B65A  4C 37 A4           JMP XXA437
03410  B65D              ;********************************
03411  B65D              ;
03412  B65D              ;********************************
03413  B65D  20 75 B4    XXB65D JSR XXB475
03414  B660  20 7A B6           JSR XXB67A
03415  B663  A5 50              LDA $50
03416  B665  A4 51              LDY $51
03417  B667  20 AA B6           JSR XXB6AA
03418  B66A  20 8C B6           JSR XXB68C
03419  B66D  A5 6F              LDA $6F
03420  B66F  A4 70              LDY $70
03421  B671  20 AA B6           JSR XXB6AA
03422  B674  20 CA B4           JSR XXB4CA
03423  B677  4C B8 AD           JMP XXADB8
03424  B67A              ;********************************
03425  B67A              ; MOVE STRING
03426  B67A              ;********************************
03427  B67A  A0 00       XXB67A LDY #$00
03428  B67C  B1 6F              LDA ($6F),Y
03429  B67E  48                 PHA 
03430  B67F  C8                 INY 
03431  B680  B1 6F              LDA ($6F),Y
03432  B682  AA                 TAX 
03433  B683  C8                 INY 
03434  B684  B1 6F              LDA ($6F),Y
03435  B686  A8                 TAY 
03436  B687  68                 PLA 
03437  B688              ;********************************
03438  B688              ; MOVE STRING WITH LENGTH A, POINTER IN XY
03439  B688              ;********************************
03440  B688  86 22       XXB688 STX INDEX
03441  B68A  84 23              STY INDEX+1
03442  B68C  A8          XXB68C TAY 
03443  B68D  F0 0A              BEQ XXB699
03444  B68F  48                 PHA 
03445  B690  88          XXB690 DEY 
03446  B691  B1 22              LDA (INDEX),Y
03447  B693  91 35              STA (FRESPC),Y
03448  B695  98                 TYA 
03449  B696  D0 F8              BNE XXB690
03450  B698  68                 PLA 
03451  B699  18          XXB699 CLC 






BASICV2A.ASM......PAGE 0067

LINE# LOC   CODE        LINE


03452  B69A  65 35              ADC FRESPC
03453  B69C  85 35              STA FRESPC
03454  B69E  90 02              BCC XXB6A2
03455  B6A0  E6 36              INC FRESPC+1
03456  B6A2  60          XXB6A2 RTS 
03457  B6A3              ;********************************
03458  B6A3              ; DE-ALLOCATE TEMPORARY STRING
03459  B6A3              ;********************************
03460  B6A3  20 8F AD    XXB6A3 JSR XXAD8F
03461  B6A6  A5 64       XXB6A6 LDA $64
03462  B6A8  A4 65              LDY $65
03463  B6AA  85 22       XXB6AA STA INDEX
03464  B6AC  84 23              STY INDEX+1
03465  B6AE  20 DB B6           JSR XXB6DB
03466  B6B1  08                 PHP 
03467  B6B2  A0 00              LDY #$00
03468  B6B4  B1 22              LDA (INDEX),Y
03469  B6B6  48                 PHA 
03470  B6B7  C8                 INY 
03471  B6B8  B1 22              LDA (INDEX),Y
03472  B6BA  AA                 TAX 
03473  B6BB  C8                 INY 
03474  B6BC  B1 22              LDA (INDEX),Y
03475  B6BE  A8                 TAY 
03476  B6BF  68                 PLA 
03477  B6C0  28                 PLP 
03478  B6C1  D0 13              BNE XXB6D6
03479  B6C3  C4 34              CPY FRETOP+1
03480  B6C5  D0 0F              BNE XXB6D6
03481  B6C7  E4 33              CPX FRETOP
03482  B6C9  D0 0B              BNE XXB6D6
03483  B6CB  48                 PHA 
03484  B6CC  18                 CLC 
03485  B6CD  65 33              ADC FRETOP
03486  B6CF  85 33              STA FRETOP
03487  B6D1  90 02              BCC XXB6D5
03488  B6D3  E6 34              INC FRETOP+1
03489  B6D5  68          XXB6D5 PLA 
03490  B6D6  86 22       XXB6D6 STX INDEX
03491  B6D8  84 23              STY INDEX+1
03492  B6DA  60                 RTS 
03493  B6DB              ;********************************
03494  B6DB              ; CHECK DESCRIPTOR STACK
03495  B6DB              ;********************************
03496  B6DB  C4 18       XXB6DB CPY LASTPT+1
03497  B6DD  D0 0C              BNE XXB6EB
03498  B6DF  C5 17              CMP LASTPT
03499  B6E1  D0 08              BNE XXB6EB
03500  B6E3  85 16              STA TEMPPT
03501  B6E5  E9 03              SBC #$03
03502  B6E7  85 17              STA LASTPT
03503  B6E9  A0 00              LDY #$00
03504  B6EB  60          XXB6EB RTS 
03505  B6EC              ;********************************
03506  B6EC              ; CHR$ FUNCTION






BASICV2A.ASM......PAGE 0068

LINE# LOC   CODE        LINE


03507  B6EC              ;********************************
03508  B6EC  20 A1 B7    XXB6EC JSR XXB7A1
03509  B6EF  8A                 TXA 
03510  B6F0  48                 PHA 
03511  B6F1  A9 01              LDA #$01
03512  B6F3  20 7D B4           JSR XXB47D
03513  B6F6  68                 PLA 
03514  B6F7  A0 00              LDY #$00
03515  B6F9  91 62              STA ($62),Y
03516  B6FB  68                 PLA 
03517  B6FC  68                 PLA 
03518  B6FD  4C CA B4           JMP XXB4CA
03519  B700              ;********************************
03520  B700              ; LEFT$ FUNCTION
03521  B700              ;********************************
03522  B700  20 61 B7    XXB700 JSR XXB761
03523  B703  D1 50              CMP ($50),Y
03524  B705  98                 TYA 
03525  B706  90 04       XXB706 BCC XXB70C
03526  B708  B1 50              LDA ($50),Y
03527  B70A  AA                 TAX 
03528  B70B  98                 TYA 
03529  B70C  48          XXB70C PHA 
03530  B70D  8A          XXB70D TXA 
03531  B70E  48          XXB70E PHA 
03532  B70F  20 7D B4           JSR XXB47D
03533  B712  A5 50              LDA $50
03534  B714  A4 51              LDY $51
03535  B716  20 AA B6           JSR XXB6AA
03536  B719  68                 PLA 
03537  B71A  A8                 TAY 
03538  B71B  68                 PLA 
03539  B71C  18                 CLC 
03540  B71D  65 22              ADC INDEX
03541  B71F  85 22              STA INDEX
03542  B721  90 02              BCC XXB725
03543  B723  E6 23              INC INDEX+1
03544  B725  98          XXB725 TYA 
03545  B726  20 8C B6           JSR XXB68C
03546  B729  4C CA B4           JMP XXB4CA
03547  B72C              ;********************************
03548  B72C              ; RIGHT$ FUNCTIO
03549  B72C              ;********************************
03550  B72C  20 61 B7    XXB72C JSR XXB761
03551  B72F  18                 CLC 
03552  B730  F1 50              SBC ($50),Y
03553  B732  49 FF              EOR #$FF
03554  B734  4C 06 B7           JMP XXB706
03555  B737              ;********************************
03556  B737              ; MID$ FUNCTION
03557  B737              ;********************************
03558  B737  A9 FF       XXB737 LDA #$FF        ; DEFAULT 3 PARAMETER
03559  B739  85 65              STA $65
03560  B73B  20 79 00           JSR $0079
03561  B73E  C9 29              CMP #$29        ;')'






BASICV2A.ASM......PAGE 0069

LINE# LOC   CODE        LINE


03562  B740  F0 06              BEQ XXB748
03563  B742  20 FD AE           JSR XXAEFD
03564  B745  20 9E B7           JSR XXB79E
03565  B748  20 61 B7    XXB748 JSR XXB761
03566  B74B  F0 4B              BEQ XXB798
03567  B74D  CA                 DEX 
03568  B74E  8A                 TXA 
03569  B74F  48                 PHA 
03570  B750  18                 CLC 
03571  B751  A2 00              LDX #$00
03572  B753  F1 50              SBC ($50),Y
03573  B755  B0 B6              BCS XXB70D
03574  B757  49 FF              EOR #$FF
03575  B759  C5 65              CMP $65
03576  B75B  90 B1              BCC XXB70E
03577  B75D  A5 65              LDA $65
03578  B75F  B0 AD              BCS XXB70E
03579  B761              ;********************************
03580  B761              ; GET FIRST 2 PARAMETERS FOR
03581  B761              ; LEFT$, RIGHT$ AND MID$
03582  B761              ;********************************
03583  B761  20 F7 AE    XXB761 JSR XXAEF7
03584  B764  68                 PLA 
03585  B765  A8                 TAY 
03586  B766  68                 PLA 
03587  B767  85 55              STA $55
03588  B769  68                 PLA 
03589  B76A  68                 PLA 
03590  B76B  68                 PLA 
03591  B76C  AA                 TAX 
03592  B76D  68                 PLA 
03593  B76E  85 50              STA $50
03594  B770  68                 PLA 
03595  B771  85 51              STA $51
03596  B773  A5 55              LDA $55
03597  B775  48                 PHA 
03598  B776  98                 TYA 
03599  B777  48                 PHA 
03600  B778  A0 00              LDY #$00
03601  B77A  8A                 TXA 
03602  B77B  60                 RTS 
03603  B77C              ;********************************
03604  B77C              ; LEN FUNCTION
03605  B77C              ;********************************
03606  B77C  20 82 B7    XXB77C JSR XXB782
03607  B77F  4C A2 B3           JMP XXB3A2
03608  B782              ;********************************
03609  B782              ;
03610  B782              ;********************************
03611  B782  20 A3 B6    XXB782 JSR XXB6A3
03612  B785  A2 00              LDX #$00
03613  B787  86 0D              STX $0D
03614  B789  A8                 TAY 
03615  B78A  60                 RTS 
03616  B78B              ;********************************






BASICV2A.ASM......PAGE 0070

LINE# LOC   CODE        LINE


03617  B78B              ; ASC FUNCTION
03618  B78B              ;********************************
03619  B78B  20 82 B7    XXB78B JSR XXB782
03620  B78E  F0 08              BEQ XXB798
03621  B790  A0 00              LDY #$00
03622  B792  B1 22              LDA (INDEX),Y
03623  B794  A8                 TAY 
03624  B795  4C A2 B3           JMP XXB3A2
03625  B798              ;********************************
03626  B798              ;
03627  B798              ;********************************
03628  B798  4C 48 B2    XXB798 JMP XXB248
03629  B79B              ;********************************
03630  B79B              ; FETCH INTEGER VALUE IN X AND CHECK RANGE
03631  B79B              ;********************************
03632  B79B  20 73 00    XXB79B JSR $0073
03633  B79E  20 8A AD    XXB79E JSR XXAD8A
03634  B7A1  20 B8 B1    XXB7A1 JSR XXB1B8
03635  B7A4  A6 64              LDX $64
03636  B7A6  D0 F0              BNE XXB798
03637  B7A8  A6 65              LDX $65
03638  B7AA  4C 79 00           JMP $0079
03639  B7AD              ;********************************
03640  B7AD              ; VAL FUNCTION
03641  B7AD              ;********************************
03642  B7AD  20 82 B7    XXB7AD JSR XXB782
03643  B7B0  D0 03              BNE XXB7B5
03644  B7B2  4C F7 B8           JMP XXB8F7
03645  B7B5              ;********************************
03646  B7B5              ;
03647  B7B5              ;********************************
03648  B7B5  A6 7A       XXB7B5 LDX $7A
03649  B7B7  A4 7B              LDY $7B
03650  B7B9  86 71              STX $71
03651  B7BB  84 72              STY $72
03652  B7BD  A6 22              LDX INDEX
03653  B7BF  86 7A              STX $7A
03654  B7C1  18                 CLC 
03655  B7C2  65 22              ADC INDEX
03656  B7C4  85 24              STA INDEX+2
03657  B7C6  A6 23              LDX INDEX+1
03658  B7C8  86 7B              STX $7B
03659  B7CA  90 01              BCC XXB7CD
03660  B7CC  E8                 INX 
03661  B7CD  86 25       XXB7CD STX INDEX+3
03662  B7CF  A0 00              LDY #$00
03663  B7D1  B1 24              LDA (INDEX+2),Y
03664  B7D3  48                 PHA 
03665  B7D4  98                 TYA 
03666  B7D5  91 24              STA (INDEX+2),Y
03667  B7D7  20 79 00           JSR $0079
03668  B7DA  20 F3 BC           JSR XXBCF3
03669  B7DD  68                 PLA 
03670  B7DE  A0 00              LDY #$00
03671  B7E0  91 24              STA (INDEX+2),Y






BASICV2A.ASM......PAGE 0071

LINE# LOC   CODE        LINE


03672  B7E2  A6 71       XXB7E2 LDX $71
03673  B7E4  A4 72              LDY $72
03674  B7E6  86 7A              STX $7A
03675  B7E8  84 7B              STY $7B
03676  B7EA  60                 RTS 
03677  B7EB              ;********************************
03678  B7EB              ; GET ADDRESS INTO LINNUM/LINNUM+1 AND INTEGER IN
 X
03679  B7EB              ;********************************
03680  B7EB  20 8A AD    XXB7EB JSR XXAD8A
03681  B7EE  20 F7 B7           JSR XXB7F7
03682  B7F1  20 FD AE    XXB7F1 JSR XXAEFD
03683  B7F4  4C 9E B7           JMP XXB79E
03684  B7F7              ;********************************
03685  B7F7              ; CONVERT FLOAT TI INTEGER IN LINNUM/$1
03686  B7F7              ;********************************
03687  B7F7  A5 66       XXB7F7 LDA $66
03688  B7F9  30 9D              BMI XXB798
03689  B7FB  A5 61              LDA $61
03690  B7FD  C9 91              CMP #$91
03691  B7FF  B0 97              BCS XXB798
03692  B801  20 9B BC           JSR XXBC9B
03693  B804  A5 64              LDA $64
03694  B806  A4 65              LDY $65
03695  B808  84 14              STY LINNUM
03696  B80A  85 15              STA LINNUM+1
03697  B80C  60                 RTS 
03698  B80D              ;********************************
03699  B80D              ; PEEK FUNCTIO
03700  B80D              ;********************************
03701  B80D  A5 15       XXB80D LDA LINNUM+1
03702  B80F  48                 PHA 
03703  B810  A5 14              LDA LINNUM
03704  B812  48                 PHA 
03705  B813  20 F7 B7           JSR XXB7F7
03706  B816  A0 00              LDY #$00
03707  B818  B1 14              LDA (LINNUM),Y
03708  B81A  A8                 TAY 
03709  B81B  68                 PLA 
03710  B81C  85 14              STA LINNUM
03711  B81E  68                 PLA 
03712  B81F  85 15              STA LINNUM+1
03713  B821  4C A2 B3           JMP XXB3A2
03714  B824              ;********************************
03715  B824              ; POKE COMMAND
03716  B824              ;********************************
03717  B824  20 EB B7    ZZB824 JSR XXB7EB
03718  B827  8A                 TXA 
03719  B828  A0 00              LDY #$00
03720  B82A  91 14              STA (LINNUM),Y
03721  B82C  60          XXB82C RTS 
03722  B82D              ;********************************
03723  B82D              ; WAIT COMMAND
03724  B82D              ;********************************
03725  B82D  20 EB B7    ZZBU2D JSR XXB7EB
03726  B830  86 49              STX $49






BASICV2A.ASM......PAGE 0072

LINE# LOC   CODE        LINE


03727  B832  A2 00              LDX #$00
03728  B834  20 79 00           JSR $0079
03729  B837  F0 03              BEQ XXB83C
03730  B839  20 F1 B7           JSR XXB7F1
03731  B83C  86 4A       XXB83C STX $4A
03732  B83E  A0 00              LDY #$00
03733  B840  B1 14       XXB840 LDA (LINNUM),Y
03734  B842  45 4A              EOR $4A
03735  B844  25 49              AND $49
03736  B846  F0 F8              BEQ XXB840
03737  B848  60          XXB848 RTS 
03738  B849              ;********************************
03739  B849              ; ADD 0.5 TO FLOAT ACCU (ROUNDING)
03740  B849              ;********************************
03741  B849  A9 11       XXB849 LDA #$11
03742  B84B  A0 BF              LDY #$BF
03743  B84D  4C 67 B8           JMP XXB867
03744  B850              ;********************************
03745  B850              ; MINUS OPERATOR
03746  B850              ;********************************
03747  B850  20 8C BA    XXB850 JSR XXBA8C
03748  B853  A5 66              LDA $66
03749  B855  49 FF              EOR #$FF
03750  B857  85 66              STA $66
03751  B859  45 6E              EOR $6E
03752  B85B  85 6F              STA $6F
03753  B85D  A5 61              LDA $61
03754  B85F  4C 6A B8           JMP XXB86A
03755  B862              ;********************************
03756  B862              ;
03757  B862              ;********************************
03758  B862  20 99 B9    XXB862 JSR XXB999
03759  B865  90 3C              BCC XXB8A3
03760  B867              ;********************************
03761  B867              ; ADD FLOAT INDEXED BY AY TO FLOAT ACCU
03762  B867              ;********************************
03763  B867  20 8C BA    XXB867 JSR XXBA8C
03764  B86A              ;********************************
03765  B86A              ; PLUS OPERATOR
03766  B86A              ;********************************
03767  B86A  D0 03       XXB86A BNE XXB86F
03768  B86C  4C FC BB           JMP XXBBFC
03769  B86F              ;********************************
03770  B86F              ;
03771  B86F              ;********************************
03772  B86F  A6 70       XXB86F LDX $70
03773  B871  86 56              STX $56
03774  B873  A2 69              LDX #$69
03775  B875  A5 69              LDA $69
03776  B877  A8          XXB877 TAY 
03777  B878  F0 CE              BEQ XXB848
03778  B87A  38                 SEC 
03779  B87B  E5 61              SBC $61
03780  B87D  F0 24              BEQ XXB8A3
03781  B87F  90 12              BCC XXB893






BASICV2A.ASM......PAGE 0073

LINE# LOC   CODE        LINE


03782  B881  84 61              STY $61
03783  B883  A4 6E              LDY $6E
03784  B885  84 66              STY $66
03785  B887  49 FF              EOR #$FF
03786  B889  69 00              ADC #$00
03787  B88B  A0 00              LDY #$00
03788  B88D  84 56              STY $56
03789  B88F  A2 61              LDX #$61
03790  B891  D0 04              BNE XXB897
03791  B893  A0 00       XXB893 LDY #$00
03792  B895  84 70              STY $70
03793  B897  C9 F9       XXB897 CMP #$F9
03794  B899  30 C7              BMI XXB862
03795  B89B  A8                 TAY 
03796  B89C  A5 70              LDA $70
03797  B89E  56 01              LSR $01,X
03798  B8A0  20 B0 B9           JSR XXB9B0
03799  B8A3  24 6F       XXB8A3 BIT $6F
03800  B8A5  10 57              BPL XXB8FE
03801  B8A7  A0 61              LDY #$61
03802  B8A9  E0 69              CPX #$69
03803  B8AB  F0 02              BEQ XXB8AF
03804  B8AD  A0 69              LDY #$69
03805  B8AF  38          XXB8AF SEC 
03806  B8B0  49 FF              EOR #$FF
03807  B8B2  65 56              ADC $56
03808  B8B4  85 70              STA $70
03809  B8B6  B9 04 00           LDA $0004,Y
03810  B8B9  F5 04              SBC $04,X
03811  B8BB  85 65              STA $65
03812  B8BD  B9 03 00           LDA $0003,Y
03813  B8C0  F5 03              SBC $03,X
03814  B8C2  85 64              STA $64
03815  B8C4  B9 02 00           LDA $0002,Y
03816  B8C7  F5 02              SBC $02,X
03817  B8C9  85 63              STA $63
03818  B8CB  B9 01 00           LDA $0001,Y
03819  B8CE  F5 01              SBC $01,X
03820  B8D0  85 62              STA $62
03821  B8D2  B0 03       XXB8D2 BCS XXB8D7
03822  B8D4  20 47 B9           JSR XXB947
03823  B8D7  A0 00       XXB8D7 LDY #$00
03824  B8D9  98                 TYA 
03825  B8DA  18                 CLC 
03826  B8DB  A6 62       XXB8DB LDX $62
03827  B8DD  D0 4A              BNE XXB929
03828  B8DF  A6 63              LDX $63
03829  B8E1  86 62              STX $62
03830  B8E3  A6 64              LDX $64
03831  B8E5  86 63              STX $63
03832  B8E7  A6 65              LDX $65
03833  B8E9  86 64              STX $64
03834  B8EB  A6 70              LDX $70
03835  B8ED  86 65              STX $65
03836  B8EF  84 70              STY $70






BASICV2A.ASM......PAGE 0074

LINE# LOC   CODE        LINE


03837  B8F1  69 08              ADC #$08
03838  B8F3  C9 20              CMP #$20        ;' '
03839  B8F5  D0 E4              BNE XXB8DB
03840  B8F7  A9 00       XXB8F7 LDA #$00
03841  B8F9  85 61       XXB8F9 STA $61
03842  B8FB  85 66       XXB8FB STA $66
03843  B8FD  60                 RTS 
03844  B8FE              ;********************************
03845  B8FE              ; ADD FRACTIONS
03846  B8FE              ;********************************
03847  B8FE  65 56       XXB8FE ADC $56
03848  B900  85 70              STA $70
03849  B902  A5 65              LDA $65
03850  B904  65 6D              ADC $6D
03851  B906  85 65              STA $65
03852  B908  A5 64              LDA $64
03853  B90A  65 6C              ADC $6C
03854  B90C  85 64              STA $64
03855  B90E  A5 63              LDA $63
03856  B910  65 6B              ADC $6B
03857  B912  85 63              STA $63
03858  B914  A5 62              LDA $62
03859  B916  65 6A              ADC $6A
03860  B918  85 62              STA $62
03861  B91A  4C 36 B9           JMP XXB936
03862  B91D              ;********************************
03863  B91D              ; POSTSHIFT
03864  B91D              ;********************************
03865  B91D  69 01       XXB91D ADC #$01
03866  B91F  06 70              ASL $70
03867  B921  26 65              ROL $65
03868  B923  26 64              ROL $64
03869  B925  26 63              ROL $63
03870  B927  26 62              ROL $62
03871  B929  10 F2       XXB929 BPL XXB91D
03872  B92B  38                 SEC 
03873  B92C  E5 61              SBC $61
03874  B92E  B0 C7              BCS XXB8F7
03875  B930  49 FF              EOR #$FF
03876  B932  69 01              ADC #$01
03877  B934  85 61              STA $61
03878  B936  90 0E       XXB936 BCC XXB946
03879  B938  E6 61       XXB938 INC $61
03880  B93A  F0 42              BEQ XXB97E
03881  B93C  66 62              ROR $62
03882  B93E  66 63              ROR $63
03883  B940  66 64              ROR $64
03884  B942  66 65              ROR $65
03885  B944  66 70              ROR $70
03886  B946  60          XXB946 RTS 
03887  B947              ;********************************
03888  B947              ; NEGATE FLOAT ACCU
03889  B947              ;********************************
03890  B947  A5 66       XXB947 LDA $66
03891  B949  49 FF              EOR #$FF






BASICV2A.ASM......PAGE 0075

LINE# LOC   CODE        LINE


03892  B94B  85 66              STA $66
03893  B94D  A5 62       XXB94D LDA $62
03894  B94F  49 FF              EOR #$FF
03895  B951  85 62              STA $62
03896  B953  A5 63              LDA $63
03897  B955  49 FF              EOR #$FF
03898  B957  85 63              STA $63
03899  B959  A5 64              LDA $64
03900  B95B  49 FF              EOR #$FF
03901  B95D  85 64              STA $64
03902  B95F  A5 65              LDA $65
03903  B961  49 FF              EOR #$FF
03904  B963  85 65              STA $65
03905  B965  A5 70              LDA $70
03906  B967  49 FF              EOR #$FF
03907  B969  85 70              STA $70
03908  B96B  E6 70              INC $70
03909  B96D  D0 0E              BNE XXB97D
03910  B96F              ;********************************
03911  B96F              ; INCREMENT FRACTION
03912  B96F              ;********************************
03913  B96F  E6 65       XXB96F INC $65
03914  B971  D0 0A              BNE XXB97D
03915  B973  E6 64              INC $64
03916  B975  D0 06              BNE XXB97D
03917  B977  E6 63              INC $63
03918  B979  D0 02              BNE XXB97D
03919  B97B  E6 62              INC $62
03920  B97D  60          XXB97D RTS 
03921  B97E              ;********************************
03922  B97E              ;
03923  B97E              ;********************************
03924  B97E  A2 0F       XXB97E LDX #$0F        ; ERROR NUMBER
03925  B980  4C 37 A4           JMP XXA437
03926  B983              ;********************************
03927  B983              ; PRESHIFT
03928  B983              ;********************************
03929  B983  A2 25       XXB983 LDX #$25        ;'%'
03930  B985  B4 04       XXB985 LDY $04,X
03931  B987  84 70              STY $70
03932  B989  B4 03              LDY $03,X
03933  B98B  94 04              STY $04,X
03934  B98D  B4 02              LDY $02,X
03935  B98F  94 03              STY $03,X
03936  B991  B4 01              LDY $01,X
03937  B993  94 02              STY $02,X
03938  B995  A4 68              LDY $68
03939  B997  94 01              STY $01,X
03940  B999  69 08       XXB999 ADC #$08
03941  B99B  30 E8              BMI XXB985
03942  B99D  F0 E6              BEQ XXB985
03943  B99F  E9 08              SBC #$08
03944  B9A1  A8                 TAY 
03945  B9A2  A5 70              LDA $70
03946  B9A4  B0 14              BCS XXB9BA






BASICV2A.ASM......PAGE 0076

LINE# LOC   CODE        LINE


03947  B9A6  16 01       XXB9A6 ASL $01,X
03948  B9A8  90 02              BCC XXB9AC
03949  B9AA  F6 01              INC $01,X
03950  B9AC  76 01       XXB9AC ROR $01,X
03951  B9AE  76 01              ROR $01,X
03952  B9B0  76 02       XXB9B0 ROR $02,X
03953  B9B2  76 03              ROR $03,X
03954  B9B4  76 04              ROR $04,X
03955  B9B6  6A                 ROR A
03956  B9B7  C8                 INY 
03957  B9B8  D0 EC              BNE XXB9A6
03958  B9BA  18          XXB9BA CLC 
03959  B9BB  60                 RTS 
03960  B9BC              ;********************************
03961  B9BC              ; 1
03962  B9BC              ;********************************
03963  B9BC  81          WWB9BC .BYTE $81
03964  B9BD  00                 .BYTE $00
03965  B9BE  00                 .BYTE $00
03966  B9BF  00                 .BYTE $00
03967  B9C0  00                 .BYTE $00
03968  B9C1              ;********************************
03969  B9C1              ; LOG POLYNOMIAL TABLE
03970  B9C1              ;********************************
03971  B9C1  03          WWB9C1 .BYTE $03       ; DEGREE 4
03972  B9C2  7F                 .BYTE $7F
03973  B9C3  5E                 .BYTE $5E
03974  B9C4  56                 .BYTE $56
03975  B9C5  CB                 .BYTE $CB
03976  B9C6  79                 .BYTE $79
03977  B9C7  80                 .BYTE $80
03978  B9C8  13                 .BYTE $13
03979  B9C9  9B                 .BYTE $9B
03980  B9CA  0B                 .BYTE $0B
03981  B9CB  64                 .BYTE $64
03982  B9CC  80                 .BYTE $80
03983  B9CD  76                 .BYTE $76
03984  B9CE  38                 .BYTE $38
03985  B9CF  93                 .BYTE $93
03986  B9D0  16                 .BYTE $16
03987  B9D1  82                 .BYTE $82
03988  B9D2  38                 .BYTE $38
03989  B9D3  AA                 .BYTE $AA
03990  B9D4  3B                 .BYTE $3B
03991  B9D5  20                 .BYTE $20
03992  B9D6              ;********************************
03993  B9D6              ; 0,5 * SQR(2)
03994  B9D6              ;********************************
03995  B9D6  80          WWB9D6 .BYTE $80
03996  B9D7  35                 .BYTE $35
03997  B9D8  04                 .BYTE $04
03998  B9D9  F3                 .BYTE $F3
03999  B9DA  34                 .BYTE $34
04000  B9DB              ;********************************
04001  B9DB              ; SQR(2)






BASICV2A.ASM......PAGE 0077

LINE# LOC   CODE        LINE


04002  B9DB              ;********************************
04003  B9DB  81          WWB9DB .BYTE $81
04004  B9DC  35                 .BYTE $35
04005  B9DD  04                 .BYTE $04
04006  B9DE  F3                 .BYTE $F3
04007  B9DF  34                 .BYTE $34
04008  B9E0              ;********************************
04009  B9E0              ; -0.5
04010  B9E0              ;********************************
04011  B9E0  80          WWB9E0 .BYTE $80
04012  B9E1  80                 .BYTE $80
04013  B9E2  00                 .BYTE $00
04014  B9E3  00                 .BYTE $00
04015  B9E4  00                 .BYTE $00
04016  B9E5              ;********************************
04017  B9E5              ; LOG(2)
04018  B9E5              ;********************************
04019  B9E5  80          WWB9E5 .BYTE $80
04020  B9E6  31                 .BYTE $31
04021  B9E7  72                 .BYTE $72
04022  B9E8  17                 .BYTE $17
04023  B9E9  F8                 .BYTE $F8
04024  B9EA              ;********************************
04025  B9EA              ; LOG FUNCTION
04026  B9EA              ;********************************
04027  B9EA  20 2B BC    XXB9EA JSR XXBC2B
04028  B9ED  F0 02              BEQ XXB9F1
04029  B9EF  10 03              BPL XXB9F4
04030  B9F1  4C 48 B2    XXB9F1 JMP XXB248
04031  B9F4              ;********************************
04032  B9F4              ;
04033  B9F4              ;********************************
04034  B9F4  A5 61       XXB9F4 LDA $61
04035  B9F6  E9 7F              SBC #$7F
04036  B9F8  48                 PHA 
04037  B9F9  A9 80              LDA #$80
04038  B9FB  85 61              STA $61
04039  B9FD  A9 D6              LDA #$D6        ; LOW  B9D6
04040  B9FF  A0 B9              LDY #$B9        ; HIGH B9D6
04041  BA01  20 67 B8           JSR XXB867
04042  BA04  A9 DB              LDA #$DB        ; LOW  B9DB
04043  BA06  A0 B9              LDY #$B9        ; HIGH B9DB
04044  BA08  20 0F BB           JSR XXBB0F
04045  BA0B  A9 BC              LDA #$BC        ; LOW  B9BC
04046  BA0D  A0 0B              LDY #$B         ; HIGH B9BC9
04047  BA0F  20 50 B8           JSR XXB850
04048  BA12  A9 C1              LDA #$C1        ; LOW  B9C1
04049  BA14  A0 B9              LDY #$B9        ; HIGH B9C1
04050  BA16  20 43 E0           JSR $E043
04051  BA19  A9 E0              LDA #$E0        ; LOW  B9E0
04052  BA1B  A0 B9              LDY #$B9        ; HIGH B9E
04053  BA1D  20 67 B8           JSR XXB867
04054  BA20  68                 PLA 
04055  BA21  20 7E BD           JSR XXBD7E
04056  BA24  A9 E5              LDA #$E5        ; LOW  B9E5






BASICV2A.ASM......PAGE 0078

LINE# LOC   CODE        LINE


04057  BA26  A0 B9              LDY #$B9        ; HIGH B9E5
04058  BA28  20 8C BA    XXBA28 JSR XXBA8C
04059  BA2B              ;********************************
04060  BA2B              ; TIMES OPERATOR
04061  BA2B              ;********************************
04062  BA2B  D0 03       ZZBA2B BNE XXBA30
04063  BA2D  4C 8B BA           JMP XXBA8B
04064  BA30              ;********************************
04065  BA30              ;
04066  BA30              ;********************************
04067  BA30  20 B7 BA    XXBA30 JSR XXBAB7
04068  BA33  A9 00              LDA #$00
04069  BA35  85 26              STA RESHO
04070  BA37  85 27              STA RESHO+1
04071  BA39  85 28              STA RESHO+2
04072  BA3B  85 29              STA RESHO+3
04073  BA3D  A5 70              LDA $70
04074  BA3F  20 59 BA           JSR XXBA59
04075  BA42  A5 65              LDA $65
04076  BA44  20 59 BA           JSR XXBA59
04077  BA47  A5 64              LDA $64
04078  BA49  20 59 BA           JSR XXBA59
04079  BA4C  A5 63              LDA $63
04080  BA4E  20 59 BA           JSR XXBA59
04081  BA51  A5 62              LDA $62
04082  BA53  20 5E BA           JSR XXBA5E
04083  BA56  4C 8F BB           JMP XXBB8F
04084  BA59              ;********************************
04085  BA59              ;
04086  BA59              ;********************************
04087  BA59  D0 03       XXBA59 BNE XXBA5E
04088  BA5B  4C 83 B9           JMP XXB983
04089  BA5E              ;********************************
04090  BA5E              ;
04091  BA5E              ;********************************
04092  BA5E  4A          XXBA5E LSR A
04093  BA5F  09 80              ORA #$80
04094  BA61  A8          XXBA61 TAY 
04095  BA62  90 19              BCC XXBA7D
04096  BA64  18                 CLC 
04097  BA65  A5 29              LDA RESHO+3
04098  BA67  65 6D              ADC $6D
04099  BA69  85 29              STA RESHO+3
04100  BA6B  A5 28              LDA RESHO+2
04101  BA6D  65 6C              ADC $6C
04102  BA6F  85 28              STA RESHO+2
04103  BA71  A5 27              LDA RESHO+1
04104  BA73  65 6B              ADC $6B
04105  BA75  85 27              STA RESHO+1
04106  BA77  A5 26              LDA RESHO
04107  BA79  65 6A              ADC $6A
04108  BA7B  85 26              STA RESHO
04109  BA7D  66 26       XXBA7D ROR RESHO
04110  BA7F  66 27              ROR RESHO+1
04111  BA81  66 28              ROR RESHO+2






BASICV2A.ASM......PAGE 0079

LINE# LOC   CODE        LINE


04112  BA83  66 29              ROR RESHO+3
04113  BA85  66 70              ROR $70
04114  BA87  98                 TYA 
04115  BA88  4A                 LSR A
04116  BA89  D0 D6              BNE XXBA61
04117  BA8B  60          XXBA8B RTS 
04118  BA8C              ;********************************
04119  BA8C              ; MOVE FLOAT INDEXED BY AY INTO SECOND FLOAT ACCU

04120  BA8C              ;********************************
04121  BA8C  85 22       XXBA8C STA INDEX
04122  BA8E  84 23              STY INDEX+1
04123  BA90  A0 04              LDY #$04
04124  BA92  B1 22              LDA (INDEX),Y
04125  BA94  85 6D              STA $6D
04126  BA96  88                 DEY 
04127  BA97  B1 22              LDA (INDEX),Y
04128  BA99  85 6C              STA $6C
04129  BA9B  88                 DEY 
04130  BA9C  B1 22              LDA (INDEX),Y
04131  BA9E  85 6B              STA $6B
04132  BAA0  88                 DEY 
04133  BAA1  B1 22              LDA (INDEX),Y
04134  BAA3  85 6E              STA $6E
04135  BAA5  45 66              EOR $66
04136  BAA7  85 6F              STA $6F
04137  BAA9  A5 6E              LDA $6E
04138  BAAB  09 80              ORA #$80
04139  BAAD  85 6A              STA $6A
04140  BAAF  88                 DEY 
04141  BAB0  B1 22              LDA (INDEX),Y
04142  BAB2  85 69              STA $69
04143  BAB4  A5 61              LDA $61
04144  BAB6  60                 RTS 
04145  BAB7              ;********************************
04146  BAB7              ; ADD EXPONENTS
04147  BAB7              ;********************************
04148  BAB7  A5 69       XXBAB7 LDA $69
04149  BAB9  F0 1F              BEQ XXBADA
04150  BABB  18                 CLC 
04151  BABC  65 61              ADC $61
04152  BABE  90 04              BCC XXBAC4
04153  BAC0  30 1D              BMI XXBADF
04154  BAC2  18                 CLC 
04155  BAC3              ;********************************
04156  BAC3  2C                 .BYTE $2C
04157  BAC4              ;********************************
04158  BAC4  10 14       XXBAC4 BPL XXBADA
04159  BAC6  69 80              ADC #$80
04160  BAC8  85 61              STA $61
04161  BACA  D0 03              BNE XXBACF
04162  BACC  4C FB B8           JMP XXB8FB
04163  BACF              ;********************************
04164  BACF              ;
04165  BACF              ;********************************
04166  BACF  A5 6F       XXBACF LDA $6F






BASICV2A.ASM......PAGE 0080

LINE# LOC   CODE        LINE


04167  BAD1  85 66              STA $66
04168  BAD3  60                 RTS 
04169  BAD4              ;********************************
04170  BAD4              ;
04171  BAD4              ;********************************
04172  BAD4  A5 66              LDA $66
04173  BAD6  49 FF              EOR #$FF
04174  BAD8  30 05              BMI XXBADF
04175  BADA  68          XXBADA PLA 
04176  BADB  68                 PLA 
04177  BADC  4C F7 B8           JMP XXB8F7
04178  BADF              ;********************************
04179  BADF              ;
04180  BADF              ;********************************
04181  BADF  4C 7E B9    XXBADF JMP XXB97E
04182  BAE2              ;********************************
04183  BAE2              ; MULTIPLY FLOAT ACCU BY 10
04184  BAE2              ;********************************
04185  BAE2  20 0C BC    XXBAE2 JSR XXBC0C
04186  BAE5  AA                 TAX 
04187  BAE6  F0 10              BEQ XXBAF8
04188  BAE8  18                 CLC 
04189  BAE9  69 02              ADC #$02
04190  BAEB  B0 F2              BCS XXBADF
04191  BAED  A2 00       XXBAED LDX #$00
04192  BAEF  86 6F              STX $6F
04193  BAF1  20 77 B8           JSR XXB877
04194  BAF4  E6 61              INC $61
04195  BAF6  F0 E7              BEQ XXBADF
04196  BAF8  60          XXBAF8 RTS 
04197  BAF9              ;********************************
04198  BAF9              ; CONSTANT 10 FOR DIVISION
04199  BAF9              ;********************************
04200  BAF9  84          WWBAF9 .BYTE $84
04201  BAFA  20                 .BYTE $20
04202  BAFB  00                 .BYTE $00
04203  BAFC  00                 .BYTE $00
04204  BAFD  00                 .BYTE $00
04205  BAFE              ;********************************
04206  BAFE              ; DIVIDE FLOAT BY 10
04207  BAFE              ;********************************
04208  BAFE  20 0C BC    XXBAFE JSR XXBC0C
04209  BB01  A9 F9              LDA #$F9        ; LOW  BAF9
04210  BB03  A0 BA              LDY #$BA        ; HIGH BAF
04211  BB05  A2 00              LDX #$00
04212  BB07  86 6F              STX $6F
04213  BB09  20 A2 BB           JSR XXBBA2
04214  BB0C  4C 12 BB           JMP XXBB12
04215  BB0F              ;********************************
04216  BB0F              ; DIVIDE NUMBER INDEXED BY AY BY FLOAT ACCU
04217  BB0F              ;********************************
04218  BB0F  20 8C BA    XXBB0F JSR XXBA8C
04219  BB12              ;********************************
04220  BB12              ; DIVIDE OPERATOR
04221  BB12              ;********************************






BASICV2A.ASM......PAGE 0081

LINE# LOC   CODE        LINE


04222  BB12  F0 76       XXBB12 BEQ XXBB8A
04223  BB14  20 1B BC           JSR XXBC1B
04224  BB17  A9 00              LDA #$00
04225  BB19  38                 SEC 
04226  BB1A  E5 61              SBC $61
04227  BB1C  85 61              STA $61
04228  BB1E  20 B7 BA           JSR XXBAB7
04229  BB21  E6 61              INC $61
04230  BB23  F0 BA              BEQ XXBADF
04231  BB25  A2 FC              LDX #$FC
04232  BB27  A9 01              LDA #$01
04233  BB29  A4 6A       XXBB29 LDY $6A
04234  BB2B  C4 62              CPY $62
04235  BB2D  D0 10              BNE XXBB3F
04236  BB2F  A4 6B              LDY $6B
04237  BB31  C4 63              CPY $63
04238  BB33  D0 0A              BNE XXBB3F
04239  BB35  A4 6C              LDY $6C
04240  BB37  C4 64              CPY $64
04241  BB39  D0 04              BNE XXBB3F
04242  BB3B  A4 6D              LDY $6D
04243  BB3D  C4 65              CPY $65
04244  BB3F  08          XXBB3F PHP 
04245  BB40  2A                 ROL A
04246  BB41  90 09              BCC XXBB4C
04247  BB43  E8                 INX 
04248  BB44  95 29              STA RESHO+3,X
04249  BB46  F0 32              BEQ XXBB7A
04250  BB48  10 34              BPL XXBB7E
04251  BB4A  A9 01              LDA #$01
04252  BB4C  28          XXBB4C PLP 
04253  BB4D  B0 0E              BCS XXBB5D
04254  BB4F  06 6D       XXBB4F ASL $6D
04255  BB51  26 6C              ROL $6C
04256  BB53  26 6B              ROL $6B
04257  BB55  26 6A              ROL $6A
04258  BB57  B0 E6              BCS XXBB3F
04259  BB59  30 CE              BMI XXBB29
04260  BB5B  10 E2              BPL XXBB3F
04261  BB5D  A8          XXBB5D TAY 
04262  BB5E  A5 6D              LDA $6D
04263  BB60  E5 65              SBC $65
04264  BB62  85 6D              STA $6D
04265  BB64  A5 6C              LDA $6C
04266  BB66  E5 64              SBC $64
04267  BB68  85 6C              STA $6C
04268  BB6A  A5 6B              LDA $6B
04269  BB6C  E5 63              SBC $63
04270  BB6E  85 6B              STA $6B
04271  BB70  A5 6A              LDA $6A
04272  BB72  E5 62              SBC $62
04273  BB74  85 6A              STA $6A
04274  BB76  98                 TYA 
04275  BB77  4C 4F BB           JMP XXBB4F
04276  BB7A              ;********************************






BASICV2A.ASM......PAGE 0082

LINE# LOC   CODE        LINE


04277  BB7A              ;
04278  BB7A              ;********************************
04279  BB7A  A9 40       XXBB7A LDA #$40        ;'@'
04280  BB7C  D0 CE              BNE XXBB4C
04281  BB7E  0A          XXBB7E ASL A
04282  BB7F  0A                 ASL A
04283  BB80  0A                 ASL A
04284  BB81  0A                 ASL A
04285  BB82  0A                 ASL A
04286  BB83  0A                 ASL A
04287  BB84  85 70              STA $70
04288  BB86  28                 PLP 
04289  BB87  4C 8F BB           JMP XXBB8F
04290  BB8A              ;********************************
04291  BB8A              ;
04292  BB8A              ;********************************
04293  BB8A  A2 14       XXBB8A LDX #$14        ; ERROR NUMBER
04294  BB8C  4C 37 A4           JMP XXA437
04295  BB8F              ;********************************
04296  BB8F              ;
04297  BB8F              ;********************************
04298  BB8F  A5 26       XXBB8F LDA RESHO
04299  BB91  85 62              STA $62
04300  BB93  A5 27              LDA RESHO+1
04301  BB95  85 63              STA $63
04302  BB97  A5 28              LDA RESHO+2
04303  BB99  85 64              STA $64
04304  BB9B  A5 29              LDA RESHO+3
04305  BB9D  85 65              STA $65
04306  BB9F  4C D7 B8           JMP XXB8D7
04307  BBA2              ;********************************
04308  BBA2              ;
04309  BBA2              ;********************************
04310  BBA2  85 22       XXBBA2 STA INDEX
04311  BBA4  84 23              STY INDEX+1
04312  BBA6  A0 04              LDY #$04
04313  BBA8  B1 22              LDA (INDEX),Y
04314  BBAA  85 65              STA $65
04315  BBAC  88                 DEY 
04316  BBAD  B1 22              LDA (INDEX),Y
04317  BBAF  85 64              STA $64
04318  BBB1  88                 DEY 
04319  BBB2  B1 22              LDA (INDEX),Y
04320  BBB4  85 63              STA $63
04321  BBB6  88                 DEY 
04322  BBB7  B1 22              LDA (INDEX),Y
04323  BBB9  85 66              STA $66
04324  BBBB  09 80              ORA #$80
04325  BBBD  85 62              STA $62
04326  BBBF  88                 DEY 
04327  BBC0  B1 22              LDA (INDEX),Y
04328  BBC2  85 61              STA $61
04329  BBC4  84 70              STY $70
04330  BBC6  60                 RTS 
04331  BBC7              ;********************************






BASICV2A.ASM......PAGE 0083

LINE# LOC   CODE        LINE


04332  BBC7              ; STORE FLOAT ACCU AT $5C-$60
04333  BBC7              ;********************************
04334  BBC7  A2 5C       ZZBBC7 LDX #$5C        ; LOW  005C
04335  BBC9              ;********************************
04336  BBC9  2C                 .BYTE $2C
04337  BBCA              ;********************************
04338  BBCA              ; STORE FLOAT ACCU AT $57-$5B
04339  BBCA              ;********************************
04340  BBCA  A2 57              LDX #$57        ; LOW  0057
04341  BBCC  A0 00              LDY #$00        ; HIGH 0057
04342  BBCE  F0 04              BEQ XXBBD4
04343  BBD0              ;********************************
04344  BBD0              ; STORE FLOAT ACCU IN INDEX AT $49/$4A
04345  BBD0              ;********************************
04346  BBD0  A6 49       XXBBD0 LDX $49
04347  BBD2  A4 4A              LDY $4A
04348  BBD4              ;********************************
04349  BBD4              ; STORE FLOAT ACCU IN INDEX XY
04350  BBD4              ;********************************
04351  BBD4  20 1B BC    XXBBD4 JSR XXBC1B
04352  BBD7  86 22              STX INDEX
04353  BBD9  84 23              STY INDEX+1
04354  BBDB  A0 04              LDY #$04
04355  BBDD  A5 65              LDA $65
04356  BBDF  91 22              STA (INDEX),Y
04357  BBE1  88                 DEY 
04358  BBE2  A5 64              LDA $64
04359  BBE4  91 22              STA (INDEX),Y
04360  BBE6  88                 DEY 
04361  BBE7  A5 63              LDA $63
04362  BBE9  91 22              STA (INDEX),Y
04363  BBEB  88                 DEY 
04364  BBEC  A5 66              LDA $66
04365  BBEE  09 7F              ORA #$7F
04366  BBF0  25 62              AND $62
04367  BBF2  91 22              STA (INDEX),Y
04368  BBF4  88                 DEY 
04369  BBF5  A5 61              LDA $61
04370  BBF7  91 22              STA (INDEX),Y
04371  BBF9  84 70              STY $70
04372  BBFB  60                 RTS 
04373  BBFC              ;********************************
04374  BBFC              ; MOVE SECOND FLOAT ACCU INTO FIRST
04375  BBFC              ;********************************
04376  BBFC  A5 6E       XXBBFC LDA $6E
04377  BBFE  85 66       XXBBFE STA $66
04378  BC00  A2 05              LDX #$05
04379  BC02  B5 68       XXBC02 LDA $68,X
04380  BC04  95 60              STA $60,X
04381  BC06  CA                 DEX 
04382  BC07  D0 F9              BNE XXBC02
04383  BC09  86 70              STX $70
04384  BC0B  60                 RTS 
04385  BC0C              ;********************************
04386  BC0C              ; MOVE ROUNDED FLOAT ACCU INTO SECOND






BASICV2A.ASM......PAGE 0084

LINE# LOC   CODE        LINE


04387  BC0C              ;********************************
04388  BC0C  20 1B BC    XXBC0C JSR XXBC1B
04389  BC0F  A2 06              LDX #$06
04390  BC11  B5 60       XXBC11 LDA $60,X
04391  BC13  95 68              STA $68,X
04392  BC15  CA                 DEX 
04393  BC16  D0 F9              BNE XXBC11
04394  BC18  86 70              STX $70
04395  BC1A  60          XXBC1A RTS 
04396  BC1B              ;********************************
04397  BC1B              ; ROUND FLOAT ACCU ACCORDING TO GUARD BIT
04398  BC1B              ;********************************
04399  BC1B  A5 61       XXBC1B LDA $61
04400  BC1D  F0 FB              BEQ XXBC1A
04401  BC1F  06 70              ASL $70
04402  BC21  90 F7              BCC XXBC1A
04403  BC23  20 6F B9    XXBC23 JSR XXB96F
04404  BC26  D0 F2              BNE XXBC1A
04405  BC28  4C 38 B9           JMP XXB938
04406  BC2B              ;********************************
04407  BC2B              ; GET SIGN OF FLOAT ACCU IN 
04408  BC2B              ;********************************
04409  BC2B  A5 61       XXBC2B LDA $61
04410  BC2D  F0 09              BEQ XXBC38
04411  BC2F  A5 66       XXBC2F LDA $66
04412  BC31  2A          XXBC31 ROL A
04413  BC32  A9 FF              LDA #$FF
04414  BC34  B0 02              BCS XXBC38
04415  BC36  A9 01              LDA #$01
04416  BC38  60          XXBC38 RTS 
04417  BC39              ;********************************
04418  BC39              ; SGN FUNCTION
04419  BC39              ;********************************
04420  BC39  20 2B BC    XXBC39 JSR XXBC2B
04421  BC3C              ;********************************
04422  BC3C              ; MOVE SIGNED NUMBER FROM A INTO FLOAT ACCU
04423  BC3C              ;********************************
04424  BC3C  85 62       XXBC3C STA $62
04425  BC3E  A9 00              LDA #$00
04426  BC40  85 63              STA $63
04427  BC42  A2 88              LDX #$88
04428  BC44  A5 62       XXBC44 LDA $62
04429  BC46  49 FF              EOR #$FF
04430  BC48  2A                 ROL A
04431  BC49  A9 00       XXBC49 LDA #$00
04432  BC4B  85 65              STA $65
04433  BC4D  85 64              STA $64
04434  BC4F  86 61       XXBC4F STX $61
04435  BC51  85 70              STA $70
04436  BC53  85 66              STA $66
04437  BC55  4C D2 B8           JMP XXB8D2
04438  BC58              ;********************************
04439  BC58              ; ABS FUNCTION
04440  BC58              ;********************************
04441  BC58  46 66       XXBC58 LSR $66






BASICV2A.ASM......PAGE 0085

LINE# LOC   CODE        LINE


04442  BC5A  60                 RTS 
04443  BC5B              ;********************************
04444  BC5B              ; COMPARE FLOAT ACCU TO FLOAT INDEXED BY XY
04445  BC5B              ;********************************
04446  BC5B  85 24       XXBC5B STA INDEX+2
04447  BC5D  84 25       XXBC5D STY INDEX+3
04448  BC5F  A0 00              LDY #$00
04449  BC61  B1 24              LDA (INDEX+2),Y
04450  BC63  C8                 INY 
04451  BC64  AA                 TAX 
04452  BC65  F0 C4              BEQ XXBC2B
04453  BC67  B1 24              LDA (INDEX+2),Y
04454  BC69  45 66              EOR $66
04455  BC6B  30 C2              BMI XXBC2F
04456  BC6D  E4 61              CPX $61
04457  BC6F  D0 21              BNE XXBC92
04458  BC71  B1 24              LDA (INDEX+2),Y
04459  BC73  09 80              ORA #$80
04460  BC75  C5 62              CMP $62
04461  BC77  D0 19              BNE XXBC92
04462  BC79  C8                 INY 
04463  BC7A  B1 24              LDA (INDEX+2),Y
04464  BC7C  C5 63              CMP $63
04465  BC7E  D0 12              BNE XXBC92
04466  BC80  C8                 INY 
04467  BC81  B1 24              LDA (INDEX+2),Y
04468  BC83  C5 64              CMP $64
04469  BC85  D0 0B              BNE XXBC92
04470  BC87  C8                 INY 
04471  BC88  A9 7F              LDA #$7F
04472  BC8A  C5 70              CMP $70
04473  BC8C  B1 24              LDA (INDEX+2),Y
04474  BC8E  E5 65              SBC $65
04475  BC90  F0 28              BEQ XXBCBA
04476  BC92  A5 66       XXBC92 LDA $66
04477  BC94  90 02              BCC XXBC98
04478  BC96  49 FF              EOR #$FF
04479  BC98  4C 31 BC    XXBC98 JMP XXBC31
04480  BC9B              ;********************************
04481  BC9B              ; CONVERT FLOAT TO A 4 BYTE SIGNED INTEGER
04482  BC9B              ;********************************
04483  BC9B  A5 61       XXBC9B LDA $61
04484  BC9D  F0 4A              BEQ XXBCE9
04485  BC9F  38                 SEC 
04486  BCA0  E9 A0              SBC #$A0
04487  BCA2  24 66              BIT $66
04488  BCA4  10 09              BPL XXBCAF
04489  BCA6  AA                 TAX 
04490  BCA7  A9 FF              LDA #$FF
04491  BCA9  85 68              STA $68
04492  BCAB  20 4D B9           JSR XXB94D
04493  BCAE  8A                 TXA 
04494  BCAF  A2 61       XXBCAF LDX #$61
04495  BCB1  C9 F9              CMP #$F9
04496  BCB3  10 06              BPL XXBCBB






BASICV2A.ASM......PAGE 0086

LINE# LOC   CODE        LINE


04497  BCB5  20 99 B9           JSR XXB999
04498  BCB8  84 68              STY $68
04499  BCBA  60          XXBCBA RTS 
04500  BCBB              ;********************************
04501  BCBB              ;
04502  BCBB              ;********************************
04503  BCBB  A8          XXBCBB TAY 
04504  BCBC  A5 66              LDA $66
04505  BCBE  29 80              AND #$80
04506  BCC0  46 62              LSR $62
04507  BCC2  05 62              ORA $62
04508  BCC4  85 62              STA $62
04509  BCC6  20 B0 B9           JSR XXB9B0
04510  BCC9  84 68              STY $68
04511  BCCB  60                 RTS 
04512  BCCC              ;********************************
04513  BCCC              ; INT FUNCTION
04514  BCCC              ;********************************
04515  BCCC  A5 61       XXBCCC LDA $61
04516  BCCE  C9 A0              CMP #$A0
04517  BCD0  B0 20              BCS XXBCF2
04518  BCD2  20 9B BC           JSR XXBC9B
04519  BCD5  84 70              STY $70
04520  BCD7  A5 66              LDA $66
04521  BCD9  84 66              STY $66
04522  BCDB  49 80              EOR #$80
04523  BCDD  2A                 ROL A
04524  BCDE  A9 A0              LDA #$A0
04525  BCE0  85 61              STA $61
04526  BCE2  A5 65              LDA $65
04527  BCE4  85 07              STA $07
04528  BCE6  4C D2 B8           JMP XXB8D2
04529  BCE9              ;********************************
04530  BCE9              ; CLEAR FLOAT ACCU
04531  BCE9              ;********************************
04532  BCE9  85 62       XXBCE9 STA $62
04533  BCEB  85 63              STA $63
04534  BCED  85 64              STA $64
04535  BCEF  85 65              STA $65
04536  BCF1  A8                 TAY 
04537  BCF2  60          XXBCF2 RTS 
04538  BCF3              ;********************************
04539  BCF3              ; CONVERT STRING TO FLOAT IN FLOAT ACCU
04540  BCF3              ;********************************
04541  BCF3  A0 00       XXBCF3 LDY #$00
04542  BCF5  A2 0A              LDX #$0A
04543  BCF7  94 5D       XXBCF7 STY $5D,X
04544  BCF9  CA                 DEX 
04545  BCFA  10 FB              BPL XXBCF7
04546  BCFC  90 0F              BCC XXBD0D
04547  BCFE  C9 2D              CMP #$2D        ;'-'
04548  BD00  D0 04              BNE XXBD06
04549  BD02  86 67              STX $67
04550  BD04  F0 04              BEQ XXBD0A
04551  BD06  C9 2B       XXBD06 CMP #$2B        ;'+'






BASICV2A.ASM......PAGE 0087

LINE# LOC   CODE        LINE


04552  BD08  D0 05              BNE XXBD0F
04553  BD0A  20 73 00    XXBD0A JSR $0073
04554  BD0D  90 5B       XXBD0D BCC XXBD6A
04555  BD0F  C9 2E       XXBD0F CMP #$2E        ;'.'
04556  BD11  F0 2E              BEQ XXBD41
04557  BD13  C9 45              CMP #$45        ;'E'
04558  BD15  D0 30              BNE XXBD47
04559  BD17  20 73 00           JSR $0073
04560  BD1A  90 17              BCC XXBD33
04561  BD1C  C9 AB              CMP #$AB
04562  BD1E  F0 0E              BEQ XXBD2E
04563  BD20  C9 2D              CMP #$2D        ;'-'
04564  BD22  F0 0A              BEQ XXBD2E
04565  BD24  C9 AA              CMP #$AA
04566  BD26  F0 08              BEQ XXBD30
04567  BD28  C9 2B              CMP #$2B        ;'+'
04568  BD2A  F0 04              BEQ XXBD30
04569  BD2C  D0 07              BNE XXBD35
04570  BD2E  66 60       XXBD2E ROR $60
04571  BD30  20 73 00    XXBD30 JSR $0073
04572  BD33  90 5C       XXBD33 BCC XXBD91
04573  BD35  24 60       XXBD35 BIT $60
04574  BD37  10 0E              BPL XXBD47
04575  BD39  A9 00              LDA #$00
04576  BD3B  38                 SEC 
04577  BD3C  E5 5E              SBC $5E
04578  BD3E  4C 49 BD           JMP XXBD49
04579  BD41              ;********************************
04580  BD41              ;
04581  BD41              ;********************************
04582  BD41  66 5F       XXBD41 ROR $5F
04583  BD43  24 5F              BIT $5F
04584  BD45  50 C3              BVC XXBD0A
04585  BD47  A5 5E       XXBD47 LDA $5E
04586  BD49  38          XXBD49 SEC 
04587  BD4A  E5 5D              SBC $5D
04588  BD4C  85 5E              STA $5E
04589  BD4E  F0 12              BEQ XXBD62
04590  BD50  10 09              BPL XXBD5B
04591  BD52  20 FE BA    XXBD52 JSR XXBAFE
04592  BD55  E6 5E              INC $5E
04593  BD57  D0 F9              BNE XXBD52
04594  BD59  F0 07              BEQ XXBD62
04595  BD5B  20 E2 BA    XXBD5B JSR XXBAE2
04596  BD5E  C6 5E              DEC $5E
04597  BD60  D0 F9              BNE XXBD5B
04598  BD62  A5 67       XXBD62 LDA $67
04599  BD64  30 01              BMI XXBD67
04600  BD66  60                 RTS 
04601  BD67              ;********************************
04602  BD67              ;
04603  BD67              ;********************************
04604  BD67  4C B4 BF    XXBD67 JMP XXBFB4
04605  BD6A              ;********************************
04606  BD6A              ;






BASICV2A.ASM......PAGE 0088

LINE# LOC   CODE        LINE


04607  BD6A              ;********************************
04608  BD6A  48          XXBD6A PHA 
04609  BD6B  24 5F              BIT $5F
04610  BD6D  10 02              BPL XXBD71
04611  BD6F  E6 5D              INC $5D
04612  BD71  20 E2 BA    XXBD71 JSR XXBAE2
04613  BD74  68                 PLA 
04614  BD75  38                 SEC 
04615  BD76  E9 30              SBC #$30        ;'0'
04616  BD78  20 7E BD           JSR XXBD7E
04617  BD7B  4C 0A BD           JMP XXBD0A
04618  BD7E              ;********************************
04619  BD7E              ; ADD SIGNED INTEGER FROM A TO FLOAT ACCU
04620  BD7E              ;********************************
04621  BD7E  48          XXBD7E PHA 
04622  BD7F  20 0C BC           JSR XXBC0C
04623  BD82  68                 PLA 
04624  BD83  20 3C BC           JSR XXBC3C
04625  BD86  A5 6E              LDA $6E
04626  BD88  45 66              EOR $66
04627  BD8A  85 6F              STA $6F
04628  BD8C  A6 61              LDX $61
04629  BD8E  4C 6A B8           JMP XXB86A
04630  BD91              ;********************************
04631  BD91              ; GET EXPONENT OF NUMBER FROM STRING
04632  BD91              ;********************************
04633  BD91  A5 5E       XXBD91 LDA $5E
04634  BD93  C9 0A              CMP #$0A
04635  BD95  90 09              BCC XXBDA0
04636  BD97  A9 64              LDA #$64
04637  BD99  24 60              BIT $60
04638  BD9B  30 11              BMI XXBDAE
04639  BD9D  4C 7E B9           JMP XXB97E
04640  BDA0              ;********************************
04641  BDA0              ;
04642  BDA0              ;********************************
04643  BDA0  0A          XXBDA0 ASL A
04644  BDA1  0A                 ASL A
04645  BDA2  18                 CLC 
04646  BDA3  65 5E              ADC $5E
04647  BDA5  0A                 ASL A
04648  BDA6  18                 CLC 
04649  BDA7  A0 00              LDY #$00
04650  BDA9  71 7A              ADC ($7A),Y
04651  BDAB  38                 SEC 
04652  BDAC  E9 30              SBC #$30        ;'0'
04653  BDAE  85 5E       XXBDAE STA $5E
04654  BDB0  4C 30 BD           JMP XXBD30
04655  BDB3              ;********************************
04656  BDB3              ; CONSTANTS FOR FLOAT TO STRING CONVERSION
04657  BDB3              ;********************************
04658  BDB3  9B          ZZBDB3 .BYTE $9B,$3E,$BC,$1F,$FD
04658  BDB4  3E 
04658  BDB5  BC 
04658  BDB6  1F 






BASICV2A.ASM......PAGE 0089

LINE# LOC   CODE        LINE


04658  BDB7  FD 
04659  BDB8  9E                 .BYTE $9E,$6E,$6B,$27,$FD
04659  BDB9  6E 
04659  BDBA  6B 
04659  BDBB  27 
04659  BDBC  FD 
04660  BDBD  9E                 .BYTE $9E,$6E,$6B,$28,$00
04660  BDBE  6E 
04660  BDBF  6B 
04660  BDC0  28 
04660  BDC1  00 
04661  BDC2              ;********************************
04662  BDC2              ; PRINT IN FOLLOWED BY LINE NUMBER
04663  BDC2              ;********************************
04664  BDC2  A9 71       XXBDC2 LDA #$71        ; LOW  A371
04665  BDC4  A0 A3              LDY #$A3        ; HIGH A371
04666  BDC6  20 DA BD           JSR XXBDDA
04667  BDC9  A5 3A              LDA CURLIN+1
04668  BDCB  A6 39              LDX CURLIN
04669  BDCD              ;********************************
04670  BDCD              ; PRINT NUMBER FROM AX
04671  BDCD              ;********************************
04672  BDCD  85 62       XXBDCD STA $62
04673  BDCF  86 63              STX $63
04674  BDD1  A2 90              LDX #$90
04675  BDD3  38                 SEC 
04676  BDD4  20 49 BC           JSR XXBC49
04677  BDD7  20 DF BD           JSR XXBDDF
04678  BDDA  4C 1E AB    XXBDDA JMP XXAB1E
04679  BDDD              ;********************************
04680  BDDD              ; CONVERT NUMBER IN FLOAT ACCU TO STRING
04681  BDDD              ;********************************
04682  BDDD  A0 01       XXBDDD LDY #$01
04683  BDDF  A9 20       XXBDDF LDA #$20        ;' '
04684  BDE1  24 66              BIT $66
04685  BDE3  10 02              BPL XXBDE7
04686  BDE5  A9 2D              LDA #$2D        ;'-'
04687  BDE7  99 FF 00    XXBDE7 STA $00FF,Y
04688  BDEA  85 66              STA $66
04689  BDEC  84 71              STY $71
04690  BDEE  C8                 INY 
04691  BDEF  A9 30              LDA #$30        ;'0'
04692  BDF1  A6 61              LDX $61
04693  BDF3  D0 03              BNE XXBDF8
04694  BDF5  4C 04 BF           JMP XXBF04
04695  BDF8              ;********************************
04696  BDF8              ;
04697  BDF8              ;********************************
04698  BDF8  A9 00       XXBDF8 LDA #$00
04699  BDFA  E0 80              CPX #$80
04700  BDFC  F0 02              BEQ XXBE00
04701  BDFE  B0 09              BCS XXBE09
04702  BE00  A9 BD       XXBE00 LDA #$BD        ; LOW  BDBD
04703  BE02  A0 BD              LDY #$BD        ; HIGH BDBD
04704  BE04  20 28 BA           JSR XXBA28






BASICV2A.ASM......PAGE 0090

LINE# LOC   CODE        LINE


04705  BE07  A9 F7              LDA #$F7
04706  BE09  85 5D       XXBE09 STA $5D
04707  BE0B  A9 B8       XXBE0B LDA #$B8        ; LOW  BDB8
04708  BE0D  A0 BD              LDY #$BD        ; HIGH BDB8
04709  BE0F  20 5B BC           JSR XXBC5B
04710  BE12  F0 1E              BEQ XXBE32
04711  BE14  10 12              BPL XXBE28
04712  BE16  A9 B3       XXBE16 LDA #$B3        ; LOW  BDB3
04713  BE18  A0 BD              LDY #$BD        ; HIGH BDB3
04714  BE1A  20 5B BC           JSR XXBC5B
04715  BE1D  F0 02              BEQ XXBE21
04716  BE1F  10 0E              BPL XXBE2F
04717  BE21  20 E2 BA    XXBE21 JSR XXBAE2
04718  BE24  C6 5D              DEC $5D
04719  BE26  D0 EE              BNE XXBE16
04720  BE28  20 FE BA    XXBE28 JSR XXBAFE
04721  BE2B  E6 5D              INC $5D
04722  BE2D  D0 DC              BNE XXBE0B
04723  BE2F  20 49 B8    XXBE2F JSR XXB849
04724  BE32  20 9B BC    XXBE32 JSR XXBC9B
04725  BE35  A2 01              LDX #$01
04726  BE37  A5 5D              LDA $5D
04727  BE39  18                 CLC 
04728  BE3A  69 0A              ADC #$0A
04729  BE3C  30 09              BMI XXBE47
04730  BE3E  C9 0B              CMP #$0B
04731  BE40  B0 06              BCS XXBE48
04732  BE42  69 FF              ADC #$FF
04733  BE44  AA                 TAX 
04734  BE45  A9 02              LDA #$02
04735  BE47  38          XXBE47 SEC 
04736  BE48  E9 02       XXBE48 SBC #$02
04737  BE4A  85 5E              STA $5E
04738  BE4C  86 5D              STX $5D
04739  BE4E  8A                 TXA 
04740  BE4F  F0 02              BEQ XXBE53
04741  BE51  10 13              BPL XXBE66
04742  BE53  A4 71       XXBE53 LDY $71
04743  BE55  A9 2E              LDA #$2E        ;'.'
04744  BE57  C8                 INY 
04745  BE58  99 FF 00           STA $00FF,Y
04746  BE5B  8A                 TXA 
04747  BE5C  F0 06              BEQ XXBE64
04748  BE5E  A9 30              LDA #$30        ;'0'
04749  BE60  C8                 INY 
04750  BE61  99 FF 00           STA $00FF,Y
04751  BE64  84 71       XXBE64 STY $71
04752  BE66  A0 00       XXBE66 LDY #$00
04753  BE68  A2 80       XXBE68 LDX #$80
04754  BE6A  A5 65       XXBE6A LDA $65
04755  BE6C  18                 CLC 
04756  BE6D  79 19 BF           ADC XXBF19,Y
04757  BE70  85 65              STA $65
04758  BE72  A5 64              LDA $64
04759  BE74  79 18 BF           ADC XXBF18,Y






BASICV2A.ASM......PAGE 0091

LINE# LOC   CODE        LINE


04760  BE77  85 64              STA $64
04761  BE79  A5 63              LDA $63
04762  BE7B  79 17 BF           ADC XXBF17,Y
04763  BE7E  85 63              STA $63
04764  BE80  A5 62              LDA $62
04765  BE82  79 16 BF           ADC XXBF16,Y
04766  BE85  85 62              STA $62
04767  BE87  E8                 INX 
04768  BE88  B0 04              BCS XXBE8E
04769  BE8A  10 DE              BPL XXBE6A
04770  BE8C  30 02              BMI XXBE90
04771  BE8E  30 DA       XXBE8E BMI XXBE6A
04772  BE90  8A          XXBE90 TXA 
04773  BE91  90 04              BCC XXBE97
04774  BE93  49 FF              EOR #$FF
04775  BE95  69 0A              ADC #$0A
04776  BE97  69 2F       XXBE97 ADC #$2F        ;'/'
04777  BE99  C8                 INY 
04778  BE9A  C8                 INY 
04779  BE9B  C8                 INY 
04780  BE9C  C8                 INY 
04781  BE9D  84 47              STY $47
04782  BE9F  A4 71              LDY $71
04783  BEA1  C8                 INY 
04784  BEA2  AA                 TAX 
04785  BEA3  29 7F              AND #$7F
04786  BEA5  99 FF 00           STA $00FF,Y
04787  BEA8  C6 5D              DEC $5D
04788  BEAA  D0 06              BNE XXBEB2
04789  BEAC  A9 2E              LDA #$2E        ;'.'
04790  BEAE  C8                 INY 
04791  BEAF  99 FF 00           STA $00FF,Y
04792  BEB2  84 71       XXBEB2 STY $71
04793  BEB4  A4 47              LDY $47
04794  BEB6  8A                 TXA 
04795  BEB7  49 FF              EOR #$FF
04796  BEB9  29 80              AND #$80
04797  BEBB  AA                 TAX 
04798  BEBC  C0 24              CPY #$24        ;'$'
04799  BEBE  F0 04              BEQ XXBEC4
04800  BEC0  C0 3C              CPY #$3C        ;'<'
04801  BEC2  D0 A6              BNE XXBE6A
04802  BEC4  A4 71       XXBEC4 LDY $71
04803  BEC6  B9 FF 00    XXBEC6 LDA $00FF,Y
04804  BEC9  88                 DEY 
04805  BECA  C9 30              CMP #$30        ;'0'
04806  BECC  F0 F8              BEQ XXBEC6
04807  BECE  C9 2E              CMP #$2E        ;'.'
04808  BED0  F0 01              BEQ XXBED3
04809  BED2  C8                 INY 
04810  BED3  A9 2B       XXBED3 LDA #$2B        ;'+'
04811  BED5  A6 5E              LDX $5E
04812  BED7  F0 2E              BEQ XXBF07
04813  BED9  10 08              BPL XXBEE3
04814  BEDB  A9 00              LDA #$00






BASICV2A.ASM......PAGE 0092

LINE# LOC   CODE        LINE


04815  BEDD  38                 SEC 
04816  BEDE  E5 5E              SBC $5E
04817  BEE0  AA                 TAX 
04818  BEE1  A9 2D              LDA #$2D        ;'-'
04819  BEE3  99 01 01    XXBEE3 STA STACK+1,Y
04820  BEE6  A9 45              LDA #$45        ;'E'
04821  BEE8  99 00 01           STA STACK,Y
04822  BEEB  8A                 TXA 
04823  BEEC  A2 2F              LDX #$2F        ;'/'
04824  BEEE  38                 SEC 
04825  BEEF  E8          XXBEEF INX 
04826  BEF0  E9 0A              SBC #$0A
04827  BEF2  B0 FB              BCS XXBEEF
04828  BEF4  69 3A              ADC #$3A        ;':'
04829  BEF6  99 03 01           STA STACK+3,Y
04830  BEF9  8A                 TXA 
04831  BEFA  99 02 01           STA STACK+2,Y
04832  BEFD  A9 00              LDA #$00
04833  BEFF  99 04 01           STA STACK+4,Y
04834  BF02  F0 08              BEQ XXBF0C
04835  BF04  99 FF 00    XXBF04 STA $00FF,Y
04836  BF07  A9 00       XXBF07 LDA #$00
04837  BF09  99 00 01           STA STACK,Y
04838  BF0C  A9 00       XXBF0C LDA #$00        ; LOW  0100
04839  BF0E  A0 01              LDY #$01        ; HIGH 0100
04840  BF10  60                 RTS 
04841  BF11              ;********************************
04842  BF11              ; 0.5
04843  BF11              ;********************************
04844  BF11  80          ZZBF11 .BYTE $80,$00,$00,$00,$00
04844  BF12  00 
04844  BF13  00 
04844  BF14  00 
04844  BF15  00 
04845  BF16              ;********************************
04846  BF16              ; DIVISORS FOR DECIMAL CONVERSION
04847  BF16              ;********************************
04848  BF16  FA          XXBF16 .BYTE $FA
04849  BF17  0A          XXBF17 .BYTE $0A
04850  BF18  1F          XXBF18 .BYTE $1F
04851  BF19  00          XXBF19 .BYTE $00
04852  BF1A  00          ZZBF1A .BYTE $00,$98,$96,$80
04852  BF1B  98 
04852  BF1C  96 
04852  BF1D  80 
04853  BF1E  FF                 .BYTE $FF,$F0,$BD,$C0
04853  BF1F  F0 
04853  BF20  BD 
04853  BF21  C0 
04854  BF22  00                 .BYTE $00,$01,$86,$A0
04854  BF23  01 
04854  BF24  86 
04854  BF25  A0 
04855  BF26  FF                 .BYTE $FF,$FF,$D8,$F0
04855  BF27  FF 






BASICV2A.ASM......PAGE 0093

LINE# LOC   CODE        LINE


04855  BF28  D8 
04855  BF29  F0 
04856  BF2A  00                 .BYTE $00,$00,$03,$E8
04856  BF2B  00 
04856  BF2C  03 
04856  BF2D  E8 
04857  BF2E  FF                 .BYTE $FF,$FF,$FF,$9C
04857  BF2F  FF 
04857  BF30  FF 
04857  BF31  9C 
04858  BF32  00                 .BYTE $00,$00,$00,$0A
04858  BF33  00 
04858  BF34  00 
04858  BF35  0A 
04859  BF36  FF                 .BYTE $FF,$FF,$FF,$FF
04859  BF37  FF 
04859  BF38  FF 
04859  BF39  FF 
04860  BF3A              ;********************************
04861  BF3A              ; DIVISORS FOR TIME CONVERSION
04862  BF3A              ;********************************
04863  BF3A  FF          ZZBF3A .BYTE $FF,$DF,$0A,$80
04863  BF3B  DF 
04863  BF3C  0A 
04863  BF3D  80 
04864  BF3E  00                 .BYTE $00,$03,$4B,$C0
04864  BF3F  03 
04864  BF40  4B 
04864  BF41  C0 
04865  BF42  FF                 .BYTE $FF,$FF,$73,$60
04865  BF43  FF 
04865  BF44  73 
04865  BF45  60 
04866  BF46  00                 .BYTE $00,$00,$0E,$10
04866  BF47  00 
04866  BF48  0E 
04866  BF49  10 
04867  BF4A  FF                 .BYTE $FF,$FF,$FD,$A8
04867  BF4B  FF 
04867  BF4C  FD 
04867  BF4D  A8 
04868  BF4E  00                 .BYTE $00,$00,$00,$3C
04868  BF4F  00 
04868  BF50  00 
04868  BF51  3C 
04869  BF52              ;********************************
04870  BF52              ; UNUSED
04871  BF52              ; IS THIS SOME VERSION ID?
04872  BF52              ;********************************
04873  BF52  EC          ZZBF52 .BYTE $EC
04874  BF53              ;********************************
04875  BF53              ; UNUSED
04876  BF53              ;********************************
04877  BF53  AA          ZZBF53 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
04877  BF54  AA 






BASICV2A.ASM......PAGE 0094

LINE# LOC   CODE        LINE


04877  BF55  AA 
04877  BF56  AA 
04877  BF57  AA 
04877  BF58  AA 
04877  BF59  AA 
04877  BF5A  AA 
04878  BF5B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
04878  BF5C  AA 
04878  BF5D  AA 
04878  BF5E  AA 
04878  BF5F  AA 
04878  BF60  AA 
04878  BF61  AA 
04878  BF62  AA 
04879  BF63  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
04879  BF64  AA 
04879  BF65  AA 
04879  BF66  AA 
04879  BF67  AA 
04879  BF68  AA 
04879  BF69  AA 
04879  BF6A  AA 
04880  BF6B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
04880  BF6C  AA 
04880  BF6D  AA 
04880  BF6E  AA 
04880  BF6F  AA 
04880  BF70  AA 
04881  BF71              ;********************************
04882  BF71              ; SQR FUNCTION
04883  BF71              ;********************************
04884  BF71  20 0C BC    XXBF71 JSR XXBC0C
04885  BF74  A9 11              LDA #$11
04886  BF76  A0 BF              LDY #$BF
04887  BF78  20 A2 BB           JSR XXBBA2
04888  BF7B  F0 70              BEQ XXBFED
04889  BF7D              ;********************************
04890  BF7D              ; POWER OPERATOR
04891  BF7D              ;********************************
04892  BF7D  A5 69       ZZBF7B LDA $69
04893  BF7F  D0 03              BNE XXBF84
04894  BF81  4C F9 B8           JMP XXB8F9
04895  BF84              ;********************************
04896  BF84              ;
04897  BF84              ;********************************
04898  BF84  A2 4E       XXBF84 LDX #$4E        ; LOW  004E
04899  BF86  A0 00              LDY #$00        ; HIGH 004E
04900  BF88  20 D4 BB           JSR XXBBD4
04901  BF8B  A5 6E              LDA $6E
04902  BF8D  10 0F              BPL XXBF9E
04903  BF8F  20 CC BC           JSR XXBCCC
04904  BF92  A9 4E              LDA #$4E        ; LOW  004E
04905  BF94  A0 00              LDY #$00        ; HIGH 004E
04906  BF96  20 5B BC           JSR XXBC5B
04907  BF99  D0 03              BNE XXBF9E






BASICV2A.ASM......PAGE 0095

LINE# LOC   CODE        LINE


04908  BF9B  98                 TYA 
04909  BF9C  A4 07              LDY $07
04910  BF9E  20 FE BB    XXBF9E JSR XXBBFE
04911  BFA1  98                 TYA 
04912  BFA2  48                 PHA 
04913  BFA3  20 EA B9           JSR XXB9EA
04914  BFA6  A9 4E              LDA #$4E        ; LOW  004E
04915  BFA8  A0 00              LDY #$00        ; HIGH 004E
04916  BFAA  20 28 BA           JSR XXBA28
04917  BFAD  20 ED BF           JSR XXBFED
04918  BFB0  68                 PLA 
04919  BFB1  4A                 LSR A
04920  BFB2  90 0A              BCC XXBFBE
04921  BFB4              ;********************************
04922  BFB4              ; MINUS OPERATOR
04923  BFB4              ;********************************
04924  BFB4  A5 61       XXBFB4 LDA $61
04925  BFB6  F0 06              BEQ XXBFBE
04926  BFB8  A5 66              LDA $66
04927  BFBA  49 FF              EOR #$FF
04928  BFBC  85 66              STA $66
04929  BFBE  60          XXBFBE RTS 
04930  BFBF              ;********************************
04931  BFBF              ; FLOATING POINT CONSTANDS FOR EXP
04932  BFBF              ;
04933  BFBF              ; 1/LOG(2)
04934  BFBF              ;********************************
04935  BFBF  81          ZZBFBF .BYTE $81,$38,$AA,$3B,$29
04935  BFC0  38 
04935  BFC1  AA 
04935  BFC2  3B 
04935  BFC3  29 
04936  BFC4              ;********************************
04937  BFC4              ; EXP POLYNOMIAL TABLE
04938  BFC4              ;********************************
04939  BFC4  07          ZZBFC4 .BYTE $07       ; DEGREE 8
04940  BFC5  71                 .BYTE $71,$34,$58,$3E,$56
04940  BFC6  34 
04940  BFC7  58 
04940  BFC8  3E 
04940  BFC9  56 
04941  BFCA  74                 .BYTE $74,$16,$7E,$B3,$1B
04941  BFCB  16 
04941  BFCC  7E 
04941  BFCD  B3 
04941  BFCE  1B 
04942  BFCF  77                 .BYTE $77,$2F,$EE,$E3,$85
04942  BFD0  2F 
04942  BFD1  EE 
04942  BFD2  E3 
04942  BFD3  85 
04943  BFD4  7A                 .BYTE $7A,$1D,$84,$1C,$2A
04943  BFD5  1D 
04943  BFD6  84 
04943  BFD7  1C 






BASICV2A.ASM......PAGE 0096

LINE# LOC   CODE        LINE


04943  BFD8  2A 
04944  BFD9  7C                 .BYTE $7C,$63,$59,$58,$0A
04944  BFDA  63 
04944  BFDB  59 
04944  BFDC  58 
04944  BFDD  0A 
04945  BFDE  7E                 .BYTE $7E,$75,$FD,$E7,$C6
04945  BFDF  75 
04945  BFE0  FD 
04945  BFE1  E7 
04945  BFE2  C6 
04946  BFE3  80                 .BYTE $80,$31,$72,$18,$10
04946  BFE4  31 
04946  BFE5  72 
04946  BFE6  18 
04946  BFE7  10 
04947  BFE8  81                 .BYTE $81,$00,$00,$00,$00
04947  BFE9  00 
04947  BFEA  00 
04947  BFEB  00 
04947  BFEC  00 
04948  BFED              ;********************************
04949  BFED              ; EXP COMMAND
04950  BFED              ;********************************
04951  BFED  A9 BF       XXBFED LDA #$BF
04952  BFEF  A0 BF              LDY #$BF
04953  BFF1  20 28 BA           JSR XXBA28
04954  BFF4  A5 70              LDA $70
04955  BFF6  69 50              ADC #$50        ;'P'
04956  BFF8  90 03              BCC XXBFFD
04957  BFFA  20 23 BC           JSR XXBC23
04958  BFFD  4C 00 E0    XXBFFD JMP KERNAL      ;$E000
04959  C000              ;********************************
04960  C000              .END


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 AAA00E   A00E    ARYTAB   002F    BASCLD   E394    BASWRM   E37B
 CLALL    FFE7    CURLIN   0039    DATLIN   003F    DATPRT   0041
 FRESPC   0035    FRETOP   0033    INDEX    0022    KERNAL   E000
 LASTPT   0017    LINNUM   0014    MEMSIZ   0037    OLDLIN   003B
 OLDTXT   003D    RESHO    0026    STACK    0100    STREND   0031
 TEMPPT   0016    TEMPST   0019    TXTTAB   002B    VARTAB   002D
 WWB1A5   B1A5    WWB9BC   B9BC    WWB9C1   B9C1    WWB9D6   B9D6
 WWB9DB   B9DB    WWB9E0   B9E0    WWB9E5   B9E5    WWBAF9   BAF9
 XXA080   A080    XXA081   A081    XXA082   A082    XXA09D   A09D
 XXA09E   A09E    XXA19E   A19E    XXA1AC   A1AC    XXA1B5   A1B5
 XXA1C2   A1C2    XXA1D0   A1D0    XXA1E2   A1E2    XXA1F0   A1F0
 XXA1FF   A1FF    XXA210   A210    XXA225   A225    XXA235   A235








SYMBOL TABLE

SYMBOL VALUE
 XXA23B   A23B    XXA24F   A24F    XXA25A   A25A    XXA26A   A26A
 XXA272   A272    XXA27F   A27F    XXA290   A290    XXA29D   A29D
 XXA2AA   A2AA    XXA2BA   A2BA    XXA2C8   A2C8    XXA2D5   A2D5
 XXA2E4   A2E4    XXA2ED   A2ED    XXA300   A300    XXA30E   A30E
 XXA31E   A31E    XXA324   A324    XXA327   A327    XXA383   A383
 XXA38A   A38A    XXA38F   A38F    XXA3A4   A3A4    XXA3B0   A3B0
 XXA3B7   A3B7    XXA3B8   A3B8    XXA3BF   A3BF    XXA3DC   A3DC
 XXA3E8   A3E8    XXA3EC   A3EC    XXA3F3   A3F3    XXA3FB   A3FB
 XXA408   A408    XXA412   A412    XXA416   A416    XXA421   A421
 XXA434   A434    XXA435   A435    XXA437   A437    XXA456   A456
 XXA469   A469    XXA474   A474    XXA480   A480    XXA49C   A49C
 XXA4D7   A4D7    XXA4DF   A4DF    XXA4ED   A4ED    XXA508   A508
 XXA522   A522    XXA533   A533    XXA53C   A53C    XXA544   A544
 XXA55F   A55F    XXA560   A560    XXA562   A562    XXA576   A576
 XXA579   A579    XXA582   A582    XXA58E   A58E    XXA5A4   A5A4
 XXA5AC   A5AC    XXA5B6   A5B6    XXA5B8   A5B8    XXA5C7   A5C7
 XXA5C9   A5C9    XXA5DC   A5DC    XXA5DE   A5DE    XXA5E5   A5E5
 XXA5EE   A5EE    XXA5F5   A5F5    XXA5F9   A5F9    XXA609   A609
 XXA613   A613    XXA617   A617    XXA62E   A62E    XXA637   A637
 XXA640   A640    XXA641   A641    XXA659   A659    XXA660   A660
 XXA67A   A67A    XXA68D   A68D    XXA68E   A68E    XXA69B   A69B
 XXA6A4   A6A4    XXA6BB   A6BB    XXA6C9   A6C9    XXA6E6   A6E6
 XXA6E8   A6E8    XXA6EF   A6EF    XXA6F3   A6F3    XXA700   A700
 XXA714   A714    XXA717   A717    XXA72C   A72C    XXA72F   A72F
 XXA737   A737    XXA753   A753    XXA79F   A79F    XXA7AE   A7AE
 XXA7BE   A7BE    XXA7CE   A7CE    XXA7E1   A7E1    XXA7ED   A7ED
 XXA7EF   A7EF    XXA804   A804    XXA807   A807    XXA80B   A80B
 XXA80E   A80E    XXA81D   A81D    XXA827   A827    XXA82B   A82B
 XXA82C   A82C    XXA832   A832    XXA849   A849    XXA84B   A84B
 XXA854   A854    XXA862   A862    XXA870   A870    XXA87D   A87D
 XXA897   A897    XXA8A0   A8A0    XXA8BC   A8BC    XXA8C0   A8C0
 XXA8D1   A8D1    XXA8E3   A8E3    XXA8E8   A8E8    XXA8EB   A8EB
 XXA8F8   A8F8    XXA8FB   A8FB    XXA905   A905    XXA906   A906
 XXA909   A909    XXA911   A911    XXA919   A919    XXA937   A937
 XXA940   A940    XXA948   A948    XXA953   A953    XXA957   A957
 XXA95F   A95F    XXA96A   A96A    XXA96B   A96B    XXA971   A971
 XXA99F   A99F    XXA9A5   A9A5    XXA9C2   A9C2    XXA9D6   A9D6
 XXA9D9   A9D9    XXA9DA   A9DA    XXA9ED   A9ED    XXAA07   AA07
 XXAA1D   AA1D    XXAA24   AA24    XXAA27   AA27    XXAA2C   AA2C
 XXAA3D   AA3D    XXAA4B   AA4B    XXAA52   AA52    XXAA68   AA68
 XXAA7F   AA7F    XXAA86   AA86    XXAA90   AA90    XXAA9A   AA9A
 XXAA9D   AA9D    XXAAA0   AAA0    XXAAA2   AAA2    XXAACA   AACA
 XXAAD7   AAD7    XXAAE5   AAE5    XXAAE7   AAE7    XXAAE8   AAE8
 XXAAEE   AAEE    XXAAF8   AAF8    XXAB0E   AB0E    XXAB0F   AB0F
 XXAB10   AB10    XXAB13   AB13    XXAB19   AB19    XXAB1E   AB1E
 XXAB21   AB21    XXAB28   AB28    XXAB3B   AB3B    XXAB42   AB42
 XXAB45   AB45    XXAB47   AB47    XXAB4D   AB4D    XXAB57   AB57
 XXAB5B   AB5B    XXAB5F   AB5F    XXAB62   AB62    XXAB6B   AB6B
 XXAB7A   AB7A    XXAB92   AB92    XXABA4   ABA4    XXABB5   ABB5
 XXABB7   ABB7    XXABBE   ABBE    XXABCE   ABCE    XXABD6   ABD6
 XXABEA   ABEA    XXABF9   ABF9    XXAC03   AC03    XXAC0D   AC0D
 XXAC0F   AC0F    XXAC15   AC15    XXAC41   AC41    XXAC4A   AC4A
 XXAC4D   AC4D    XXAC51   AC51    XXAC65   AC65    XXAC71   AC71
 XXAC72   AC72    XXAC7D   AC7D    XXAC89   AC89    XXAC91   AC91
 XXAC9D   AC9D    XXACB8   ACB8    XXACD1   ACD1    XXACDF   ACDF








SYMBOL TABLE

SYMBOL VALUE
 XXACEA   ACEA    XXACFB   ACFB    XXAD1D   AD1D    XXAD24   AD24
 XXAD27   AD27    XXAD32   AD32    XXAD35   AD35    XXAD75   AD75
 XXAD78   AD78    XXAD8A   AD8A    XXAD8D   AD8D    XXAD8F   AD8F
 XXAD90   AD90    XXAD96   AD96    XXAD97   AD97    XXAD99   AD99
 XXAD9E   AD9E    XXADA4   ADA4    XXADA9   ADA9    XXADB8   ADB8
 XXADBB   ADBB    XXADD7   ADD7    XXADE8   ADE8    XXADF0   ADF0
 XXADF9   ADF9    XXADFA   ADFA    XXAE07   AE07    XXAE11   AE11
 XXAE19   AE19    XXAE20   AE20    XXAE30   AE30    XXAE33   AE33
 XXAE38   AE38    XXAE43   AE43    XXAE58   AE58    XXAE5B   AE5B
 XXAE5D   AE5D    XXAE64   AE64    XXAE66   AE66    XXAE80   AE80
 XXAE83   AE83    XXAE8A   AE8A    XXAE8F   AE8F    XXAE92   AE92
 XXAE9A   AE9A    XXAEAD   AEAD    XXAEBD   AEBD    XXAEC6   AEC6
 XXAECC   AECC    XXAEE3   AEE3    XXAEEA   AEEA    XXAEF1   AEF1
 XXAEF7   AEF7    XXAEFA   AEFA    XXAEFD   AEFD    XXAEFF   AEFF
 XXAF08   AF08    XXAF0D   AF0D    XXAF0F   AF0F    XXAF14   AF14
 XXAF27   AF27    XXAF28   AF28    XXAF5C   AF5C    XXAF5D   AF5D
 XXAF6E   AF6E    XXAF84   AF84    XXAF92   AF92    XXAFA0   AFA0
 XXAFA7   AFA7    XXAFD1   AFD1    XXAFD6   AFD6    XXB02E   B02E
 XXB056   B056    XXB05B   B05B    XXB061   B061    XXB066   B066
 XXB072   B072    XXB07B   B07B    XXB07E   B07E    XXB08B   B08B
 XXB090   B090    XXB092   B092    XXB09C   B09C    XXB09F   B09F
 XXB0AF   B0AF    XXB0B0   B0B0    XXB0BA   B0BA    XXB0C4   B0C4
 XXB0D4   B0D4    XXB0DB   B0DB    XXB0E7   B0E7    XXB0EF   B0EF
 XXB0F1   B0F1    XXB0FB   B0FB    XXB109   B109    XXB113   B113
 XXB11C   B11C    XXB11D   B11D    XXB123   B123    XXB128   B128
 XXB138   B138    XXB13B   B13B    XXB143   B143    XXB159   B159
 XXB185   B185    XXB18F   B18F    XXB194   B194    XXB1A0   B1A0
 XXB1B2   B1B2    XXB1B8   B1B8    XXB1BF   B1BF    XXB1CC   B1CC
 XXB1CE   B1CE    XXB1D1   B1D1    XXB1DB   B1DB    XXB21C   B21C
 XXB228   B228    XXB237   B237    XXB245   B245    XXB248   B248
 XXB24A   B24A    XXB24D   B24D    XXB261   B261    XXB274   B274
 XXB27D   B27D    XXB286   B286    XXB296   B296    XXB2B9   B2B9
 XXB2C8   B2C8    XXB2CD   B2CD    XXB2EA   B2EA    XXB2F2   B2F2
 XXB308   B308    XXB30B   B30B    XXB30E   B30E    XXB30F   B30F
 XXB320   B320    XXB331   B331    XXB337   B337    XXB34B   B34B
 XXB34C   B34C    XXB355   B355    XXB35F   B35F    XXB378   B378
 XXB37D   B37D    XXB384   B384    XXB391   B391    XXB39E   B39E
 XXB3A2   B3A2    XXB3A6   B3A6    XXB3AE   B3AE    XXB3E1   B3E1
 XXB3F4   B3F4    XXB418   B418    XXB449   B449    XXB44F   B44F
 XXB465   B465    XXB46F   B46F    XXB475   B475    XXB47D   B47D
 XXB487   B487    XXB48D   B48D    XXB497   B497    XXB4A4   B4A4
 XXB4A8   B4A8    XXB4A9   B4A9    XXB4B5   B4B5    XXB4BF   B4BF
 XXB4CA   B4CA    XXB4D2   B4D2    XXB4D5   B4D5    XXB4F4   B4F4
 XXB4F6   B4F6    XXB501   B501    XXB50B   B50B    XXB516   B516
 XXB526   B526    XXB52A   B52A    XXB544   B544    XXB54D   B54D
 XXB559   B559    XXB561   B561    XXB566   B566    XXB56E   B56E
 XXB572   B572    XXB57D   B57D    XXB5AE   B5AE    XXB5B0   B5B0
 XXB5B8   B5B8    XXB5BD   B5BD    XXB5C7   B5C7    XXB5DC   B5DC
 XXB5E6   B5E6    XXB5F6   B5F6    XXB601   B601    XXB606   B606
 XXB63D   B63D    XXB65D   B65D    XXB67A   B67A    XXB688   B688
 XXB68C   B68C    XXB690   B690    XXB699   B699    XXB6A2   B6A2
 XXB6A3   B6A3    XXB6A6   B6A6    XXB6AA   B6AA    XXB6D5   B6D5
 XXB6D6   B6D6    XXB6DB   B6DB    XXB6EB   B6EB    XXB6EC   B6EC
 XXB700   B700    XXB706   B706    XXB70C   B70C    XXB70D   B70D
 XXB70E   B70E    XXB725   B725    XXB72C   B72C    XXB737   B737








SYMBOL TABLE

SYMBOL VALUE
 XXB748   B748    XXB761   B761    XXB77C   B77C    XXB782   B782
 XXB78B   B78B    XXB798   B798    XXB79B   B79B    XXB79E   B79E
 XXB7A1   B7A1    XXB7AD   B7AD    XXB7B5   B7B5    XXB7CD   B7CD
 XXB7E2   B7E2    XXB7EB   B7EB    XXB7F1   B7F1    XXB7F7   B7F7
 XXB80D   B80D    XXB82C   B82C    XXB83C   B83C    XXB840   B840
 XXB848   B848    XXB849   B849    XXB850   B850    XXB862   B862
 XXB867   B867    XXB86A   B86A    XXB86F   B86F    XXB877   B877
 XXB893   B893    XXB897   B897    XXB8A3   B8A3    XXB8AF   B8AF
 XXB8D2   B8D2    XXB8D7   B8D7    XXB8DB   B8DB    XXB8F7   B8F7
 XX