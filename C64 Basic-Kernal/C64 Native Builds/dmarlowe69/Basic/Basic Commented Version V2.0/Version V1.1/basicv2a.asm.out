BASICV2A.ASM......PAGE 0001

LINE# LOC   CODE        LINE


00001  0000              *=$A000
00002  A000              ;********************************
00003  A000              ; PAGE ZERO EQUATES
00004  A000              ;********************************
00005  A000              LINNUM = $14
00006  A000              TEMPPT = $16
00007  A000              LASTPT = $17
00008  A000              TEMPST = $19           ;NOT USED IN BASIC ROM
00009  A000              INDEX  = $22
00010  A000              RESHO  = $26
00011  A000              TXTTAB = $2B
00012  A000              VARTAB = $2D
00013  A000              ARYTAB = $2F
00014  A000              STREND = $31
00015  A000              FRETOP = $33
00016  A000              FRESPC = $35
00017  A000              MEMSIZ = $37
00018  A000              CURLIN = $39
00019  A000              OLDLIN = $3B
00020  A000              OLDTXT = $3D
00021  A000              DATLIN = $3F
00022  A000              DATPRT = $41
00023  A000              D
00024  A000              CHRGET = $73
00025  A000              ;********************************
00026  A000              ; PAGE ONE EQUATES
00027  A000              ;********************************
00028  A000              STACK  = $0100         ; PROCESSOR STACK
00029  A000              ;********************************
00030  A000              ; PAGE TWO EQUATES
00031  A000              ;********************************
00032  A000              BUF    = $0200
00033  A000              LAT    = $0259
00034  A000              FAT    = $0263
00035  A000              SAT    = $026D
00036  A000              KEYD   = $0277
00037  A000              MEMSTR = $0281
00038  A000              MEMSI2 = $0282
00039  A000              TIMOUT = $0285
00040  A000              COLOR  = $0286
00041  A000              GDCOL  = $0287
00042  A000              HIBASE = $0288
00043  A000              XMAX   = $0289
00044  A000              LSTSHF = $028E
00045  A000              KEYLOG = $028F
00046  A000              MODE   = $0291
00047  A000              AUTODN = $0292
00048  A000              ;********************************
00049  A000              ; RS-232 EQUATES
00050  A000              ;********************************
00051  A000              M51CTR = $0293
00052  A000              M51CDR = $0294
00053  A000              M51AJB = $0295
00054  A000              RSSTAT = $0297
00055  A000              BITNUM = $0298






BASICV2A.ASM......PAGE 0002

LINE# LOC   CODE        LINE


00056  A000              BAUDOF = $0299
00057  A000              RIDBE  = $029B
00058  A000              RIDBS  = $029C
00059  A000              RODBS  = $029D
00060  A000              RODBE  = $029E
00061  A000              IRQTMP = $029F
00062  A000              ENABL  = $02A1
00063  A000              CIA1CA = $02A2
00064  A000              CIA1IR = $02A3
00065  A000              CIA1CB = $02A4
00066  A000              NEXSRO = $02A5
00067  A000              PALNTS = $02A6
00068  A000              ;********************************
00069  A000              ; PAGE THREE EQUATES
00070  A000              ;********************************
00071  A000              IERROR = $0300
00072  A000              IMAIN  = $0302
00073  A000              ICRNCH = $0304
00074  A000              IQPLOP = $0306
00075  A000              IGONE  = $0308
00076  A000              IEVAL  = $030A
00077  A000              ;********************************
00078  A000              ; SYS - USR EQUATES
00079  A000              ;********************************
00080  A000              SAREG  = $030C
00081  A000              SXREG  = $030D
00082  A000              SYREG  = $030E
00083  A000              SPREG  = $030F
00084  A000              USRPOK = $0310
00085  A000              USRADD = $0311
00086  A000              ;********************************
00087  A000              ; 
00088  A000              ;********************************
00089  A000              CBINV  = $0316
00090  A000              NMINV  = $0318
00091  A000              ;********************************
00092  A000              ; KERNAL INDIRECT VECTORS 
00093  A000              ;********************************
00094  A000              IOPNE  = $031A
00095  A000              ICLOSE = $031C
00096  A000              ICHKIN = $031E
00097  A000              ICKOUT = $0320
00098  A000              ICLRCH = $0322
00099  A000              IBASIN = $0324
00100  A000              IBSOUT = $0326
00101  A000              ISTOP  = $0328
00102  A000              IGETIN = $032A
00103  A000              ICLALL = $032C
00104  A000              USRCMD = $03EE
00105  A000              ILOAD  = $0330
00106  A000              ISAVE  = $0332
00107  A000              ;********************************
00108  A000              ; CASSETTE I/O BUFFER $033C-$03FB 
00109  A000              ;********************************
00110  A000              TBUFER = $033C






BASICV2A.ASM......PAGE 0003

LINE# LOC   CODE        LINE


00111  A000              ;********************************
00112  A000              ; PAGE FOUR EQUATES
00113  A000              ;********************************
00114  A000              VICSCN = $0400
00115  A000              ;********************************
00116  A000              ; PAGE FIVE EQUATES
00117  A000              ;********************************
00118  A000              
00119  A000              ;********************************
00120  A000              ; PAGE SIX EQUATES
00121  A000              ;********************************
00122  A000              
00123  A000              ;********************************
00124  A000              ; PAGE SEVEN EQUATES
00125  A000              ;********************************
00126  A000              
00127  A000              ;********************************
00128  A000              ; PAGE EIGHT EQUATES
00129  A000              ;********************************
00130  A000              
00131  A000              ;********************************
00132  A000              ; KERNAL ROM EQUATES
00133  A000              ;********************************
00134  A000              KERNAL = $E000         ; START OF KERNAL ROM
00135  A000              BASCLD = $E394         ; BASIC COLD START ENTRY P
OINT
00136  A000              BASWRM = $E37B         ; BASIC WARM START ENTRY P
OINT
00137  A000              ;********************************
00138  A000              ; KERNAL ROM EQUATES
00139  A000              ;********************************
00140  A000              CLALL  = $FFE7         ; CLOSE ALL FILES
00141  A000              ;********************************
00142  A000              ;*** START OF THE BASIC ROM
00143  A000              ;********************************
00144  A000  94 E3       ZZA000 .WORD BASCLD    ; BASIC COLD START ENTRY P
OINT
00145  A002  7B E3       ZZA002 .WORD BASWRM    ; BASIC WARM START ENTRY P
OINT
00146  A004              ;********************************
00147  A004              ; CBMBASIC
00148  A004              ;********************************
00149  A004  43 42       ZZA004 .BYTE 'CBMBASIC'
00150  A00C              ;********************************
00151  A00C              ; ADDRESS TABLE FOR COMMANDS
00152  A00C              ; (ADDRESS MINUS 1 USED)
00153  A00C              ;********************************
00154  A00C  30 A8       ZZA00C .WORD ZZA831-1  ;$A830   ; END
00155  A00E  41 A7       AAA00E .WORD ZZA742-1  ;$A741   ; FOR
00156  A010  1D AD              .WORD ZZAD1E-1  ;$AD1D   ; NEXT
00157  A012  F7 A8              .WORD XXA8F8-1  ;$A8F7   ; DATA
00158  A014  A4 AB              .WORD ZZABA5-1  ;$ABA4   ; INPUT#
00159  A016  BE AB              .WORD ZZABBF-1  ;$ABBE   ; INPUT
00160  A018  80 B0              .WORD ZZB081-1  ;$B080   ; DIM
00161  A01A  05 AC              .WORD $AC05     ; READ
00162  A01C  A4 A9              .WORD $A9A4     ; LET
00163  A01E  9F A8              .WORD $A89F     ; GOTO
00164  A020  70 A8              .WORD $A870     ; RUN
00165  A022  27 A9              .WORD $A927     ; IF






BASICV2A.ASM......PAGE 0004

LINE# LOC   CODE        LINE


00166  A024  1C A8              .WORD $A81C     ; RESTORE
00167  A026  82 A8              .WORD $A882     ; GOSUB
00168  A028  D1 A8              .WORD $A8D1     ; RETURN
00169  A02A  3A A9              .WORD $A93A     ; REM
00170  A02C  2E A8              .WORD $A82E     ; STOP
00171  A02E  4A A9              .WORD $A94A     ; ON
00172  A030  2C B8              .WORD $B82C     ; WAIT
00173  A032  67 E1              .WORD $E167     ; LOAD
00174  A034  55 E1              .WORD $E155     ; SAVE
00175  A036  64 E1              .WORD $E164     ; VERIFY
00176  A038  B2 B3              .WORD $B3B2     ; DEF
00177  A03A  23 B8              .WORD $B823     ; POKE
00178  A03C  7F AA              .WORD $AA7F     ; PRINT#
00179  A03E  9F AA              .WORD $AA9F     ; PRINT
00180  A040  56 A8              .WORD $A856     ; CONT
00181  A042  9B A6              .WORD $A69B     ; LIST
00182  A044  5D A6              .WORD $A65D     ; CLR
00183  A046  85 AA              .WORD $AA85     ; CMD
00184  A048  29 E1              .WORD $E129     ; SYS
00185  A04A  BD E1              .WORD $E1BD     ; OPEN
00186  A04C  C6 E1              .WORD $E1C6     ; CLOSE
00187  A04E  7A AB              .WORD $AB7A     ; GET
00188  A050  41 A6              .WORD $A641     ; NEW
00189  A052              ;
00190  A052              ; ADDRESS TABLE FOR FUNCTIONS
00191  A052              ;
00192  A052  39 BC       ZZA052 .WORD $BC39     ; SGN
00193  A054  CC BC              .WORD $BCCC     ; INT
00194  A056  58 BC              .WORD $BC58     ; ABS
00195  A058  10 03              .WORD USRPOK    ; USR
00196  A05A  7D B3              .WORD $B37D     ; FRE
00197  A05C  9E B3              .WORD $B39E     ; POS
00198  A05E  71 BF              .WORD $BF71     ; SQR
00199  A060  97 E0              .WORD $E097     ; RND
00200  A062  EA B9              .WORD $B9EA     ; LOG
00201  A064  ED BF              .WORD $BFED     ; EXP
00202  A066  64 E2              .WORD $E264     ; COS
00203  A068  6B E2              .WORD $E26B     ; SIN
00204  A06A  B4 E2              .WORD $E2B4     ; TAN
00205  A06C  0E E3              .WORD $E30E     ; ATN
00206  A06E  0D B8              .WORD $B80D     ; PEEK
00207  A070  7C B7              .WORD $B77C     ; LEN
00208  A072  65 B4              .WORD $B465     ; STR$
00209  A074  AD B7              .WORD $B7AD     ; VAL
00210  A076  8B B7              .WORD $B78B     ; ASC
00211  A078  EC B6              .WORD $B6EC     ; CHR$
00212  A07A  00 B7              .WORD $B700     ; LEFT$
00213  A07C  2C B7              .WORD $B72C     ; RIGHT$
00214  A07E  37 B7              .WORD $B737     ; MID$
00215  A080              ;********************************
00216  A080              ; PRIORITY AND ADDRESS TABLE
00217  A080              ; FOR OPERATORS
00218  A080              ; (ADDRESS MINUS 1 USED)
00219  A080              ;
00220  A080              ;*** PRECEDENCE BYTE AND ACTION ADDRESSES






BASICV2A.ASM......PAGE 0005

LINE# LOC   CODE        LINE


00221  A080              ; FOR OPERATORS
00222  A080              ; LIKE THE PRIMARY COMMANDS THESE ARE CALLED
00223  A080              ; BY PUSHING THE ADDRESS ONTO THE STACK
00224  A080              ; AND DOING AN RTS, SO AGAIN THE 
00225  A080              ; ACTUAL ADDRESS -1 NEEDS TO BE PUSHED
00226  A080              ;********************************
00227  A080  79          XXA080 .BYTE $79
00228  A081  69          XXA081 .BYTE $69       ; PLUS
00229  A082  B8          XXA082 .BYTE $B8
00230  A083  79                 .BYTE $79
00231  A084  52                 .BYTE $52       ; MINUS
00232  A085  B8                 .BYTE $B8
00233  A086  7B                 .BYTE $7B
00234  A087  2A                 .BYTE $2A       ; MULTIPLY
00235  A088  BA                 .BYTE $BA
00236  A089  7B                 .BYTE $7B
00237  A08A  11                 .BYTE $11       ; DIVIDE
00238  A08B  BB                 .BYTE $BB
00239  A08C  7F                 .BYTE $7F
00240  A08D  7A                 .BYTE $7A       ; POWER
00241  A08E  BF                 .BYTE $BF
00242  A08F  50                 .BYTE $50
00243  A090  E8                 .BYTE $E8       ; AND
00244  A091  AF                 .BYTE $AF
00245  A092  46                 .BYTE $46
00246  A093  E5                 .BYTE $E5       ; OR
00247  A094  AF                 .BYTE $AF
00248  A095  7D                 .BYTE $7D
00249  A096  B3                 .BYTE $B3       ; NEGATIVE
00250  A097  BF                 .BYTE $BF
00251  A098  5A                 .BYTE $5A
00252  A099  D3                 .BYTE $D3       ; NOT
00253  A09A  AE                 .BYTE $AE
00254  A09B  64                 .BYTE $64
00255  A09C  15                 .BYTE $15       ; GREATER / EQUAL / LESS
00256  A09D  B0          XXA09D .BYTE $B0
00257  A09E              ;********************************
00258  A09E              ; TABLE OF COMMANDS
00259  A09E              ; EACH ENDED WITH A +$80
00260  A09E              ;
00261  A09E              ; *** BASIC KEYWORDS
00262  A09E              ; EACH WORD HAS B7 SET IN IT'S LAST CHARACTER
00263  A09E              ; AS AN END MARKER, EVEN THE ONE CHARACTER
00264  A09E              ; KEYWORDS SUCH AS "<" OR "="
00265  A09E              ; FIRST ARE THE PRIMARY COMMAND KEYWORDS,
00266  A09E              ; ONLY THESE CAN START A STATEMENT
00267  A09E              ;
00268  A09E              ;********************************
00269  A09E  45          XXA09E .BYTE $45,$4E,$C4                 ; END
00269  A09F  4E 
00269  A0A0  C4 
00270  A0A1  46                 .BYTE $46,$4F,$D2                 ; FOR
00270  A0A2  4F 
00270  A0A3  D2 
00271  A0A4  4E                 .BYTE $4E,$45,$58,$D4             ; NEXT






BASICV2A.ASM......PAGE 0006

LINE# LOC   CODE        LINE


00271  A0A5  45 
00271  A0A6  58 
00271  A0A7  D4 
00272  A0A8  44                 .BYTE $44,$41,$54,$C1             ; DATA
00272  A0A9  41 
00272  A0AA  54 
00272  A0AB  C1 
00273  A0AC  49                 .BYTE $49,$4E,$50,$55,$54,$A3     ; INPUT#

00273  A0AD  4E 
00273  A0AE  50 
00273  A0AF  55 
00273  A0B0  54 
00273  A0B1  A3 
00274  A0B2  49                 .BYTE $49,$4E,$50,$55,$D4         ; INPUT
00274  A0B3  4E 
00274  A0B4  50 
00274  A0B5  55 
00274  A0B6  D4 
00275  A0B7  44                 .BYTE $44,$49,$CD                 ; DIM
00275  A0B8  49 
00275  A0B9  CD 
00276  A0BA  52                 .BYTE $52,$45,$41,$C4             ; READ
00276  A0BB  45 
00276  A0BC  41 
00276  A0BD  C4 
00277  A0BE  4C                 .BYTE $4C,$45,$D4                 ; LET
00277  A0BF  45 
00277  A0C0  D4 
00278  A0C1  47                 .BYTE $47,$4F,$54,$CF             ; GOTO
00278  A0C2  4F 
00278  A0C3  54 
00278  A0C4  CF 
00279  A0C5  52                 .BYTE $52,$55,$CE                 ; RUN
00279  A0C6  55 
00279  A0C7  CE 
00280  A0C8  49                 .BYTE $49,$C6                     ; IF
00280  A0C9  C6 
00281  A0CA  52                 .BYTE $52,$45,$53,$54,$4F,$52,$C5 ; RESTOR
E
00281  A0CB  45 
00281  A0CC  53 
00281  A0CD  54 
00281  A0CE  4F 
00281  A0CF  52 
00281  A0D0  C5 
00282  A0D1  47                 .BYTE $47,$4F,$53,$55,$C2         ; GOSUB
00282  A0D2  4F 
00282  A0D3  53 
00282  A0D4  55 
00282  A0D5  C2 
00283  A0D6  52                 .BYTE $52,$45,$54,$55,$52,$CE     ; RETURN

00283  A0D7  45 
00283  A0D8  54 
00283  A0D9  55 
00283  A0DA  52 
00283  A0DB  CE 






BASICV2A.ASM......PAGE 0007

LINE# LOC   CODE        LINE


00284  A0DC  52                 .BYTE $52,$45,$CD                 ; REM
00284  A0DD  45 
00284  A0DE  CD 
00285  A0DF  53                 .BYTE $53,$54,$4F,$D0             ; STOP
00285  A0E0  54 
00285  A0E1  4F 
00285  A0E2  D0 
00286  A0E3  4F                 .BYTE $4F,$CE                     ; ON
00286  A0E4  CE 
00287  A0E5  57                 .BYTE $57,$41,$49,$D4             ; WAIT
00287  A0E6  41 
00287  A0E7  49 
00287  A0E8  D4 
00288  A0E9  4C                 .BYTE $4C,$4F,$41,$C4             ; LOAD
00288  A0EA  4F 
00288  A0EB  41 
00288  A0EC  C4 
00289  A0ED  53                 .BYTE $53,$41,$56,$C5             ; SAVE
00289  A0EE  41 
00289  A0EF  56 
00289  A0F0  C5 
00290  A0F1  56                 .BYTE $56,$45,$52,$49,$46,$D9     ; VERIFY

00290  A0F2  45 
00290  A0F3  52 
00290  A0F4  49 
00290  A0F5  46 
00290  A0F6  D9 
00291  A0F7  44                 .BYTE $44,$45,$C6                 ; DEF
00291  A0F8  45 
00291  A0F9  C6 
00292  A0FA  50                 .BYTE $50,$4F,$4B,$C5             ; POKE
00292  A0FB  4F 
00292  A0FC  4B 
00292  A0FD  C5 
00293  A0FE  50                 .BYTE $50,$52,$49,$4E,$54,$A3     ; PRINT#

00293  A0FF  52 
00293  A100  49 
00293  A101  4E 
00293  A102  54 
00293  A103  A3 
00294  A104  50                 .BYTE $50,$52,$49,$4E,$D4         ; PRINT
00294  A105  52 
00294  A106  49 
00294  A107  4E 
00294  A108  D4 
00295  A109  43                 .BYTE $43,$4F,$4E,$D4             ; CONT
00295  A10A  4F 
00295  A10B  4E 
00295  A10C  D4 
00296  A10D  4C                 .BYTE $4C,$49,$53,$D4             ; LIST
00296  A10E  49 
00296  A10F  53 
00296  A110  D4 
00297  A111  43                 .BYTE $43,$4C,$D2                 ; CLR
00297  A112  4C 






BASICV2A.ASM......PAGE 0008

LINE# LOC   CODE        LINE


00297  A113  D2 
00298  A114  43                 .BYTE $43,$4D,$C4                 ; CMD
00298  A115  4D 
00298  A116  C4 
00299  A117  53                 .BYTE $53,$59,$D3                 ; SYS
00299  A118  59 
00299  A119  D3 
00300  A11A  4F                 .BYTE $4F,$50,$45,$CE             ; OPEN
00300  A11B  50 
00300  A11C  45 
00300  A11D  CE 
00301  A11E  43                 .BYTE $43,$4C,$4F,$53,$C5         ; CLOSE
00301  A11F  4C 
00301  A120  4F 
00301  A121  53 
00301  A122  C5 
00302  A123  47                 .BYTE $47,$45,$D4                 ; GET
00302  A124  45 
00302  A125  D4 
00303  A126  4E                 .BYTE $4E,$45,$D7                 ; NEW
00303  A127  45 
00303  A128  D7 
00304  A129              ;********************************
00305  A129              ; TABLE OF FUNCTIONS
00306  A129              ; EACH ENDED WITH A +$80
00307  A129              ;********************************
00308  A129  54          ZZA129 .BYTE $54,$41,$42,$A8         ; TAB(
00308  A12A  41 
00308  A12B  42 
00308  A12C  A8 
00309  A12D  54                 .BYTE $54,$CF                 ; TO
00309  A12E  CF 
00310  A12F  46                 .BYTE $46,$CE                 ; FN
00310  A130  CE 
00311  A131  53                 .BYTE $53,$50,$43,$A8         ; SPC(
00311  A132  50 
00311  A133  43 
00311  A134  A8 
00312  A135  54                 .BYTE $54,$48,$45,$CE         ; THEN
00312  A136  48 
00312  A137  45 
00312  A138  CE 
00313  A139  4E                 .BYTE $4E,$4F,$D4             ; NOT
00313  A13A  4F 
00313  A13B  D4 
00314  A13C  53                 .BYTE $53,$54,$45,$D0         ; STEP
00314  A13D  54 
00314  A13E  45 
00314  A13F  D0 
00315  A140  AB                 .BYTE $AB                     ; PLUS
00316  A141  AD                 .BYTE $AD                     ; MINUS
00317  A142  AA                 .BYTE $AA                     ; MULTIPLY
00318  A143  AF                 .BYTE $AF                     ; DIVIDE
00319  A144  DE                 .BYTE $DE                     ; POWER
00320  A145  41                 .BYTE $41,$4E,$C4             ; AND






BASICV2A.ASM......PAGE 0009

LINE# LOC   CODE        LINE


00320  A146  4E 
00320  A147  C4 
00321  A148  4F                 .BYTE $4F,$D2                 ; ON
00321  A149  D2 
00322  A14A  BE                 .BYTE $BE                     ; GREATER
00323  A14B  BD                 .BYTE $BD                     ; EQUAL
00324  A14C  BC                 .BYTE $BC                     ; LESS
00325  A14D  53                 .BYTE $53,$47,$CE             ; SGN
00325  A14E  47 
00325  A14F  CE 
00326  A150  49                 .BYTE $49,$4E,$D4             ; INT
00326  A151  4E 
00326  A152  D4 
00327  A153  41                 .BYTE $41,$42,$D3             ; ABS
00327  A154  42 
00327  A155  D3 
00328  A156  55                 .BYTE $55,$53,$D2             ; USR
00328  A157  53 
00328  A158  D2 
00329  A159  46                 .BYTE $46,$52,$C5             ; FRE
00329  A15A  52 
00329  A15B  C5 
00330  A15C  50                 .BYTE $50,$4F,$D3             ; POS
00330  A15D  4F 
00330  A15E  D3 
00331  A15F  53                 .BYTE $53,$51,$D2             ; SQR
00331  A160  51 
00331  A161  D2 
00332  A162  52                 .BYTE $52,$4E,$C4             ; RND
00332  A163  4E 
00332  A164  C4 
00333  A165  4C                 .BYTE $4C,$4F,$C7             ; LOG
00333  A166  4F 
00333  A167  C7 
00334  A168  45                 .BYTE $45,$58,$D0             ; EXP
00334  A169  58 
00334  A16A  D0 
00335  A16B  43                 .BYTE $43,$4F,$D3             ; COS
00335  A16C  4F 
00335  A16D  D3 
00336  A16E  53                 .BYTE $53,$49,$CE             ; SIN
00336  A16F  49 
00336  A170  CE 
00337  A171  54                 .BYTE $54,$41,$CE             ; TAN
00337  A172  41 
00337  A173  CE 
00338  A174  41                 .BYTE $41,$54,$CE             ; ATN
00338  A175  54 
00338  A176  CE 
00339  A177  50                 .BYTE $50,$45,$45,$CB         ; PEEK
00339  A178  45 
00339  A179  45 
00339  A17A  CB 
00340  A17B  4C                 .BYTE $4C,$45,$CE             ; LEN
00340  A17C  45 






BASICV2A.ASM......PAGE 0010

LINE# LOC   CODE        LINE


00340  A17D  CE 
00341  A17E  53                 .BYTE $53,$54,$52,$A4         ; STR$
00341  A17F  54 
00341  A180  52 
00341  A181  A4 
00342  A182  56                 .BYTE $56,$41,$CC             ; VAL
00342  A183  41 
00342  A184  CC 
00343  A185  41                 .BYTE $41,$53,$C3             ; ASC
00343  A186  53 
00343  A187  C3 
00344  A188  43                 .BYTE $43,$48,$52,$A4         ; CHR$
00344  A189  48 
00344  A18A  52 
00344  A18B  A4 
00345  A18C  4C                 .BYTE $4C,$45,$46,$54,$A4     ; LEFT$
00345  A18D  45 
00345  A18E  46 
00345  A18F  54 
00345  A190  A4 
00346  A191  52                 .BYTE $52,$49,$47,$48,$54,$A4 ; RIGHT$
00346  A192  49 
00346  A193  47 
00346  A194  48 
00346  A195  54 
00346  A196  A4 
00347  A197  4D                 .BYTE $4D,$49,$44,$A4         ; MID$
00347  A198  49 
00347  A199  44 
00347  A19A  A4 
00348  A19B              ;********************************
00349  A19B              ; OTHER COMMANDS
00350  A19B              ;********************************
00351  A19B  47                 .BYTE $47,$CF                 ; GO
00351  A19C  CF 
00352  A19D  00                 .BYTE $00
00353  A19E              ;********************************
00354  A19E              ; TABLE OF ERRORS MESSAGES
00355  A19E              ; EACH ENDED WITH A +$80
00356  A19E              ;********************************
00357  A19E              ; TOO MANY FILES
00358  A19E  54 4F       XXA19E .BYTE 'TOO MANY FILE'
00359  A1AB  D3                 .BYTE $D3
00360  A1AC              ; FILE OPEN
00361  A1AC  46 49       XXA1AC .BYTE 'FILE OPE'
00362  A1B4  CE                 .BYTE $CE
00363  A1B5              ; FILE NOT OPEN
00364  A1B5  46 49       XXA1B5 .BYTE 'FILE NOT OPE'
00365  A1C1  CE                 .BYTE $CE
00366  A1C2              ; FILE NOT FOUND
00367  A1C2  46 49       XXA1C2 .BYTE 'FILE NOT FOUN'
00368  A1CF  C4                 .BYTE $C4
00369  A1D0              ; DEVICE NOT PRESENT
00370  A1D0  44 45       XXA1D0 .BYTE 'DEVICE NOT PRESEN'
00371  A1E1  D4                 .BYTE $D4






BASICV2A.ASM......PAGE 0011

LINE# LOC   CODE        LINE


00372  A1E2              ; NOT INPUT FILE
00373  A1E2  4E 4F       XXA1E2 .BYTE 'NOT INPUT FIL'
00374  A1EF  C5                 .BYTE $C5
00375  A1F0              ; NOT OUTPUT FILE
00376  A1F0  4E 4F       XXA1F0 .BYTE 'NOT OUTPUT FIL'
00377  A1FE  C5                 .BYTE $C5
00378  A1FF              ; MISSISNG FILE NAME
00379  A1FF  4D 49       XXA1FF .BYTE 'MISSING FILE NAM'
00380  A20F  C5                 .BYTE $C5
00381  A210              ; ILLEGAL DEVICE NUMBER
00382  A210  49 4C       XXA210 .BYTE 'ILLEGAL DEVICE NUMBE'
00383  A224  D2                 .BYTE $D2
00384  A225              ; NEXT WITHOUT FOR
00385  A225  4E 45       XXA225 .BYTE 'NEXT WITHOUT FO'
00386  A234  D2                 .BYTE $D2
00387  A235              ; SYNTAX
00388  A235  53 59       XXA235 .BYTE 'SYNTA'
00389  A23A  D8                 .BYTE $D8
00390  A23B              ; RETURN WITHOUT GOSUB
00391  A23B  52 45       XXA23B .BYTE 'RETURN WITHOUT GOSU'
00392  A24E  C2                 .BYTE $C2
00393  A24F              ; OUT OF DATA
00394  A24F  4F 55       XXA24F .BYTE 'OUT OF DAT'
00395  A259  C1                 .BYTE $C1
00396  A25A              ; ILLEGAL QUANTITY
00397  A25A  49 4C       XXA25A .BYTE 'ILLEGAL QUANTIT'
00398  A269  D9                 .BYTE $D9
00399  A26A              ; OVERFLOW
00400  A26A  4F 56       XXA26A .BYTE 'OVERFLO'
00401  A271  D7                 .BYTE $D7
00402  A272              ; OUT OF MEMORY
00403  A272  4F 55       XXA272 .BYTE 'OUT OF MEMOR'
00404  A27E  D9                 .BYTE $D9
00405  A27F              ; UNDEF'D STATEMENT
00406  A27F  55 4E       XXA27F .BYTE 'UNDEF''D STATEMEN'
00407  A28F  D4                 .BYTE $D4
00408  A290              ; BAD SUBSCRIPT
00409  A290  42 41       XXA290 .BYTE 'BAD SUBSCRIP'
00410  A29C  D4                 .BYTE $D4
00411  A29D              ; REDIM'D ARRAY
00412  A29D  52 45       XXA29D .BYTE 'REDIM''D ARRA'
00413  A2A9  D9                 .BYTE $D9
00414  A2AA              ; DIVISION BY ZERO
00415  A2AA  44 49       XXA2AA .BYTE 'DIVISION BY ZER'
00416  A2B9  CF                 .BYTE $CF
00417  A2BA              ; ILLEGAL DIRECT
00418  A2BA  49 4C       XXA2BA .BYTE 'ILLEGAL DIREC'
00419  A2C7  D4                 .BYTE $D4
00420  A2C8              ; TYPE MISMATCH
00421  A2C8  54 59       XXA2C8 .BYTE 'TYPE MISMATC'
00422  A2D4  C8                 .BYTE $C8
00423  A2D5              ; STRING TO LONG
00424  A2D5  53 54       XXA2D5 .BYTE 'STRING TOO LON'
00425  A2E3  C7                 .BYTE $C7
00426  A2E4              ; FILE DATA






BASICV2A.ASM......PAGE 0012

LINE# LOC   CODE        LINE


00427  A2E4  46 49       XXA2E4 .BYTE 'FILE DAT'
00428  A2EC  C1                 .BYTE $C1
00429  A2ED              ; FORMULA TOO COMPLEX
00430  A2ED  46 4F       XXA2ED .BYTE 'FORMULA TOO COMPLE'
00431  A2FF  D8                 .BYTE $D8
00432  A300              ; CAN'T CONTINUE
00433  A300  43 41       XXA300 .BYTE 'CAN''T CONTINU'
00434  A30D  C5                 .BYTE $C5
00435  A30E              ; UNDEF'D FUNCTION
00436  A30E  55 4E       XXA30E .BYTE 'UNDEF''D FUNCTIO'
00437  A31D  CE                 .BYTE $CE
00438  A31E              ; VERIFY
00439  A31E  56 45       XXA31E .BYTE 'VERIF'
00440  A323  D9                 .BYTE $D9
00441  A324              ; LOAD
00442  A324  4C 4F 41    XXA324 .BYTE 'LOA'
00443  A327  C4          XXA327 .BYTE $C4
00444  A328              ;********************************
00445  A328              ; ERROR MESSAGE ADDRESS LOCATIONS
00446  A328              ;********************************
00447  A328  9E A1       WWA328 .WORD XXA19E    ; 01 TOO MANY FILES
00448  A32A  AC A1              .WORD XXA1AC    ; 02 FILE OPEN
00449  A32C  B5 A1              .WORD XXA1B5    ; 03 FILE NOT OPEN
00450  A32E  C2 A1              .WORD XXA1C2    ; 04 FILE NOT FOUND
00451  A330  D0 A1              .WORD XXA1D0    ; 05 DEVICE NOT PRESENT
00452  A332  E2 A1              .WORD XXA1E2    ; 06 NOT INPUT FILE
00453  A334  F0 A1              .WORD XXA1F0    ; 07 NOT OUTPUT FILE
00454  A336  FF A1              .WORD XXA1FF    ; 08 MISSING FILE NAME
00455  A338  10 A2              .WORD XXA210    ; 09 ILLEGAL DEVICE NUMBER

00456  A33A  25 A2              .WORD XXA225    ; 0A NEXT WITHOUT FOR
00457  A33C  35 A2              .WORD XXA235    ; 0B SYNTAX
00458  A33E  3B A2              .WORD XXA23B    ; 0C RETURN WITHOUT GOSUB
00459  A340  4F A2              .WORD XXA24F    ; 0D OUT OF DATA
00460  A342  5A A2              .WORD XXA25A    ; 0E ILLEGAL QUANTITY
00461  A344  6A A2              .WORD XXA26A    ; 0F OVERFLOW
00462  A346  72 A2              .WORD XXA272    ; 10 OUT OF MEMORY
00463  A348  7F A2              .WORD XXA27F    ; 11 UNDEF'D STATMENT
00464  A34A  90 A2              .WORD XXA290    ; 12 BAD SUBSCRIPT
00465  A34C  9D A2              .WORD XXA29D    ; 13 REDIM'D ARRAY
00466  A34E  AA A2              .WORD XXA2AA    ; 14 DEVISION BY ZERO
00467  A350  BA A2              .WORD XXA2BA    ; 15 ILLEGAL DIRECT
00468  A352  C8 A2              .WORD XXA2C8    ; 16 TYPE MISMATCH
00469  A354  D5 A2              .WORD XXA2D5    ; 17 STRING TOO LONG
00470  A356  E4 A2              .WORD XXA2E4    ; 18 FILE DATA
00471  A358  ED A2              .WORD XXA2ED    ; 19 FORMULA TOO COMPLEX
00472  A35A  00 A3              .WORD XXA300    ; 1A CAN'T CONTINUE
00473  A35C  0E A3              .WORD XXA30E    ; 1B UNDEF'D FUNCTION
00474  A35E  1E A3              .WORD XXA31E    ; 1C VERIFY
00475  A360  24 A3              .WORD XXA324    ; 1D LOAD
00476  A362  83 A3              .WORD XXA383    ; 1E BREAK
00477  A364              ;********************************
00478  A364              ; OTHER MESSAGES
00479  A364              ;********************************
00480  A364              ; OK
00481  A364  0D          WWA364 .BYTE $0D






BASICV2A.ASM......PAGE 0013

LINE# LOC   CODE        LINE


00482  A365  4F 4B              .BYTE 'OK'
00483  A367  0D                 .BYTE $0D
00484  A368  00                 .BYTE $00
00485  A369              ; ERROR
00486  A369  20 20       WWA369 .BYTE '  ERROR'
00487  A370  00                 .BYTE $00
00488  A371              ; IN
00489  A371  20 49       WWA371 .BYTE ' IN '
00490  A375  00                 .BYTE $00
00491  A376              ; READY.
00492  A376  0D          WWA376 .BYTE $0D
00493  A377  0A                 .BYTE $0A
00494  A378  52 45              .BYTE 'READY.'
00495  A37E  0D                 .BYTE $0D
00496  A37F  0A                 .BYTE $0A
00497  A380  00                 .BYTE $00
00498  A381              ; BREAK
00499  A381  0D          WWA381 .BYTE $0D
00500  A382  0A                 .BYTE $0A
00501  A383  42 52       XXA383 .BYTE 'BREAK'
00502  A388  00                 .BYTE $00
00503  A389  A0                 .BYTE $A0
00504  A38A              ;********************************
00505  A38A              ; SEARCH FOR "FOR" BLOCKS ON STACK
00506  A38A              ;
00507  A38A              ; *** SEARCH THE STACK FOR FOR OR GOSUB ACTIVITY
00508  A38A              ; RETURN ZB=1 IF FOR VARIABLE FOUND
00509  A38A              ;********************************
00510  A38A  BA          XXA38A TSX             ;COPY STACK POINTER
00511  A38B  E8                 INX             ;+1 PASS RETURN ADDRESS
00512  A38C  E8                 INX             ;+2 PASS RETURN ADDRESS
00513  A38D  E8                 INX             ;+3 PASS CALLING ROUTINE R
ETURN ADDRESS
00514  A38E  E8                 INX +4 PASS CALLING ROUTINE RETURN ADDRESS

00515  A38F  BD 01 01    XXA38F LDA STACK+1,X GET THE TOKEN BYTE FROM THE 
STACK
00516  A392  C9 81              CMP #$81        ; FOR BLOCK CODE - IS IT T
HE FOR TOKEN
00517  A394  D0 21              BNE XXA3B7      ; IF NOT FOR TOKEN JUST EX
IT
00518  A396                                     ;IT WAS THE FOR TOKEN
00519  A396  A5 4A              LDA $4A         ;GET FOR/NEXT VARIABLE POI
NTER HIGH BYTE
00520  A398  D0 0A              BNE XXA3A4      ;BRANCH IF NOT NULL
00521  A39A  BD 02 01           LDA STACK+2,X   ;GET FOR VARIABLE POINTER 
LOW BYTE
00522  A39D  85 49              STA $49         ;SAVE FOR/NEXT VARIABLE PO
INTER LOW BYTE
00523  A39F  BD 03 01           LDA STACK+3,X   ;GET FOR VARIABLE POINTER 
HIGH BYTE
00524  A3A2  85 4A              STA $4A         ;SAVE FOR/NEXT VARIABLE PO
INTER HIGH BYTE
00525  A3A4  DD 03 01    XXA3A4 CMP STACK+3,X   ;COMPARE VARIABLE POINTER 
WITH STACKED VARIABLE POINTER
00526  A3A7                                     ;HIGH BYTE
00527  A3A7  D0 07              BNE XXA3B0      ;BRANCH IF NO MATCH
00528  A3A9  A5 49              LDA $49         ;GET FOR/NEXT VARIABLE POI
NTER LOW BYTE
00529  A3AB  DD 02 01           CMP STACK+2,X   ;COMPARE VARIABLE POINTER 
WITH STACKED VARIABLE POINTER
00530  A3AE                                     ;LOW BYTE
00531  A3AE  F0 07              BEQ XXA3B7      ;EXIT IF MATCH FOUND
00532  A3B0  8A          XXA3B0 TXA             ;COPY INDEX
00533  A3B1  18                 CLC             ;CLEAR CARRY FOR ADD
00534  A3B2  69 12              ADC #$12        ;ADD FOR STACK USE SIZE
00535  A3B4  AA                 TAX             ;COPY BACK TO INDEX
00536  A3B5  D0 D8              BNE XXA38F      ;LOOP IF NOT AT START OF S
TACK






BASICV2A.ASM......PAGE 0014

LINE# LOC   CODE        LINE


00537  A3B7  60          XXA3B7 RTS             ;DONE WITH IT
00538  A3B8              ;********************************
00539  A3B8              ; MOVE BYTES AFTER CHECK FOR SPACE
00540  A3B8              ;********************************
00541  A3B8  20 08 A4    XXA3B8 JSR XXA408
00542  A3BB  85 31              STA STREND
00543  A3BD  84 32              STY STREND+1
00544  A3BF              ;********************************
00545  A3BF              ; MOVE BYTES ROUTINE
00546  A3BF              ;  $5F/$60 SOURCE START ADDRESS
00547  A3BF              ;  $5A/$5B SOURCE END ADDRESS
00548  A3BF              ;  $58/$59 DESTINATION END ADDRESS
00549  A3BF              ;********************************
00550  A3BF  38          XXA3BF SEC 
00551  A3C0  A5 5A              LDA $5A
00552  A3C2  E5 5F              SBC $5F
00553  A3C4  85 22              STA INDEX
00554  A3C6  A8                 TAY 
00555  A3C7  A5 5B              LDA $5B
00556  A3C9  E5 60              SBC $60
00557  A3CB  AA                 TAX 
00558  A3CC  E8                 INX 
00559  A3CD  98                 TYA 
00560  A3CE  F0 23              BEQ XXA3F3
00561  A3D0  A5 5A              LDA $5A
00562  A3D2  38                 SEC 
00563  A3D3  E5 22              SBC INDEX
00564  A3D5  85 5A              STA $5A
00565  A3D7  B0 03              BCS XXA3DC
00566  A3D9  C6 5B              DEC $5B
00567  A3DB  38                 SEC 
00568  A3DC  A5 58       XXA3DC LDA $58
00569  A3DE  E5 22              SBC INDEX
00570  A3E0  85 58              STA $58
00571  A3E2  B0 08              BCS XXA3EC
00572  A3E4  C6 59              DEC $59
00573  A3E6  90 04              BCC XXA3EC
00574  A3E8  B1 5A       XXA3E8 LDA ($5A),Y
00575  A3EA  91 58              STA ($58),Y
00576  A3EC  88          XXA3EC DEY 
00577  A3ED  D0 F9              BNE XXA3E8
00578  A3EF  B1 5A              LDA ($5A),Y
00579  A3F1  91 58              STA ($58),Y
00580  A3F3  C6 5B       XXA3F3 DEC $5B
00581  A3F5  C6 59              DEC $59
00582  A3F7  CA                 DEX 
00583  A3F8  D0 F2              BNE XXA3EC
00584  A3FA  60                 RTS 
00585  A3FB              ;********************************
00586  A3FB              ; TEST FOR 2 * A BYTES FREE ON STACK
00587  A3FB              ;********************************
00588  A3FB  0A          XXA3FB ASL A
00589  A3FC  69 3E              ADC #$3E        ;'>'
00590  A3FE  B0 35              BCS XXA435
00591  A400  85 22              STA INDEX






BASICV2A.ASM......PAGE 0015

LINE# LOC   CODE        LINE


00592  A402  BA                 TSX 
00593  A403  E4 22              CPX INDEX
00594  A405  90 2E              BCC XXA435
00595  A407  60                 RTS 
00596  A408              ;********************************
00597  A408              ; ARRAY AREA OVERFLOW CHECK
00598  A408              ;********************************
00599  A408  C4 34       XXA408 CPY FRETOP+1
00600  A40A  90 28              BCC XXA434
00601  A40C  D0 04              BNE XXA412
00602  A40E  C5 33              CMP FRETOP
00603  A410  90 22              BCC XXA434
00604  A412  48          XXA412 PHA 
00605  A413  A2 09              LDX #$09
00606  A415  98                 TYA 
00607  A416  48          XXA416 PHA 
00608  A417  B5 57              LDA $57,X
00609  A419  CA                 DEX 
00610  A41A  10 FA              BPL XXA416
00611  A41C  20 26 B5           JSR XXB526
00612  A41F  A2 F7              LDX #$F7
00613  A421  68          XXA421 PLA 
00614  A422  95 61              STA $61,X
00615  A424  E8                 INX 
00616  A425  30 FA              BMI XXA421
00617  A427  68                 PLA 
00618  A428  A8                 TAY 
00619  A429  68                 PLA 
00620  A42A  C4 34              CPY FRETOP+1
00621  A42C  90 06              BCC XXA434
00622  A42E  D0 05              BNE XXA435
00623  A430  C5 33              CMP FRETOP
00624  A432  B0 01              BCS XXA435
00625  A434  60          XXA434 RTS 
00626  A435              ;********************************
00627  A435              ; OUT OF MEMORY ERROR
00628  A435              ;********************************
00629  A435  A2 10       XXA435 LDX #$10        ; ERROR NUMBER
00630  A437              ;********************************
00631  A437              ; HANDLE ERROR MESSAGES
00632  A437              ;********************************
00633  A437  6C 00 03    XXA437 JMP (IERROR)    ; NORMALLY A43A
00634  A43A              ;********************************
00635  A43A              ; STANDARD ERROR MESSAGE HANDLER
00636  A43A              ;********************************
00637  A43A  8A          KKA43A TXA 
00638  A43B  0A                 ASL A
00639  A43C  AA                 TAX 
00640  A43D  BD 26 A3           LDA XXA327-1,X
00641  A440  85 22              STA INDEX
00642  A442  BD 27 A3           LDA XXA327,X
00643  A445  85 23              STA INDEX+1
00644  A447  20 CC FF           JSR $FFCC
00645  A44A  A9 00              LDA #$00
00646  A44C  85 13              STA $13






BASICV2A.ASM......PAGE 0016

LINE# LOC   CODE        LINE


00647  A44E  20 D7 AA           JSR XXAAD7
00648  A451  20 45 AB           JSR XXAB45
00649  A454  A0 00              LDY #$00
00650  A456  B1 22       XXA456 LDA (INDEX),Y
00651  A458  48                 PHA 
00652  A459  29 7F              AND #$7F
00653  A45B  20 47 AB           JSR XXAB47
00654  A45E  C8                 INY 
00655  A45F  68                 PLA 
00656  A460  10 F4              BPL XXA456
00657  A462  20 7A A6           JSR XXA67A
00658  A465  A9 69              LDA #<WWA369    ;#$69   ; LOW  A369
00659  A467  A0 A3              LDY #>WWA369    ;#$A3   ; HIGH A369
00660  A469  20 1E AB    XXA469 JSR XXAB1E
00661  A46C  A4 3A              LDY CURLIN+1
00662  A46E  C8                 INY 
00663  A46F  F0 03              BEQ XXA474
00664  A471  20 C2 BD           JSR XXBDC2
00665  A474  A9 76       XXA474 LDA #<WWA376    ;#$76   ; LOW A376
00666  A476  A0 A3              LDY #>WWA376    ;#$A3   ; HIGH A376
00667  A478  20 1E AB           JSR XXAB1E
00668  A47B  A9 80              LDA #$80
00669  A47D  20 90 FF           JSR $FF90
00670  A480  6C 02 03    XXA480 JMP (IMAIN)     ; NORMALLY A483
00671  A483              ;################################
00672  A483              ;********************************
00673  A483              ;
00674  A483              ; STANDARD WARM START ROUTINE
00675  A483              ;
00676  A483              ;********************************
00677  A483              ;################################
00678  A483  20 60 A5    KKA483 JSR XXA560
00679  A486  86 7A              STX $7A
00680  A488  84 7B              STY $7B
00681  A48A  20 73 00           JSR $0073
00682  A48D  AA                 TAX 
00683  A48E  F0 F0              BEQ XXA480
00684  A490  A2 FF              LDX #$FF
00685  A492  86 3A              STX CURLIN+1
00686  A494  90 06              BCC XXA49C
00687  A496  20 79 A5           JSR XXA579
00688  A499  4C E1 A7           JMP XXA7E1
00689  A49C              ;********************************
00690  A49C              ; HANDLE INSERT/DELETE BASIC LINES
00691  A49C              ;********************************
00692  A49C  20 6B A9    XXA49C JSR XXA96B
00693  A49F  20 79 A5           JSR XXA579
00694  A4A2  84 0B              STY $0B
00695  A4A4  20 13 A6           JSR XXA613
00696  A4A7  90 44              BCC XXA4ED
00697  A4A9              ;********************************
00698  A4A9              ; DELETE OLD LINE
00699  A4A9              ;********************************
00700  A4A9  A0 01              LDY #$01
00701  A4AB  B1 5F              LDA ($5F),Y






BASICV2A.ASM......PAGE 0017

LINE# LOC   CODE        LINE


00702  A4AD  85 23              STA INDEX+1
00703  A4AF  A5 2D              LDA VARTAB
00704  A4B1  85 22              STA INDEX
00705  A4B3  A5 60              LDA $60
00706  A4B5  85 25              STA INDEX+3
00707  A4B7  A5 5F              LDA $5F
00708  A4B9  88                 DEY 
00709  A4BA  F1 5F              SBC ($5F),Y
00710  A4BC  18                 CLC 
00711  A4BD  65 2D              ADC VARTAB
00712  A4BF  85 2D              STA VARTAB
00713  A4C1  85 24              STA INDEX+2
00714  A4C3  A5 2E              LDA VARTAB+1
00715  A4C5  69 FF              ADC #$FF
00716  A4C7  85 2E              STA VARTAB+1
00717  A4C9  E5 60              SBC $60
00718  A4CB  AA                 TAX 
00719  A4CC  38                 SEC 
00720  A4CD  A5 5F              LDA $5F
00721  A4CF  E5 2D              SBC VARTAB
00722  A4D1  A8                 TAY 
00723  A4D2  B0 03              BCS XXA4D7
00724  A4D4  E8                 INX 
00725  A4D5  C6 25              DEC INDEX+3
00726  A4D7  18          XXA4D7 CLC 
00727  A4D8  65 22              ADC INDEX
00728  A4DA  90 03              BCC XXA4DF
00729  A4DC  C6 23              DEC INDEX+1
00730  A4DE  18                 CLC 
00731  A4DF  B1 22       XXA4DF LDA (INDEX),Y
00732  A4E1  91 24              STA (INDEX+2),Y
00733  A4E3  C8                 INY 
00734  A4E4  D0 F9              BNE XXA4DF
00735  A4E6  E6 23              INC INDEX+1
00736  A4E8  E6 25              INC INDEX+3
00737  A4EA  CA                 DEX 
00738  A4EB  D0 F2              BNE XXA4DF
00739  A4ED              ;********************************
00740  A4ED              ; INSERT NEW LINE
00741  A4ED              ;********************************
00742  A4ED  20 59 A6    XXA4ED JSR XXA659
00743  A4F0  20 33 A5           JSR XXA533
00744  A4F3  AD 00 02           LDA BUF
00745  A4F6  F0 88              BEQ XXA480
00746  A4F8  18                 CLC 
00747  A4F9  A5 2D              LDA VARTAB
00748  A4FB  85 5A              STA $5A
00749  A4FD  65 0B              ADC $0B
00750  A4FF  85 58              STA $58
00751  A501  A4 2E              LDY VARTAB+1
00752  A503  84 5B              STY $5B
00753  A505  90 01              BCC XXA508
00754  A507  C8                 INY 
00755  A508  84 59       XXA508 STY $59
00756  A50A  20 B8 A3           JSR XXA3B8






BASICV2A.ASM......PAGE 0018

LINE# LOC   CODE        LINE


00757  A50D  A5 14              LDA LINNUM
00758  A50F  A4 15              LDY LINNUM+1
00759  A511  8D FE 01           STA $01FE
00760  A514  8C FF 01           STY $01FF
00761  A517  A5 31              LDA STREND
00762  A519  A4 32              LDY STREND+1
00763  A51B  85 2D              STA VARTAB
00764  A51D  84 2E              STY VARTAB+1
00765  A51F  A4 0B              LDY $0B
00766  A521  88                 DEY 
00767  A522  B9 FC 01    XXA522 LDA $01FC,Y
00768  A525  91 5F              STA ($5F),Y
00769  A527  88                 DEY 
00770  A528  10 F8              BPL XXA522
00771  A52A  20 59 A6    KKA52A JSR XXA659
00772  A52D  20 33 A5           JSR XXA533
00773  A530  4C 80 A4           JMP XXA480
00774  A533              ;********************************
00775  A533              ; RELINK BASIC PROGRAM
00776  A533              ;********************************
00777  A533  A5 2B       XXA533 LDA TXTTAB
00778  A535  A4 2C              LDY TXTTAB+1
00779  A537  85 22              STA INDEX
00780  A539  84 23              STY INDEX+1
00781  A53B  18                 CLC 
00782  A53C  A0 01       XXA53C LDY #$01
00783  A53E  B1 22              LDA (INDEX),Y
00784  A540  F0 1D              BEQ XXA55F
00785  A542  A0 04              LDY #$04
00786  A544  C8          XXA544 INY 
00787  A545  B1 22              LDA (INDEX),Y
00788  A547  D0 FB              BNE XXA544
00789  A549  C8                 INY 
00790  A54A  98                 TYA 
00791  A54B  65 22              ADC INDEX
00792  A54D  AA                 TAX 
00793  A54E  A0 00              LDY #$00
00794  A550  91 22              STA (INDEX),Y
00795  A552  A5 23              LDA INDEX+1
00796  A554  69 00              ADC #$00
00797  A556  C8                 INY 
00798  A557  91 22              STA (INDEX),Y
00799  A559  86 22              STX INDEX
00800  A55B  85 23              STA INDEX+1
00801  A55D  90 DD              BCC XXA53C
00802  A55F  60          XXA55F RTS 
00803  A560              ;********************************
00804  A560              ; GET STATEMENT INTO BUFFER
00805  A560              ;********************************
00806  A560  A2 00       XXA560 LDX #$00
00807  A562  20 12 E1    XXA562 JSR $E112
00808  A565  C9 0D              CMP #$0D
00809  A567  F0 0D              BEQ XXA576
00810  A569  9D 00 02           STA BUF,X
00811  A56C  E8                 INX 






BASICV2A.ASM......PAGE 0019

LINE# LOC   CODE        LINE


00812  A56D  E0 59              CPX #$59        ;'Y'
00813  A56F  90 F1              BCC XXA562
00814  A571  A2 17              LDX #$17        ; ERROR NUMBER
00815  A573  4C 37 A4           JMP XXA437
00816  A576              ;********************************
00817  A576  4C CA AA    XXA576 JMP XXAACA      ; GOTO END OF LINE
00818  A579              ;********************************
00819  A579              ; CRUNCH TOKENS
00820  A579              ;********************************
00821  A579  6C 04 03    XXA579 JMP (ICRNCH)    ; NORMALLY A57C
00822  A57C              ;********************************
00823  A57C              ; STANDARD TOKEN CRUNCHER
00824  A57C              ;********************************
00825  A57C  A6 7A       KKA57C LDX $7A
00826  A57E  A0 04              LDY #$04
00827  A580  84 0F              STY $0F
00828  A582  BD 00 02    XXA582 LDA BUF,X
00829  A585  10 07              BPL XXA58E
00830  A587  C9 FF              CMP #$FF        ; PI
00831  A589  F0 3E              BEQ XXA5C9
00832  A58B  E8                 INX 
00833  A58C  D0 F4              BNE XXA582
00834  A58E  C9 20       XXA58E CMP #$20        ;' '
00835  A590  F0 37              BEQ XXA5C9
00836  A592  85 08              STA $08
00837  A594  C9 22              CMP #$22        ;'"'
00838  A596  F0 56              BEQ XXA5EE
00839  A598  24 0F              BIT $0F
00840  A59A  70 2D              BVS XXA5C9
00841  A59C  C9 3F              CMP #$3F        ;'?'
00842  A59E  D0 04              BNE XXA5A4
00843  A5A0  A9 99              LDA #$99        ; PRINT CODE
00844  A5A2  D0 25              BNE XXA5C9
00845  A5A4  C9 30       XXA5A4 CMP #$30        ;'0'
00846  A5A6  90 04              BCC XXA5AC
00847  A5A8  C9 3C              CMP #$3C        ;'<'
00848  A5AA  90 1D              BCC XXA5C9
00849  A5AC  84 71       XXA5AC STY $71
00850  A5AE  A0 00              LDY #$00
00851  A5B0  84 0B              STY $0B
00852  A5B2  88                 DEY 
00853  A5B3  86 7A              STX $7A
00854  A5B5  CA                 DEX 
00855  A5B6  C8          XXA5B6 INY 
00856  A5B7  E8                 INX 
00857  A5B8  BD 00 02    XXA5B8 LDA BUF,X
00858  A5BB  38                 SEC 
00859  A5BC  F9 9E A0           SBC XXA09E,Y
00860  A5BF  F0 F5              BEQ XXA5B6
00861  A5C1  C9 80              CMP #$80
00862  A5C3  D0 30              BNE XXA5F5
00863  A5C5  05 0B              ORA $0B
00864  A5C7  A4 71       XXA5C7 LDY $71
00865  A5C9  E8          XXA5C9 INX 
00866  A5CA  C8                 INY 






BASICV2A.ASM......PAGE 0020

LINE# LOC   CODE        LINE


00867  A5CB  99 FB 01           STA $01FB,Y
00868  A5CE  B9 FB 01           LDA $01FB,Y
00869  A5D1  F0 36              BEQ XXA609
00870  A5D3  38                 SEC 
00871  A5D4  E9 3A              SBC #$3A        ;':'
00872  A5D6  F0 04              BEQ XXA5DC
00873  A5D8  C9 49              CMP #$49        ; DATA CODE
00874  A5DA  D0 02              BNE XXA5DE
00875  A5DC  85 0F       XXA5DC STA $0F
00876  A5DE  38          XXA5DE SEC 
00877  A5DF  E9 55              SBC #$55        ; REM CODE
00878  A5E1  D0 9F              BNE XXA582
00879  A5E3  85 08              STA $08
00880  A5E5  BD 00 02    XXA5E5 LDA BUF,X
00881  A5E8  F0 DF              BEQ XXA5C9
00882  A5EA  C5 08              CMP $08
00883  A5EC  F0 DB              BEQ XXA5C9
00884  A5EE  C8          XXA5EE INY 
00885  A5EF  99 FB 01           STA $01FB,Y
00886  A5F2  E8                 INX 
00887  A5F3  D0 F0              BNE XXA5E5
00888  A5F5  A6 7A       XXA5F5 LDX $7A
00889  A5F7  E6 0B              INC $0B
00890  A5F9  C8          XXA5F9 INY 
00891  A5FA  B9 9D A0           LDA XXA09D,Y
00892  A5FD  10 FA              BPL XXA5F9
00893  A5FF  B9 9E A0           LDA XXA09E,Y
00894  A602  D0 B4              BNE XXA5B8
00895  A604  BD 00 02           LDA BUF,X
00896  A607  10 BE              BPL XXA5C7
00897  A609  99 FD 01    XXA609 STA $01FD,Y
00898  A60C  C6 7B              DEC $7B
00899  A60E  A9 FF              LDA #$FF
00900  A610  85 7A              STA $7A
00901  A612  60                 RTS 
00902  A613              ;********************************
00903  A613              ; SEARCH FOR A LINE IN A PROGRAM
00904  A613              ;********************************
00905  A613  A5 2B       XXA613 LDA TXTTAB
00906  A615  A6 2C              LDX TXTTAB+1
00907  A617  A0 01       XXA617 LDY #$01
00908  A619  85 5F              STA $5F
00909  A61B  86 60              STX $60
00910  A61D  B1 5F              LDA ($5F),Y
00911  A61F  F0 1F              BEQ XXA640
00912  A621  C8                 INY 
00913  A622  C8                 INY 
00914  A623  A5 15              LDA LINNUM+1
00915  A625  D1 5F              CMP ($5F),Y
00916  A627  90 18              BCC XXA641
00917  A629  F0 03              BEQ XXA62E
00918  A62B  88                 DEY 
00919  A62C  D0 09              BNE XXA637
00920  A62E  A5 14       XXA62E LDA LINNUM
00921  A630  88                 DEY 






BASICV2A.ASM......PAGE 0021

LINE# LOC   CODE        LINE


00922  A631  D1 5F              CMP ($5F),Y
00923  A633  90 0C              BCC XXA641
00924  A635  F0 0A              BEQ XXA641
00925  A637  88          XXA637 DEY 
00926  A638  B1 5F              LDA ($5F),Y
00927  A63A  AA                 TAX 
00928  A63B  88                 DEY 
00929  A63C  B1 5F              LDA ($5F),Y
00930  A63E  B0 D7              BCS XXA617
00931  A640  18          XXA640 CLC 
00932  A641  60          XXA641 RTS 
00933  A642              ;********************************
00934  A642              ; NEW COMMAND
00935  A642              ;********************************
00936  A642  D0 FD       ZZA642 BNE XXA641
00937  A644  A9 00       KKA644 LDA #$00
00938  A646  A8                 TAY 
00939  A647  91 2B              STA (TXTTAB),Y
00940  A649  C8                 INY 
00941  A64A  91 2B              STA (TXTTAB),Y
00942  A64C  A5 2B              LDA TXTTAB
00943  A64E  18                 CLC 
00944  A64F  69 02              ADC #$02
00945  A651  85 2D              STA VARTAB
00946  A653  A5 2C              LDA TXTTAB+1
00947  A655  69 00              ADC #$00
00948  A657  85 2E              STA VARTAB+1
00949  A659  20 8E A6    XXA659 JSR XXA68E
00950  A65C  A9 00              LDA #$00
00951  A65E              ;********************************
00952  A65E              ; CLR COMMAND
00953  A65E              ;********************************
00954  A65E  D0 2D              BNE XXA68D
00955  A660  20 E7 FF    XXA660 JSR CLALL
00956  A663  A5 37       KKA663 LDA MEMSIZ
00957  A665  A4 38              LDY MEMSIZ+1
00958  A667  85 33              STA FRETOP
00959  A669  84 34              STY FRETOP+1
00960  A66B  A5 2D              LDA VARTAB
00961  A66D  A4 2E              LDY VARTAB+1
00962  A66F  85 2F              STA ARYTAB
00963  A671  84 30              STY ARYTAB+1
00964  A673  85 31              STA STREND
00965  A675  84 32              STY STREND+1
00966  A677  20 1D A8    KKA677 JSR XXA81D
00967  A67A              ;********************************
00968  A67A              ; RESET STACK AND PROGRAM POINTERS
00969  A67A              ;********************************
00970  A67A  A2 19       XXA67A LDX #$19
00971  A67C  86 16              STX TEMPPT
00972  A67E  68                 PLA 
00973  A67F  A8                 TAY 
00974  A680  68                 PLA 
00975  A681  A2 FA              LDX #$FA
00976  A683  9A                 TXS 






BASICV2A.ASM......PAGE 0022

LINE# LOC   CODE        LINE


00977  A684  48                 PHA 
00978  A685  98                 TYA 
00979  A686  48                 PHA 
00980  A687  A9 00              LDA #$00
00981  A689  85 3E              STA OLDTXT+1
00982  A68B  85 10              STA $10
00983  A68D  60          XXA68D RTS 
00984  A68E              ;********************************
00985  A68E              ; SET CURRENT CHARACTER POINTER TO START OF BASIC
 - 1
00986  A68E              ;********************************
00987  A68E  18          XXA68E CLC 
00988  A68F  A5 2B              LDA TXTTAB
00989  A691  69 FF              ADC #$FF
00990  A693  85 7A              STA $7A
00991  A695  A5 2C              LDA TXTTAB+1
00992  A697  69 FF              ADC #$FF
00993  A699  85 7B              STA $7B
00994  A69B  60          XXA69B RTS 
00995  A69C              ;********************************
00996  A69C              ; LIST COMMAND
00997  A69C              ;********************************
00998  A69C  90 06       ZZA69C BCC XXA6A4
00999  A69E  F0 04              BEQ XXA6A4
01000  A6A0  C9 AB              CMP #$AB
01001  A6A2  D0 E9              BNE XXA68D
01002  A6A4  20 6B A9    XXA6A4 JSR XXA96B
01003  A6A7  20 13 A6           JSR XXA613
01004  A6AA  20 79 00           JSR $0079
01005  A6AD  F0 0C              BEQ XXA6BB
01006  A6AF  C9 AB              CMP #$AB
01007  A6B1  D0 8E              BNE XXA641
01008  A6B3  20 73 00           JSR $0073
01009  A6B6  20 6B A9           JSR XXA96B
01010  A6B9  D0 86              BNE XXA641
01011  A6BB  68          XXA6BB PLA 
01012  A6BC  68                 PLA 
01013  A6BD  A5 14              LDA LINNUM
01014  A6BF  05 15              ORA LINNUM+1
01015  A6C1  D0 06              BNE XXA6C9
01016  A6C3  A9 FF              LDA #$FF
01017  A6C5  85 14              STA LINNUM
01018  A6C7  85 15              STA LINNUM+1
01019  A6C9              ;********************************
01020  A6C9              ; LIST LINES FROM $5F/$60 TO LINNUM/LINNUM+1
01021  A6C9              ;********************************
01022  A6C9  A0 01       XXA6C9 LDY #$01
01023  A6CB  84 0F              STY $0F
01024  A6CD  B1 5F              LDA ($5F),Y
01025  A6CF  F0 43              BEQ XXA714
01026  A6D1  20 2C A8           JSR XXA82C
01027  A6D4  20 D7 AA           JSR XXAAD7
01028  A6D7  C8                 INY 
01029  A6D8  B1 5F              LDA ($5F),Y
01030  A6DA  AA                 TAX 
01031  A6DB  C8                 INY 






BASICV2A.ASM......PAGE 0023

LINE# LOC   CODE        LINE


01032  A6DC  B1 5F              LDA ($5F),Y
01033  A6DE  C5 15              CMP LINNUM+1
01034  A6E0  D0 04              BNE XXA6E6
01035  A6E2  E4 14              CPX LINNUM
01036  A6E4  F0 02              BEQ XXA6E8
01037  A6E6  B0 2C       XXA6E6 BCS XXA714
01038  A6E8  84 49       XXA6E8 STY $49
01039  A6EA  20 CD BD           JSR XXBDCD
01040  A6ED  A9 20              LDA #$20        ;' '
01041  A6EF  A4 49       XXA6EF LDY $49
01042  A6F1  29 7F              AND #$7F
01043  A6F3  20 47 AB    XXA6F3 JSR XXAB47
01044  A6F6  C9 22              CMP #$22        ;'"'
01045  A6F8  D0 06              BNE XXA700
01046  A6FA  A5 0F              LDA $0F
01047  A6FC  49 FF              EOR #$FF
01048  A6FE  85 0F              STA $0F
01049  A700  C8          XXA700 INY 
01050  A701  F0 11              BEQ XXA714
01051  A703  B1 5F              LDA ($5F),Y
01052  A705  D0 10              BNE XXA717
01053  A707  A8                 TAY 
01054  A708  B1 5F              LDA ($5F),Y
01055  A70A  AA                 TAX 
01056  A70B  C8                 INY 
01057  A70C  B1 5F              LDA ($5F),Y
01058  A70E  86 5F              STX $5F
01059  A710  85 60              STA $60
01060  A712  D0 B5              BNE XXA6C9
01061  A714  4C 86 E3    XXA714 JMP $E386
01062  A717              ;********************************
01063  A717              ; PRINT TOKENS ROUTINE
01064  A717              ;********************************
01065  A717  6C 06 03    XXA717 JMP (IQPLOP)    ; NORMALLY A71A
01066  A71A              ;********************************
01067  A71A              ; STANDARD TOKEN PRINTER
01068  A71A              ;********************************
01069  A71A  10 D7       ZZA71A BPL XXA6F3
01070  A71C  C9 FF              CMP #$FF
01071  A71E  F0 D3              BEQ XXA6F3
01072  A720  24 0F              BIT $0F
01073  A722  30 CF              BMI XXA6F3
01074  A724  38                 SEC 
01075  A725  E9 7F              SBC #$7F
01076  A727  AA                 TAX 
01077  A728  84 49              STY $49
01078  A72A  A0 FF              LDY #$FF
01079  A72C  CA          XXA72C DEX 
01080  A72D  F0 08              BEQ XXA737
01081  A72F  C8          XXA72F INY 
01082  A730  B9 9E A0           LDA XXA09E,Y
01083  A733  10 FA              BPL XXA72F
01084  A735  30 F5              BMI XXA72C
01085  A737              ;********************************
01086  A737              ; PRINT KEYWORD






BASICV2A.ASM......PAGE 0024

LINE# LOC   CODE        LINE


01087  A737              ;********************************
01088  A737  C8          XXA737 INY 
01089  A738  B9 9E A0           LDA XXA09E,Y
01090  A73B  30 B2              BMI XXA6EF
01091  A73D  20 47 AB           JSR XXAB47
01092  A740  D0 F5              BNE XXA737
01093  A742              ;********************************
01094  A742              ; FOR COMMAND
01095  A742              ;********************************
01096  A742  A9 80       ZZA742 LDA #$80
01097  A744  85 10              STA $10
01098  A746  20 A5 A9           JSR XXA9A5
01099  A749  20 8A A3           JSR XXA38A
01100  A74C  D0 05              BNE XXA753
01101  A74E  8A                 TXA 
01102  A74F  69 0F              ADC #$0F
01103  A751  AA                 TAX 
01104  A752  9A                 TXS 
01105  A753  68          XXA753 PLA 
01106  A754  68                 PLA 
01107  A755  A9 09              LDA #$09
01108  A757  20 FB A3           JSR XXA3FB
01109  A75A  20 06 A9           JSR XXA906
01110  A75D  18                 CLC 
01111  A75E  98                 TYA 
01112  A75F  65 7A              ADC $7A
01113  A761  48                 PHA 
01114  A762  A5 7B              LDA $7B
01115  A764  69 00              ADC #$00
01116  A766  48                 PHA 
01117  A767  A5 3A              LDA CURLIN+1
01118  A769  48                 PHA 
01119  A76A  A5 39              LDA CURLIN
01120  A76C  48                 PHA 
01121  A76D  A9 A4              LDA #$A4
01122  A76F  20 FF AE           JSR XXAEFF
01123  A772  20 8D AD           JSR XXAD8D
01124  A775  20 8A AD           JSR XXAD8A
01125  A778  A5 66              LDA $66
01126  A77A  09 7F              ORA #$7F
01127  A77C  25 62              AND $62
01128  A77E  85 62              STA $62
01129  A780  A9 8B              LDA #$8B        ; LOW  A78B
01130  A782  A0 A7              LDY #$A7        ; HIGH A78B
01131  A784  85 22              STA INDEX
01132  A786  84 23              STY INDEX+1
01133  A788  4C 43 AE           JMP XXAE43
01134  A78B              ;********************************
01135  A78B              ;
01136  A78B              ;********************************
01137  A78B  A9 BC       ZZA78B LDA #$BC        ; LOW  B9BC
01138  A78D  A0 B9              LDY #$B9        ; HIGH B9BC
01139  A78F  20 A2 BB           JSR XXBBA2
01140  A792  20 79 00           JSR $0079
01141  A795  C9 A9              CMP #$A9






BASICV2A.ASM......PAGE 0025

LINE# LOC   CODE        LINE


01142  A797  D0 06              BNE XXA79F
01143  A799  20 73 00           JSR $0073
01144  A79C  20 8A AD           JSR XXAD8A
01145  A79F  20 2B BC    XXA79F JSR XXBC2B
01146  A7A2  20 38 AE           JSR XXAE38
01147  A7A5  A5 4A              LDA $4A
01148  A7A7  48                 PHA 
01149  A7A8  A5 49              LDA $49
01150  A7AA  48                 PHA 
01151  A7AB  A9 81              LDA #$81        ; FOR BLOCK CODE
01152  A7AD  48                 PHA 
01153  A7AE              ;********************************
01154  A7AE              ; EXECUTE NEXT STATEMENT
01155  A7AE              ;********************************
01156  A7AE  20 2C A8    XXA7AE JSR XXA82C
01157  A7B1  A5 7A              LDA $7A
01158  A7B3  A4 7B              LDY $7B
01159  A7B5  C0 02              CPY #$02
01160  A7B7  EA                 NOP 
01161  A7B8  F0 04              BEQ XXA7BE
01162  A7BA  85 3D              STA OLDTXT
01163  A7BC  84 3E              STY OLDTXT+1
01164  A7BE  A0 00       XXA7BE LDY #$00
01165  A7C0  B1 7A              LDA ($7A),Y
01166  A7C2  D0 43              BNE XXA807
01167  A7C4  A0 02              LDY #$02
01168  A7C6  B1 7A              LDA ($7A),Y
01169  A7C8  18                 CLC 
01170  A7C9  D0 03              BNE XXA7CE
01171  A7CB  4C 4B A8           JMP XXA84B
01172  A7CE              ;********************************
01173  A7CE              ;
01174  A7CE              ;********************************
01175  A7CE  C8          XXA7CE INY 
01176  A7CF  B1 7A              LDA ($7A),Y
01177  A7D1  85 39              STA CURLIN
01178  A7D3  C8                 INY 
01179  A7D4  B1 7A              LDA ($7A),Y
01180  A7D6  85 3A              STA CURLIN+1
01181  A7D8  98                 TYA 
01182  A7D9  65 7A              ADC $7A
01183  A7DB  85 7A              STA $7A
01184  A7DD  90 02              BCC XXA7E1
01185  A7DF  E6 7B              INC $7B
01186  A7E1  6C 08 03    XXA7E1 JMP (IGONE)     ; NORMALLY A7E4
01187  A7E4              ;********************************
01188  A7E4              ; EXECUTE A STATEMENT
01189  A7E4              ;********************************
01190  A7E4  20 73 00    KKA7E4 JSR $0073
01191  A7E7  20 ED A7           JSR XXA7ED
01192  A7EA  4C AE A7           JMP XXA7AE
01193  A7ED              ;********************************
01194  A7ED              ; EXECUTE COMMAND IN A
01195  A7ED              ;********************************
01196  A7ED  F0 3C       XXA7ED BEQ XXA82B






BASICV2A.ASM......PAGE 0026

LINE# LOC   CODE        LINE


01197  A7EF  E9 80       XXA7EF SBC #$80
01198  A7F1  90 11              BCC XXA804
01199  A7F3  C9 23              CMP #$23        ;'#'
01200  A7F5  B0 17              BCS XXA80E
01201  A7F7  0A                 ASL A
01202  A7F8  A8                 TAY 
01203  A7F9  B9 0D A0           LDA ZZA00C+1,Y
01204  A7FC  48                 PHA 
01205  A7FD  B9 0C A0           LDA ZZA00C,Y
01206  A800  48                 PHA 
01207  A801  4C 73 00           JMP $0073
01208  A804              ;********************************
01209  A804              ;
01210  A804              ;********************************
01211  A804  4C A5 A9    XXA804 JMP XXA9A5
01212  A807              ;********************************
01213  A807  C9 3A       XXA807 CMP #$3A        ;':'
01214  A809  F0 D6              BEQ XXA7E1
01215  A80B  4C 08 AF    XXA80B JMP XXAF08
01216  A80E              ;********************************
01217  A80E              ;
01218  A80E              ;********************************
01219  A80E  C9 4B       XXA80E CMP #$4B        ; GO CODE
01220  A810  D0 F9              BNE XXA80B
01221  A812  20 73 00           JSR $0073
01222  A815  A9 A4              LDA #$A4        ; TO CODE
01223  A817  20 FF AE           JSR XXAEFF
01224  A81A  4C A0 A8           JMP XXA8A0      ; DO GOTO
01225  A81D              ;********************************
01226  A81D              ; RESTORE COMMAND
01227  A81D              ;********************************
01228  A81D  38          XXA81D SEC 
01229  A81E  A5 2B              LDA TXTTAB
01230  A820  E9 01              SBC #$01
01231  A822  A4 2C              LDY TXTTAB+1
01232  A824  B0 01              BCS XXA827
01233  A826  88                 DEY 
01234  A827  85 41       XXA827 STA DATPRT
01235  A829  84 42              STY DATPRT+1
01236  A82B  60          XXA82B RTS 
01237  A82C              ;********************************
01238  A82C              ; STOP COMMAND
01239  A82C              ;********************************
01240  A82C  20 E1 FF    XXA82C JSR $FFE1       ; TEST STOP KEY
01241  A82F              ;********************************
01242  A82F              ; STOP COMMAND
01243  A82F              ;********************************
01244  A82F  B0 01              BCS XXA832
01245  A831  18          ZZA831 CLC
01246  A832              ;********************************
01247  A832              ; END COMMAND
01248  A832              ;********************************
01249  A832  D0 3C       XXA832 BNE XXA870
01250  A834  A5 7A              LDA $7A
01251  A836  A4 7B              LDY $7B






BASICV2A.ASM......PAGE 0027

LINE# LOC   CODE        LINE


01252  A838  A6 3A              LDX CURLIN+1
01253  A83A  E8                 INX 
01254  A83B  F0 0C              BEQ XXA849
01255  A83D  85 3D              STA OLDTXT
01256  A83F  84 3E              STY OLDTXT+1
01257  A841  A5 39              LDA CURLIN
01258  A843  A4 3A              LDY CURLIN+1
01259  A845  85 3B              STA OLDLIN
01260  A847  84 3C              STY OLDLIN+1
01261  A849  68          XXA849 PLA 
01262  A84A  68                 PLA 
01263  A84B  A9 81       XXA84B LDA #<WWA381    ;#$81   ; LOW  A381
01264  A84D  A0 A3              LDY #>WWA381    ;#$A3   ; HIGH A381
01265  A84F  90 03              BCC XXA854
01266  A851  4C 69 A4           JMP XXA469
01267  A854              ;********************************
01268  A854              ;
01269  A854              ;********************************
01270  A854  4C 86 E3    XXA854 JMP $E386
01271  A857              ;********************************
01272  A857              ; CONT COMMAND
01273  A857              ;********************************
01274  A857  D0 17       ZZA857 BNE XXA870
01275  A859  A2 1A              LDX #$1A        ; ERROR NUMBER
01276  A85B  A4 3E              LDY OLDTXT+1
01277  A85D  D0 03              BNE XXA862
01278  A85F  4C 37 A4           JMP XXA437
01279  A862              ;********************************
01280  A862              ;
01281  A862              ;********************************
01282  A862  A5 3D       XXA862 LDA OLDTXT
01283  A864  85 7A              STA $7A
01284  A866  84 7B              STY $7B
01285  A868  A5 3B              LDA OLDLIN
01286  A86A  A4 3C              LDY OLDLIN+1
01287  A86C  85 39              STA CURLIN
01288  A86E  84 3A              STY CURLIN+1
01289  A870  60          XXA870 RTS 
01290  A871              ;********************************
01291  A871              ; RUN COMMAND
01292  A871              ;********************************
01293  A871  08          ZZA871 PHP 
01294  A872  A9 00              LDA #$00
01295  A874  20 90 FF           JSR $FF90
01296  A877  28                 PLP 
01297  A878  D0 03              BNE XXA87D
01298  A87A  4C 59 A6           JMP XXA659
01299  A87D              ;********************************
01300  A87D              ;
01301  A87D              ;********************************
01302  A87D  20 60 A6    XXA87D JSR XXA660      ; DO CLR
01303  A880  4C 97 A8           JMP XXA897      ; DO GOTO
01304  A883              ;********************************
01305  A883              ; GOSUB COMMAND
01306  A883              ;********************************






BASICV2A.ASM......PAGE 0028

LINE# LOC   CODE        LINE


01307  A883  A9 03       ZZA883 LDA #$03
01308  A885  20 FB A3           JSR XXA3FB
01309  A888  A5 7B              LDA $7B
01310  A88A  48                 PHA 
01311  A88B  A5 7A              LDA $7A
01312  A88D  48                 PHA 
01313  A88E  A5 3A              LDA CURLIN+1
01314  A890  48                 PHA 
01315  A891  A5 39              LDA CURLIN
01316  A893  48                 PHA 
01317  A894  A9 8D              LDA #$8D
01318  A896  48                 PHA 
01319  A897  20 79 00    XXA897 JSR $0079
01320  A89A  20 A0 A8           JSR XXA8A0
01321  A89D  4C AE A7           JMP XXA7AE
01322  A8A0              ;********************************
01323  A8A0              ;
01324  A8A0              ;********************************
01325  A8A0  20 6B A9    XXA8A0 JSR XXA96B
01326  A8A3  20 09 A9           JSR XXA909
01327  A8A6  38                 SEC 
01328  A8A7  A5 39              LDA CURLIN
01329  A8A9  E5 14              SBC LINNUM
01330  A8AB  A5 3A              LDA CURLIN+1
01331  A8AD  E5 15              SBC LINNUM+1
01332  A8AF  B0 0B              BCS XXA8BC
01333  A8B1  98                 TYA 
01334  A8B2  38                 SEC 
01335  A8B3  65 7A              ADC $7A
01336  A8B5  A6 7B              LDX $7B
01337  A8B7  90 07              BCC XXA8C0
01338  A8B9  E8                 INX 
01339  A8BA  B0 04              BCS XXA8C0
01340  A8BC  A5 2B       XXA8BC LDA TXTTAB
01341  A8BE  A6 2C              LDX TXTTAB+1
01342  A8C0  20 17 A6    XXA8C0 JSR XXA617
01343  A8C3  90 1E              BCC XXA8E3
01344  A8C5  A5 5F              LDA $5F
01345  A8C7  E9 01              SBC #$01
01346  A8C9  85 7A              STA $7A
01347  A8CB  A5 60              LDA $60
01348  A8CD  E9 00              SBC #$00
01349  A8CF  85 7B              STA $7B
01350  A8D1  60          XXA8D1 RTS 
01351  A8D2              ;********************************
01352  A8D2              ;
01353  A8D2              ;********************************
01354  A8D2  D0 FD              BNE XXA8D1
01355  A8D4  A9 FF              LDA #$FF
01356  A8D6  85 4A              STA $4A
01357  A8D8  20 8A A3           JSR XXA38A
01358  A8DB  9A                 TXS 
01359  A8DC  C9 8D              CMP #$8D
01360  A8DE  F0 0B              BEQ XXA8EB
01361  A8E0  A2 0C              LDX #$0C






BASICV2A.ASM......PAGE 0029

LINE# LOC   CODE        LINE


01362  A8E2              ;********************************
01363  A8E2  2C                 .BYTE $2C
01364  A8E3              ;********************************
01365  A8E3  A2 11       XXA8E3 LDX #$11
01366  A8E5  4C 37 A4           JMP XXA437
01367  A8E8              ;********************************
01368  A8E8              ;
01369  A8E8              ;********************************
01370  A8E8  4C 08 AF    XXA8E8 JMP XXAF08
01371  A8EB              ;********************************
01372  A8EB              ;
01373  A8EB              ;********************************
01374  A8EB  68          XXA8EB PLA 
01375  A8EC  68                 PLA 
01376  A8ED  85 39              STA CURLIN
01377  A8EF  68                 PLA 
01378  A8F0  85 3A              STA CURLIN+1
01379  A8F2  68                 PLA 
01380  A8F3  85 7A              STA $7A
01381  A8F5  68                 PLA 
01382  A8F6  85 7B              STA $7B
01383  A8F8              ;********************************
01384  A8F8              ; DATA
01385  A8F8              ;********************************
01386  A8F8  20 06 A9    XXA8F8 JSR XXA906
01387  A8FB  98          XXA8FB TYA 
01388  A8FC  18                 CLC 
01389  A8FD  65 7A              ADC $7A
01390  A8FF  85 7A              STA $7A
01391  A901  90 02              BCC XXA905
01392  A903  E6 7B              INC $7B
01393  A905  60          XXA905 RTS 
01394  A906              ;********************************
01395  A906              ;
01396  A906              ;********************************
01397  A906  A2 3A       XXA906 LDX #$3A        ;':'
01398  A908              ;********************************
01399  A908  2C                 .BYTE $2C
01400  A909              ;********************************
01401  A909  A2 00       XXA909 LDX #$00
01402  A90B  86 07              STX $07
01403  A90D  A0 00              LDY #$00
01404  A90F  84 08              STY $08
01405  A911  A5 08       XXA911 LDA $08
01406  A913  A6 07              LDX $07
01407  A915  85 07              STA $07
01408  A917  86 08              STX $08
01409  A919  B1 7A       XXA919 LDA ($7A),Y
01410  A91B  F0 E8              BEQ XXA905
01411  A91D  C5 08              CMP $08
01412  A91F  F0 E4              BEQ XXA905
01413  A921  C8                 INY 
01414  A922  C9 22              CMP #$22        ;'"'
01415  A924  D0 F3              BNE XXA919
01416  A926  F0 E9              BEQ XXA911






BASICV2A.ASM......PAGE 0030

LINE# LOC   CODE        LINE


01417  A928  20 9E AD           JSR XXAD9E
01418  A92B  20 79 00           JSR $0079
01419  A92E  C9 89              CMP #$89
01420  A930  F0 05              BEQ XXA937
01421  A932  A9 A7              LDA #$A7
01422  A934  20 FF AE           JSR XXAEFF
01423  A937  A5 61       XXA937 LDA $61
01424  A939  D0 05              BNE XXA940
01425  A93B  20 09 A9           JSR XXA909
01426  A93E  F0 BB              BEQ XXA8FB
01427  A940  20 79 00    XXA940 JSR $0079
01428  A943  B0 03              BCS XXA948
01429  A945  4C A0 A8           JMP XXA8A0
01430  A948              ;********************************
01431  A948              ;
01432  A948              ;********************************
01433  A948  4C ED A7    XXA948 JMP XXA7ED
01434  A94B              ;********************************
01435  A94B              ;
01436  A94B              ;********************************
01437  A94B  20 9E B7           JSR XXB79E
01438  A94E  48                 PHA 
01439  A94F  C9 8D              CMP #$8D
01440  A951  F0 04              BEQ XXA957
01441  A953  C9 89       XXA953 CMP #$89
01442  A955  D0 91              BNE XXA8E8
01443  A957  C6 65       XXA957 DEC $65
01444  A959  D0 04              BNE XXA95F
01445  A95B  68                 PLA 
01446  A95C  4C EF A7           JMP XXA7EF
01447  A95F              ;********************************
01448  A95F              ;
01449  A95F              ;********************************
01450  A95F  20 73 00    XXA95F JSR $0073
01451  A962  20 6B A9           JSR XXA96B
01452  A965  C9 2C              CMP #$2C        ;','
01453  A967  F0 EE              BEQ XXA957
01454  A969  68                 PLA 
01455  A96A  60          XXA96A RTS 
01456  A96B              ;********************************
01457  A96B              ;
01458  A96B              ;********************************
01459  A96B  A2 00       XXA96B LDX #$00
01460  A96D  86 14              STX LINNUM
01461  A96F  86 15              STX LINNUM+1
01462  A971  B0 F7       XXA971 BCS XXA96A
01463  A973  E9 2F              SBC #$2F        ;'/'
01464  A975  85 07              STA $07
01465  A977  A5 15              LDA LINNUM+1
01466  A979  85 22              STA INDEX
01467  A97B  C9 19              CMP #$19
01468  A97D  B0 D4              BCS XXA953
01469  A97F  A5 14              LDA LINNUM
01470  A981  0A                 ASL A
01471  A982  26 22              ROL INDEX






BASICV2A.ASM......PAGE 0031

LINE# LOC   CODE        LINE


01472  A984  0A                 ASL A
01473  A985  26 22              ROL INDEX
01474  A987  65 14              ADC LINNUM
01475  A989  85 14              STA LINNUM
01476  A98B  A5 22              LDA INDEX
01477  A98D  65 15              ADC LINNUM+1
01478  A98F  85 15              STA LINNUM+1
01479  A991  06 14              ASL LINNUM
01480  A993  26 15              ROL LINNUM+1
01481  A995  A5 14              LDA LINNUM
01482  A997  65 07              ADC $07
01483  A999  85 14              STA LINNUM
01484  A99B  90 02              BCC XXA99F
01485  A99D  E6 15              INC LINNUM+1
01486  A99F  20 73 00    XXA99F JSR $0073
01487  A9A2  4C 71 A9           JMP XXA971
01488  A9A5              ;********************************
01489  A9A5              ;
01490  A9A5              ;********************************
01491  A9A5  20 8B B0    XXA9A5 JSR XXB08B
01492  A9A8  85 49              STA $49
01493  A9AA  84 4A              STY $4A
01494  A9AC  A9 B2              LDA #$B2
01495  A9AE  20 FF AE           JSR XXAEFF
01496  A9B1  A5 0E              LDA $0E
01497  A9B3  48                 PHA 
01498  A9B4  A5 0D              LDA $0D
01499  A9B6  48                 PHA 
01500  A9B7  20 9E AD           JSR XXAD9E
01501  A9BA  68                 PLA 
01502  A9BB  2A                 ROL A
01503  A9BC  20 90 AD           JSR XXAD90
01504  A9BF  D0 18              BNE XXA9D9
01505  A9C1  68                 PLA 
01506  A9C2  10 12       XXA9C2 BPL XXA9D6
01507  A9C4  20 1B BC           JSR XXBC1B
01508  A9C7  20 BF B1           JSR XXB1BF
01509  A9CA  A0 00              LDY #$00
01510  A9CC  A5 64              LDA $64
01511  A9CE  91 49              STA ($49),Y
01512  A9D0  C8                 INY 
01513  A9D1  A5 65              LDA $65
01514  A9D3  91 49              STA ($49),Y
01515  A9D5  60                 RTS 
01516  A9D6              ;********************************
01517  A9D6              ;
01518  A9D6              ;********************************
01519  A9D6  4C D0 BB    XXA9D6 JMP XXBBD0
01520  A9D9              ;********************************
01521  A9D9              ;
01522  A9D9              ;********************************
01523  A9D9  68          XXA9D9 PLA 
01524  A9DA  A4 4A       XXA9DA LDY $4A
01525  A9DC  C0 BF              CPY #$BF
01526  A9DE  D0 4C              BNE XXAA2C






BASICV2A.ASM......PAGE 0032

LINE# LOC   CODE        LINE


01527  A9E0  20 A6 B6           JSR XXB6A6
01528  A9E3  C9 06              CMP #$06
01529  A9E5  D0 3D              BNE XXAA24
01530  A9E7  A0 00              LDY #$00
01531  A9E9  84 61              STY $61
01532  A9EB  84 66              STY $66
01533  A9ED  84 71       XXA9ED STY $71
01534  A9EF  20 1D AA           JSR XXAA1D
01535  A9F2  20 E2 BA           JSR XXBAE2
01536  A9F5  E6 71              INC $71
01537  A9F7  A4 71              LDY $71
01538  A9F9  20 1D AA           JSR XXAA1D
01539  A9FC  20 0C BC           JSR XXBC0C
01540  A9FF  AA                 TAX 
01541  AA00  F0 05              BEQ XXAA07
01542  AA02  E8                 INX 
01543  AA03  8A                 TXA 
01544  AA04  20 ED BA           JSR XXBAED
01545  AA07  A4 71       XXAA07 LDY $71
01546  AA09  C8                 INY 
01547  AA0A  C0 06              CPY #$06
01548  AA0C  D0 DF              BNE XXA9ED
01549  AA0E  20 E2 BA           JSR XXBAE2
01550  AA11  20 9B BC           JSR XXBC9B
01551  AA14  A6 64              LDX $64
01552  AA16  A4 63              LDY $63
01553  AA18  A5 65              LDA $65
01554  AA1A  4C DB FF           JMP $FFDB
01555  AA1D              ;********************************
01556  AA1D              ;
01557  AA1D              ;********************************
01558  AA1D  B1 22       XXAA1D LDA (INDEX),Y
01559  AA1F  20 80 00           JSR $0080
01560  AA22  90 03              BCC XXAA27
01561  AA24  4C 48 B2    XXAA24 JMP XXB248
01562  AA27              ;********************************
01563  AA27              ;
01564  AA27              ;********************************
01565  AA27  E9 2F       XXAA27 SBC #$2F        ;'/'
01566  AA29  4C 7E BD           JMP XXBD7E
01567  AA2C              ;********************************
01568  AA2C              ;
01569  AA2C              ;********************************
01570  AA2C  A0 02       XXAA2C LDY #$02
01571  AA2E  B1 64              LDA ($64),Y
01572  AA30  C5 34              CMP FRETOP+1
01573  AA32  90 17              BCC XXAA4B
01574  AA34  D0 07              BNE XXAA3D
01575  AA36  88                 DEY 
01576  AA37  B1 64              LDA ($64),Y
01577  AA39  C5 33              CMP FRETOP
01578  AA3B  90 0E              BCC XXAA4B
01579  AA3D  A4 65       XXAA3D LDY $65
01580  AA3F  C4 2E              CPY VARTAB+1
01581  AA41  90 08              BCC XXAA4B






BASICV2A.ASM......PAGE 0033

LINE# LOC   CODE        LINE


01582  AA43  D0 0D              BNE XXAA52
01583  AA45  A5 64              LDA $64
01584  AA47  C5 2D              CMP VARTAB
01585  AA49  B0 07              BCS XXAA52
01586  AA4B  A5 64       XXAA4B LDA $64
01587  AA4D  A4 65              LDY $65
01588  AA4F  4C 68 AA           JMP XXAA68
01589  AA52              ;********************************
01590  AA52              ;
01591  AA52              ;********************************
01592  AA52  A0 00       XXAA52 LDY #$00
01593  AA54  B1 64              LDA ($64),Y
01594  AA56  20 75 B4           JSR XXB475
01595  AA59  A5 50              LDA $50
01596  AA5B  A4 51              LDY $51
01597  AA5D  85 6F              STA $6F
01598  AA5F  84 70              STY $70
01599  AA61  20 7A B6           JSR XXB67A
01600  AA64  A9 61              LDA #$61
01601  AA66  A0 00              LDY #$00
01602  AA68  85 50       XXAA68 STA $50
01603  AA6A  84 51              STY $51
01604  AA6C  20 DB B6           JSR XXB6DB
01605  AA6F  A0 00              LDY #$00
01606  AA71  B1 50              LDA ($50),Y
01607  AA73  91 49              STA ($49),Y
01608  AA75  C8                 INY 
01609  AA76  B1 50              LDA ($50),Y
01610  AA78  91 49              STA ($49),Y
01611  AA7A  C8                 INY 
01612  AA7B  B1 50              LDA ($50),Y
01613  AA7D  91 49              STA ($49),Y
01614  AA7F  60          XXAA7F RTS 
01615  AA80              ;********************************
01616  AA80              ;
01617  AA80              ;********************************
01618  AA80  20 86 AA           JSR XXAA86
01619  AA83  4C B5 AB           JMP XXABB5
01620  AA86              ;********************************
01621  AA86              ;
01622  AA86              ;********************************
01623  AA86  20 9E B7    XXAA86 JSR XXB79E
01624  AA89  F0 05              BEQ XXAA90
01625  AA8B  A9 2C              LDA #$2C        ;','
01626  AA8D  20 FF AE           JSR XXAEFF
01627  AA90  08          XXAA90 PHP 
01628  AA91  86 13              STX $13
01629  AA93  20 18 E1           JSR $E118
01630  AA96  28                 PLP 
01631  AA97  4C A0 AA           JMP XXAAA0
01632  AA9A              ;********************************
01633  AA9A              ;
01634  AA9A              ;********************************
01635  AA9A  20 21 AB    XXAA9A JSR XXAB21
01636  AA9D  20 79 00    XXAA9D JSR $0079






BASICV2A.ASM......PAGE 0034

LINE# LOC   CODE        LINE


01637  AAA0  F0 35       XXAAA0 BEQ XXAAD7
01638  AAA2  F0 43       XXAAA2 BEQ XXAAE7
01639  AAA4  C9 A3              CMP #$A3
01640  AAA6  F0 50              BEQ XXAAF8
01641  AAA8  C9 A6              CMP #$A6
01642  AAAA  18                 CLC 
01643  AAAB  F0 4B              BEQ XXAAF8
01644  AAAD  C9 2C              CMP #$2C        ;','
01645  AAAF  F0 37              BEQ XXAAE8
01646  AAB1  C9 3B              CMP #$3B        ;';'
01647  AAB3  F0 5E              BEQ XXAB13
01648  AAB5  20 9E AD           JSR XXAD9E
01649  AAB8  24 0D              BIT $0D
01650  AABA  30 DE              BMI XXAA9A
01651  AABC  20 DD BD           JSR XXBDDD
01652  AABF  20 87 B4           JSR XXB487
01653  AAC2  20 21 AB           JSR XXAB21
01654  AAC5  20 3B AB           JSR XXAB3B
01655  AAC8  D0 D3              BNE XXAA9D
01656  AACA  A9 00       XXAACA LDA #$00
01657  AACC  9D 00 02           STA BUF,X
01658  AACF  A2 FF              LDX #$FF
01659  AAD1  A0 01              LDY #$01
01660  AAD3  A5 13              LDA $13
01661  AAD5  D0 10              BNE XXAAE7
01662  AAD7  A9 0D       XXAAD7 LDA #$0D
01663  AAD9  20 47 AB           JSR XXAB47
01664  AADC  24 13              BIT $13
01665  AADE  10 05              BPL XXAAE5
01666  AAE0  A9 0A              LDA #$0A
01667  AAE2  20 47 AB           JSR XXAB47
01668  AAE5  49 FF       XXAAE5 EOR #$FF
01669  AAE7  60          XXAAE7 RTS 
01670  AAE8              ;********************************
01671  AAE8              ;
01672  AAE8              ;********************************
01673  AAE8  38          XXAAE8 SEC 
01674  AAE9  20 F0 FF           JSR $FFF0
01675  AAEC  98                 TYA 
01676  AAED  38                 SEC 
01677  AAEE  E9 0A       XXAAEE SBC #$0A
01678  AAF0  B0 FC              BCS XXAAEE
01679  AAF2  49 FF              EOR #$FF
01680  AAF4  69 01              ADC #$01
01681  AAF6  D0 16              BNE XXAB0E
01682  AAF8  08          XXAAF8 PHP 
01683  AAF9  38                 SEC 
01684  AAFA  20 F0 FF           JSR $FFF0
01685  AAFD  84 09              STY $09
01686  AAFF  20 9B B7           JSR XXB79B
01687  AB02  C9 29              CMP #$29        ;')'
01688  AB04  D0 59              BNE XXAB5F
01689  AB06  28                 PLP 
01690  AB07  90 06              BCC XXAB0F
01691  AB09  8A                 TXA 






BASICV2A.ASM......PAGE 0035

LINE# LOC   CODE        LINE


01692  AB0A  E5 09              SBC $09
01693  AB0C  90 05              BCC XXAB13
01694  AB0E  AA          XXAB0E TAX 
01695  AB0F  E8          XXAB0F INX 
01696  AB10  CA          XXAB10 DEX 
01697  AB11  D0 06              BNE XXAB19
01698  AB13  20 73 00    XXAB13 JSR $0073
01699  AB16  4C A2 AA           JMP XXAAA2
01700  AB19              ;********************************
01701  AB19              ;
01702  AB19              ;********************************
01703  AB19  20 3B AB    XXAB19 JSR XXAB3B
01704  AB1C  D0 F2              BNE XXAB10
01705  AB1E  20 87 B4    XXAB1E JSR XXB487
01706  AB21  20 A6 B6    XXAB21 JSR XXB6A6
01707  AB24  AA                 TAX 
01708  AB25  A0 00              LDY #$00
01709  AB27  E8                 INX 
01710  AB28  CA          XXAB28 DEX 
01711  AB29  F0 BC              BEQ XXAAE7
01712  AB2B  B1 22              LDA (INDEX),Y
01713  AB2D  20 47 AB           JSR XXAB47
01714  AB30  C8                 INY 
01715  AB31  C9 0D              CMP #$0D
01716  AB33  D0 F3              BNE XXAB28
01717  AB35  20 E5 AA           JSR XXAAE5
01718  AB38  4C 28 AB           JMP XXAB28
01719  AB3B              ;********************************
01720  AB3B              ;
01721  AB3B              ;********************************
01722  AB3B  A5 13       XXAB3B LDA $13
01723  AB3D  F0 03              BEQ XXAB42
01724  AB3F  A9 20              LDA #$20        ;' '
01725  AB41              ;********************************
01726  AB41  2C                 .BYTE $2C
01727  AB42              ;********************************
01728  AB42  A9 1D       XXAB42 LDA #$1D
01729  AB44              ;********************************
01730  AB44  2C                 .BYTE $2C
01731  AB45              ;********************************
01732  AB45  A9 3F       XXAB45 LDA #$3F        ;'?'
01733  AB47  20 0C E1    XXAB47 JSR $E10C
01734  AB4A  29 FF              AND #$FF
01735  AB4C  60                 RTS 
01736  AB4D              ;********************************
01737  AB4D              ;
01738  AB4D              ;********************************
01739  AB4D  A5 11       XXAB4D LDA $11
01740  AB4F  F0 11              BEQ XXAB62
01741  AB51  30 04              BMI XXAB57
01742  AB53  A0 FF              LDY #$FF
01743  AB55  D0 04              BNE XXAB5B
01744  AB57  A5 3F       XXAB57 LDA DATLIN
01745  AB59  A4 40              LDY DATLIN+1
01746  AB5B  85 39       XXAB5B STA CURLIN






BASICV2A.ASM......PAGE 0036

LINE# LOC   CODE        LINE


01747  AB5D  84 3A              STY CURLIN+1
01748  AB5F  4C 08 AF    XXAB5F JMP XXAF08
01749  AB62              ;********************************
01750  AB62              ;
01751  AB62              ;********************************
01752  AB62  A5 13       XXAB62 LDA $13
01753  AB64  F0 05              BEQ XXAB6B
01754  AB66  A2 18              LDX #$18
01755  AB68  4C 37 A4           JMP XXA437
01756  AB6B              ;********************************
01757  AB6B              ;
01758  AB6B              ;********************************
01759  AB6B  A9 0C       XXAB6B LDA #$0C
01760  AB6D  A0 AD              LDY #$AD
01761  AB6F  20 1E AB           JSR XXAB1E
01762  AB72  A5 3D              LDA OLDTXT
01763  AB74  A4 3E              LDY OLDTXT+1
01764  AB76  85 7A              STA $7A
01765  AB78  84 7B              STY $7B
01766  AB7A  60          XXAB7A RTS 
01767  AB7B              ;********************************
01768  AB7B              ;
01769  AB7B              ;********************************
01770  AB7B  20 A6 B3           JSR XXB3A6
01771  AB7E  C9 23              CMP #$23        ;'#'
01772  AB80  D0 10              BNE XXAB92
01773  AB82  20 73 00           JSR $0073
01774  AB85  20 9E B7           JSR XXB79E
01775  AB88  A9 2C              LDA #$2C        ;','
01776  AB8A  20 FF AE           JSR XXAEFF
01777  AB8D  86 13              STX $13
01778  AB8F  20 1E E1           JSR $E11E
01779  AB92  A2 01       XXAB92 LDX #$01
01780  AB94  A0 02              LDY #$02
01781  AB96  A9 00              LDA #$00
01782  AB98  8D 01 02           STA $0201
01783  AB9B  A9 40              LDA #$40        ;'@'
01784  AB9D  20 0F AC           JSR XXAC0F
01785  ABA0  A6 13              LDX $13
01786  ABA2  D0 13              BNE XXABB7
01787  ABA4  60          XXABA4 RTS 
01788  ABA5              ;********************************
01789  ABA5              ; INPUT#
01790  ABA5              ;********************************
01791  ABA5  20 9E B7    ZZABA5 JSR XXB79E
01792  ABA8  A9 2C              LDA #$2C        ;','
01793  ABAA  20 FF AE           JSR XXAEFF
01794  ABAD  86 13              STX $13
01795  ABAF  20 1E E1           JSR $E11E
01796  ABB2  20 CE AB           JSR XXABCE
01797  ABB5  A5 13       XXABB5 LDA $13
01798  ABB7  20 CC FF    XXABB7 JSR $FFCC
01799  ABBA  A2 00              LDX #$00
01800  ABBC  86 13              STX $13
01801  ABBE  60          XXABBE RTS 






BASICV2A.ASM......PAGE 0037

LINE# LOC   CODE        LINE


01802  ABBF              ;********************************
01803  ABBF              ; INPUT
01804  ABBF              ;********************************
01805  ABBF  C9 22       ZZABBF CMP #$22        ;'"'
01806  ABC1  D0 0B              BNE XXABCE
01807  ABC3  20 BD AE           JSR XXAEBD
01808  ABC6  A9 3B              LDA #$3B        ;';'
01809  ABC8  20 FF AE           JSR XXAEFF
01810  ABCB  20 21 AB           JSR XXAB21
01811  ABCE  20 A6 B3    XXABCE JSR XXB3A6
01812  ABD1  A9 2C              LDA #$2C        ;','
01813  ABD3  8D FF 01           STA $01FF
01814  ABD6  20 F9 AB    XXABD6 JSR XXABF9
01815  ABD9  A5 13              LDA $13
01816  ABDB  F0 0D              BEQ XXABEA
01817  ABDD  20 B7 FF           JSR $FFB7
01818  ABE0  29 02              AND #$02
01819  ABE2  F0 06              BEQ XXABEA
01820  ABE4  20 B5 AB           JSR XXABB5
01821  ABE7  4C F8 A8           JMP XXA8F8
01822  ABEA              ;********************************
01823  ABEA              ;
01824  ABEA              ;********************************
01825  ABEA  AD 00 02    XXABEA LDA BUF
01826  ABED  D0 1E              BNE XXAC0D
01827  ABEF  A5 13              LDA $13
01828  ABF1  D0 E3              BNE XXABD6
01829  ABF3  20 06 A9           JSR XXA906
01830  ABF6  4C FB A8           JMP XXA8FB
01831  ABF9              ;********************************
01832  ABF9              ;
01833  ABF9              ;********************************
01834  ABF9  A5 13       XXABF9 LDA $13
01835  ABFB  D0 06              BNE XXAC03
01836  ABFD  20 45 AB           JSR XXAB45
01837  AC00  20 3B AB           JSR XXAB3B
01838  AC03  4C 60 A5    XXAC03 JMP XXA560
01839  AC06              ;********************************
01840  AC06              ;
01841  AC06              ;********************************
01842  AC06  A6 41              LDX DATPRT
01843  AC08  A4 42              LDY DATPRT+1
01844  AC0A  A9 98              LDA #$98
01845  AC0C              ;********************************
01846  AC0C  2C                 .BYTE $2C
01847  AC0D              ;********************************
01848  AC0D  A9 00       XXAC0D LDA #$00
01849  AC0F  85 11       XXAC0F STA $11
01850  AC11  86 43              STX $43
01851  AC13  84 44              STY $44
01852  AC15  20 8B B0    XXAC15 JSR XXB08B
01853  AC18  85 49              STA $49
01854  AC1A  84 4A              STY $4A
01855  AC1C  A5 7A              LDA $7A
01856  AC1E  A4 7B              LDY $7B






BASICV2A.ASM......PAGE 0038

LINE# LOC   CODE        LINE


01857  AC20  85 4B              STA $4B
01858  AC22  84 4C              STY $4C
01859  AC24  A6 43              LDX $43
01860  AC26  A4 44              LDY $44
01861  AC28  86 7A              STX $7A
01862  AC2A  84 7B              STY $7B
01863  AC2C  20 79 00           JSR $0079
01864  AC2F  D0 20              BNE XXAC51
01865  AC31  24 11              BIT $11
01866  AC33  50 0C              BVC XXAC41
01867  AC35  20 24 E1           JSR $E124
01868  AC38  8D 00 02           STA BUF
01869  AC3B  A2 FF              LDX #$FF
01870  AC3D  A0 01              LDY #$01
01871  AC3F  D0 0C              BNE XXAC4D
01872  AC41  30 75       XXAC41 BMI XXACB8
01873  AC43  A5 13              LDA $13
01874  AC45  D0 03              BNE XXAC4A
01875  AC47  20 45 AB           JSR XXAB45
01876  AC4A  20 F9 AB    XXAC4A JSR XXABF9
01877  AC4D  86 7A       XXAC4D STX $7A
01878  AC4F  84 7B              STY $7B
01879  AC51  20 73 00    XXAC51 JSR $0073
01880  AC54  24 0D              BIT $0D
01881  AC56  10 31              BPL XXAC89
01882  AC58  24 11              BIT $11
01883  AC5A  50 09              BVC XXAC65
01884  AC5C  E8                 INX 
01885  AC5D  86 7A              STX $7A
01886  AC5F  A9 00              LDA #$00
01887  AC61  85 07              STA $07
01888  AC63  F0 0C              BEQ XXAC71
01889  AC65  85 07       XXAC65 STA $07
01890  AC67  C9 22              CMP #$22        ;'"'
01891  AC69  F0 07              BEQ XXAC72
01892  AC6B  A9 3A              LDA #$3A        ;':'
01893  AC6D  85 07              STA $07
01894  AC6F  A9 2C              LDA #$2C        ;','
01895  AC71  18          XXAC71 CLC 
01896  AC72  85 08       XXAC72 STA $08
01897  AC74  A5 7A              LDA $7A
01898  AC76  A4 7B              LDY $7B
01899  AC78  69 00              ADC #$00
01900  AC7A  90 01              BCC XXAC7D
01901  AC7C  C8                 INY 
01902  AC7D  20 8D B4    XXAC7D JSR XXB48D
01903  AC80  20 E2 B7           JSR XXB7E2
01904  AC83  20 DA A9           JSR XXA9DA
01905  AC86  4C 91 AC           JMP XXAC91
01906  AC89              ;********************************
01907  AC89              ;
01908  AC89              ;********************************
01909  AC89  20 F3 BC    XXAC89 JSR XXBCF3
01910  AC8C  A5 0E              LDA $0E
01911  AC8E  20 C2 A9           JSR XXA9C2






BASICV2A.ASM......PAGE 0039

LINE# LOC   CODE        LINE


01912  AC91  20 79 00    XXAC91 JSR $0079
01913  AC94  F0 07              BEQ XXAC9D
01914  AC96  C9 2C              CMP #$2C        ;','
01915  AC98  F0 03              BEQ XXAC9D
01916  AC9A  4C 4D AB           JMP XXAB4D
01917  AC9D              ;********************************
01918  AC9D              ;
01919  AC9D              ;********************************
01920  AC9D  A5 7A       XXAC9D LDA $7A
01921  AC9F  A4 7B              LDY $7B
01922  ACA1  85 43              STA $43
01923  ACA3  84 44              STY $44
01924  ACA5  A5 4B              LDA $4B
01925  ACA7  A4 4C              LDY $4C
01926  ACA9  85 7A              STA $7A
01927  ACAB  84 7B              STY $7B
01928  ACAD  20 79 00           JSR $0079
01929  ACB0  F0 2D              BEQ XXACDF
01930  ACB2  20 FD AE           JSR XXAEFD
01931  ACB5  4C 15 AC           JMP XXAC15
01932  ACB8              ;********************************
01933  ACB8              ;
01934  ACB8              ;********************************
01935  ACB8  20 06 A9    XXACB8 JSR XXA906
01936  ACBB  C8                 INY 
01937  ACBC  AA                 TAX 
01938  ACBD  D0 12              BNE XXACD1
01939  ACBF  A2 0D              LDX #$0D
01940  ACC1  C8                 INY 
01941  ACC2  B1 7A              LDA ($7A),Y
01942  ACC4  F0 6C              BEQ XXAD32
01943  ACC6  C8                 INY 
01944  ACC7  B1 7A              LDA ($7A),Y
01945  ACC9  85 3F              STA DATLIN
01946  ACCB  C8                 INY 
01947  ACCC  B1 7A              LDA ($7A),Y
01948  ACCE  C8                 INY 
01949  ACCF  85 40              STA DATLIN+1
01950  ACD1  20 FB A8    XXACD1 JSR XXA8FB
01951  ACD4  20 79 00           JSR $0079
01952  ACD7  AA                 TAX 
01953  ACD8  E0 83              CPX #$83
01954  ACDA  D0 DC              BNE XXACB8
01955  ACDC  4C 51 AC           JMP XXAC51
01956  ACDF              ;********************************
01957  ACDF              ;
01958  ACDF              ;********************************
01959  ACDF  A5 43       XXACDF LDA $43
01960  ACE1  A4 44              LDY $44
01961  ACE3  A6 11              LDX $11
01962  ACE5  10 03              BPL XXACEA
01963  ACE7  4C 27 A8           JMP XXA827
01964  ACEA              ;********************************
01965  ACEA              ;
01966  ACEA              ;********************************






BASICV2A.ASM......PAGE 0040

LINE# LOC   CODE        LINE


01967  ACEA  A0 00       XXACEA LDY #$00
01968  ACEC  B1 43              LDA ($43),Y
01969  ACEE  F0 0B              BEQ XXACFB
01970  ACF0  A5 13              LDA $13
01971  ACF2  D0 07              BNE XXACFB
01972  ACF4  A9 FC              LDA #$FC
01973  ACF6  A0 AC              LDY #$AC
01974  ACF8  4C 1E AB           JMP XXAB1E
01975  ACFB              ;********************************
01976  ACFB              ;
01977  ACFB              ;********************************
01978  ACFB  60          XXACFB RTS 
01979  ACFC              ;********************************
01980  ACFC              ;
01981  ACFC              ;********************************
01982  ACFC  3F 45              .BYTE '?EXTRA IGNORED'
01983  AD0A  0D                 .BYTE $0D
01984  AD0B  00                 .BYTE $00
01985  AD0C  3F 52              .BYTE '?REDO FROM START'
01986  AD1C  0D                 .BYTE $0D
01987  AD1D  00          XXAD1D .BYTE $00
01988  AD1E              ;********************************
01989  AD1E              ;
01990  AD1E              ;********************************
01991  AD1E  D0 04       ZZAD1E BNE XXAD24
01992  AD20  A0 00              LDY #$00
01993  AD22  F0 03              BEQ XXAD27
01994  AD24  20 8B B0    XXAD24 JSR XXB08B
01995  AD27  85 49       XXAD27 STA $49
01996  AD29  84 4A              STY $4A
01997  AD2B  20 8A A3           JSR XXA38A
01998  AD2E  F0 05              BEQ XXAD35
01999  AD30  A2 0A              LDX #$0A
02000  AD32  4C 37 A4    XXAD32 JMP XXA437
02001  AD35              ;********************************
02002  AD35              ;
02003  AD35              ;********************************
02004  AD35  9A          XXAD35 TXS 
02005  AD36  8A                 TXA 
02006  AD37  18                 CLC 
02007  AD38  69 04              ADC #$04
02008  AD3A  48                 PHA 
02009  AD3B  69 06              ADC #$06
02010  AD3D  85 24              STA INDEX+2
02011  AD3F  68                 PLA 
02012  AD40  A0 01              LDY #$01
02013  AD42  20 A2 BB           JSR XXBBA2
02014  AD45  BA                 TSX 
02015  AD46  BD 09 01           LDA $0109,X
02016  AD49  85 66              STA $66
02017  AD4B  A5 49              LDA $49
02018  AD4D  A4 4A              LDY $4A
02019  AD4F  20 67 B8           JSR XXB867
02020  AD52  20 D0 BB           JSR XXBBD0
02021  AD55  A0 01              LDY #$01






BASICV2A.ASM......PAGE 0041

LINE# LOC   CODE        LINE


02022  AD57  20 5D BC           JSR XXBC5D
02023  AD5A  BA                 TSX 
02024  AD5B  38                 SEC 
02025  AD5C  FD 09 01           SBC $0109,X
02026  AD5F  F0 17              BEQ XXAD78
02027  AD61  BD 0F 01           LDA $010F,X
02028  AD64  85 39              STA CURLIN
02029  AD66  BD 10 01           LDA $0110,X
02030  AD69  85 3A              STA CURLIN+1
02031  AD6B  BD 12 01           LDA $0112,X
02032  AD6E  85 7A              STA $7A
02033  AD70  BD 11 01           LDA $0111,X
02034  AD73  85 7B              STA $7B
02035  AD75  4C AE A7    XXAD75 JMP XXA7AE
02036  AD78              ;********************************
02037  AD78              ;
02038  AD78              ;********************************
02039  AD78  8A          XXAD78 TXA 
02040  AD79  69 11              ADC #$11
02041  AD7B  AA                 TAX 
02042  AD7C  9A                 TXS 
02043  AD7D  20 79 00           JSR $0079
02044  AD80  C9 2C              CMP #$2C        ;','
02045  AD82  D0 F1              BNE XXAD75
02046  AD84  20 73 00           JSR $0073
02047  AD87  20 24 AD           JSR XXAD24
02048  AD8A  20 9E AD    XXAD8A JSR XXAD9E
02049  AD8D  18          XXAD8D CLC 
02050  AD8E              ;********************************
02051  AD8E  24                 .BYTE $24
02052  AD8F              ;********************************
02053  AD8F  38          XXAD8F SEC 
02054  AD90  24 0D       XXAD90 BIT $0D
02055  AD92  30 03              BMI XXAD97
02056  AD94  B0 03              BCS XXAD99
02057  AD96  60          XXAD96 RTS 
02058  AD97              ;********************************
02059  AD97              ;
02060  AD97              ;********************************
02061  AD97  B0 FD       XXAD97 BCS XXAD96
02062  AD99  A2 16       XXAD99 LDX #$16
02063  AD9B  4C 37 A4           JMP XXA437
02064  AD9E              ;********************************
02065  AD9E              ;
02066  AD9E              ;********************************
02067  AD9E  A6 7A       XXAD9E LDX $7A
02068  ADA0  D0 02              BNE XXADA4
02069  ADA2  C6 7B              DEC $7B
02070  ADA4  C6 7A       XXADA4 DEC $7A
02071  ADA6  A2 00              LDX #$00
02072  ADA8              ;********************************
02073  ADA8  24                 .BYTE $24
02074  ADA9              ;********************************
02075  ADA9  48          XXADA9 PHA 
02076  ADAA  8A                 TXA 






BASICV2A.ASM......PAGE 0042

LINE# LOC   CODE        LINE


02077  ADAB  48                 PHA 
02078  ADAC  A9 01              LDA #$01
02079  ADAE  20 FB A3           JSR XXA3FB
02080  ADB1  20 83 AE           JSR XXAE83
02081  ADB4  A9 00              LDA #$00
02082  ADB6  85 4D              STA $4D
02083  ADB8  20 79 00    XXADB8 JSR $0079
02084  ADBB  38          XXADBB SEC 
02085  ADBC  E9 B1              SBC #$B1
02086  ADBE  90 17              BCC XXADD7
02087  ADC0  C9 03              CMP #$03
02088  ADC2  B0 13              BCS XXADD7
02089  ADC4  C9 01              CMP #$01
02090  ADC6  2A                 ROL A
02091  ADC7  49 01              EOR #$01
02092  ADC9  45 4D              EOR $4D
02093  ADCB  C5 4D              CMP $4D
02094  ADCD  90 61              BCC XXAE30
02095  ADCF  85 4D              STA $4D
02096  ADD1  20 73 00           JSR $0073
02097  ADD4  4C BB AD           JMP XXADBB
02098  ADD7              ;********************************
02099  ADD7              ;
02100  ADD7              ;********************************
02101  ADD7  A6 4D       XXADD7 LDX $4D
02102  ADD9  D0 2C              BNE XXAE07
02103  ADDB  B0 7B              BCS XXAE58
02104  ADDD  69 07              ADC #$07
02105  ADDF  90 77              BCC XXAE58
02106  ADE1  65 0D              ADC $0D
02107  ADE3  D0 03              BNE XXADE8
02108  ADE5  4C 3D B6           JMP XXB63D
02109  ADE8              ;********************************
02110  ADE8              ;
02111  ADE8              ;********************************
02112  ADE8  69 FF       XXADE8 ADC #$FF
02113  ADEA  85 22              STA INDEX
02114  ADEC  0A                 ASL A
02115  ADED  65 22              ADC INDEX
02116  ADEF  A8                 TAY 
02117  ADF0  68          XXADF0 PLA 
02118  ADF1  D9 80 A0           CMP XXA080,Y
02119  ADF4  B0 67              BCS XXAE5D
02120  ADF6  20 8D AD           JSR XXAD8D
02121  ADF9  48          XXADF9 PHA 
02122  ADFA  20 20 AE    XXADFA JSR XXAE20
02123  ADFD  68                 PLA 
02124  ADFE  A4 4B              LDY $4B
02125  AE00  10 17              BPL XXAE19
02126  AE02  AA                 TAX 
02127  AE03  F0 56              BEQ XXAE5B
02128  AE05  D0 5F              BNE XXAE66
02129  AE07  46 0D       XXAE07 LSR $0D
02130  AE09  8A                 TXA 
02131  AE0A  2A                 ROL A






BASICV2A.ASM......PAGE 0043

LINE# LOC   CODE        LINE


02132  AE0B  A6 7A              LDX $7A
02133  AE0D  D0 02              BNE XXAE11
02134  AE0F  C6 7B              DEC $7B
02135  AE11  C6 7A       XXAE11 DEC $7A
02136  AE13  A0 1B              LDY #$1B
02137  AE15  85 4D              STA $4D
02138  AE17  D0 D7              BNE XXADF0
02139  AE19  D9 80 A0    XXAE19 CMP XXA080,Y
02140  AE1C  B0 48              BCS XXAE66
02141  AE1E  90 D9              BCC XXADF9
02142  AE20  B9 82 A0    XXAE20 LDA XXA082,Y
02143  AE23  48                 PHA 
02144  AE24  B9 81 A0           LDA XXA081,Y
02145  AE27  48                 PHA 
02146  AE28  20 33 AE           JSR XXAE33
02147  AE2B  A5 4D              LDA $4D
02148  AE2D  4C A9 AD           JMP XXADA9
02149  AE30              ;********************************
02150  AE30              ;
02151  AE30              ;********************************
02152  AE30  4C 08 AF    XXAE30 JMP XXAF08
02153  AE33              ;********************************
02154  AE33              ;
02155  AE33              ;********************************
02156  AE33  A5 66       XXAE33 LDA $66
02157  AE35  BE 80 A0           LDX XXA080,Y
02158  AE38  A8          XXAE38 TAY 
02159  AE39  68                 PLA 
02160  AE3A  85 22              STA INDEX
02161  AE3C  E6 22              INC INDEX
02162  AE3E  68                 PLA 
02163  AE3F  85 23              STA INDEX+1
02164  AE41  98                 TYA 
02165  AE42  48                 PHA 
02166  AE43  20 1B BC    XXAE43 JSR XXBC1B
02167  AE46  A5 65              LDA $65
02168  AE48  48                 PHA 
02169  AE49  A5 64              LDA $64
02170  AE4B  48                 PHA 
02171  AE4C  A5 63              LDA $63
02172  AE4E  48                 PHA 
02173  AE4F  A5 62              LDA $62
02174  AE51  48                 PHA 
02175  AE52  A5 61              LDA $61
02176  AE54  48                 PHA 
02177  AE55  6C 22 00           JMP ($0022)
02178  AE58              ;********************************
02179  AE58              ;
02180  AE58              ;********************************
02181  AE58  A0 FF       XXAE58 LDY #$FF
02182  AE5A  68                 PLA 
02183  AE5B  F0 23       XXAE5B BEQ XXAE80
02184  AE5D  C9 64       XXAE5D CMP #$64
02185  AE5F  F0 03              BEQ XXAE64
02186  AE61  20 8D AD           JSR XXAD8D






BASICV2A.ASM......PAGE 0044

LINE# LOC   CODE        LINE


02187  AE64  84 4B       XXAE64 STY $4B
02188  AE66  68          XXAE66 PLA 
02189  AE67  4A                 LSR A
02190  AE68  85 12              STA $12
02191  AE6A  68                 PLA 
02192  AE6B  85 69              STA $69
02193  AE6D  68                 PLA 
02194  AE6E  85 6A              STA $6A
02195  AE70  68                 PLA 
02196  AE71  85 6B              STA $6B
02197  AE73  68                 PLA 
02198  AE74  85 6C              STA $6C
02199  AE76  68                 PLA 
02200  AE77  85 6D              STA $6D
02201  AE79  68                 PLA 
02202  AE7A  85 6E              STA $6E
02203  AE7C  45 66              EOR $66
02204  AE7E  85 6F              STA $6F
02205  AE80  A5 61       XXAE80 LDA $61
02206  AE82  60                 RTS 
02207  AE83              ;********************************
02208  AE83              ;
02209  AE83              ;********************************
02210  AE83  6C 0A 03    XXAE83 JMP (IEVAL)
02211  AE86              ;********************************
02212  AE86              ;
02213  AE86              ;********************************
02214  AE86  A9 00       KKAE86 LDA #$00
02215  AE88  85 0D              STA $0D
02216  AE8A  20 73 00    XXAE8A JSR $0073
02217  AE8D  B0 03              BCS XXAE92
02218  AE8F  4C F3 BC    XXAE8F JMP XXBCF3
02219  AE92              ;********************************
02220  AE92              ;
02221  AE92              ;********************************
02222  AE92  20 13 B1    XXAE92 JSR XXB113
02223  AE95  90 03              BCC XXAE9A
02224  AE97  4C 28 AF           JMP XXAF28
02225  AE9A              ;********************************
02226  AE9A              ;
02227  AE9A              ;********************************
02228  AE9A  C9 FF       XXAE9A CMP #$FF
02229  AE9C  D0 0F              BNE XXAEAD
02230  AE9E  A9 A8              LDA #$A8
02231  AEA0  A0 AE              LDY #$AE
02232  AEA2  20 A2 BB           JSR XXBBA2
02233  AEA5  4C 73 00           JMP $0073
02234  AEA8              ;********************************
02235  AEA8              ;
02236  AEA8              ;********************************
02237  AEA8  82                 .BYTE $82
02238  AEA9  49                 .BYTE $49
02239  AEAA  0F                 .BYTE $0F
02240  AEAB  DA                 .BYTE $DA
02241  AEAC  A1                 .BYTE $A1






BASICV2A.ASM......PAGE 0045

LINE# LOC   CODE        LINE


02242  AEAD              ;********************************
02243  AEAD              ;
02244  AEAD              ;********************************
02245  AEAD  C9 2E       XXAEAD CMP #$2E        ;'.'
02246  AEAF  F0 DE              BEQ XXAE8F
02247  AEB1  C9 AB              CMP #$AB
02248  AEB3  F0 58              BEQ XXAF0D
02249  AEB5  C9 AA              CMP #$AA
02250  AEB7  F0 D1              BEQ XXAE8A
02251  AEB9  C9 22              CMP #$22        ;'"'
02252  AEBB  D0 0F              BNE XXAECC
02253  AEBD  A5 7A       XXAEBD LDA $7A
02254  AEBF  A4 7B              LDY $7B
02255  AEC1  69 00              ADC #$00
02256  AEC3  90 01              BCC XXAEC6
02257  AEC5  C8                 INY 
02258  AEC6  20 87 B4    XXAEC6 JSR XXB487
02259  AEC9  4C E2 B7           JMP XXB7E2
02260  AECC              ;********************************
02261  AECC              ;
02262  AECC              ;********************************
02263  AECC  C9 A8       XXAECC CMP #$A8
02264  AECE  D0 13              BNE XXAEE3
02265  AED0  A0 18              LDY #$18
02266  AED2  D0 3B              BNE XXAF0F
02267  AED4  20 BF B1           JSR XXB1BF
02268  AED7  A5 65              LDA $65
02269  AED9  49 FF              EOR #$FF
02270  AEDB  A8                 TAY 
02271  AEDC  A5 64              LDA $64
02272  AEDE  49 FF              EOR #$FF
02273  AEE0  4C 91 B3           JMP XXB391
02274  AEE3              ;********************************
02275  AEE3              ;
02276  AEE3              ;********************************
02277  AEE3  C9 A5       XXAEE3 CMP #$A5
02278  AEE5  D0 03              BNE XXAEEA
02279  AEE7  4C F4 B3           JMP XXB3F4
02280  AEEA              ;********************************
02281  AEEA              ;
02282  AEEA              ;********************************
02283  AEEA  C9 B4       XXAEEA CMP #$B4
02284  AEEC  90 03              BCC XXAEF1
02285  AEEE  4C A7 AF           JMP XXAFA7
02286  AEF1              ;********************************
02287  AEF1              ;
02288  AEF1              ;********************************
02289  AEF1  20 FA AE    XXAEF1 JSR XXAEFA
02290  AEF4  20 9E AD           JSR XXAD9E
02291  AEF7  A9 29       XXAEF7 LDA #$29        ;')'
02292  AEF9              ;********************************
02293  AEF9  2C                 .BYTE $2C
02294  AEFA              ;********************************
02295  AEFA  A9 28       XXAEFA LDA #$28        ;'('
02296  AEFC              ;********************************






BASICV2A.ASM......PAGE 0046

LINE# LOC   CODE        LINE


02297  AEFC  2C                 .BYTE $2C
02298  AEFD              ;********************************
02299  AEFD  A9 2C       XXAEFD LDA #$2C        ;','
02300  AEFF  A0 00       XXAEFF LDY #$00
02301  AF01  D1 7A              CMP ($7A),Y
02302  AF03  D0 03              BNE XXAF08
02303  AF05  4C 73 00           JMP $0073
02304  AF08              ;********************************
02305  AF08              ;
02306  AF08              ;********************************
02307  AF08  A2 0B       XXAF08 LDX #$0B
02308  AF0A  4C 37 A4           JMP XXA437
02309  AF0D              ;********************************
02310  AF0D              ;
02311  AF0D              ;********************************
02312  AF0D  A0 15       XXAF0D LDY #$15
02313  AF0F  68          XXAF0F PLA 
02314  AF10  68                 PLA 
02315  AF11  4C FA AD           JMP XXADFA
02316  AF14              ;********************************
02317  AF14              ;
02318  AF14              ;********************************
02319  AF14  38          XXAF14 SEC 
02320  AF15  A5 64              LDA $64
02321  AF17  E9 00              SBC #$00
02322  AF19  A5 65              LDA $65
02323  AF1B  E9 A0              SBC #$A0
02324  AF1D  90 08              BCC XXAF27
02325  AF1F  A9 A2              LDA #$A2
02326  AF21  E5 64              SBC $64
02327  AF23  A9 E3              LDA #$E3
02328  AF25  E5 65              SBC $65
02329  AF27  60          XXAF27 RTS 
02330  AF28              ;********************************
02331  AF28              ;
02332  AF28              ;********************************
02333  AF28  20 8B B0    XXAF28 JSR XXB08B
02334  AF2B  85 64              STA $64
02335  AF2D  84 65              STY $65
02336  AF2F  A6 45              LDX $45
02337  AF31  A4 46              LDY $46
02338  AF33  A5 0D              LDA $0D
02339  AF35  F0 26              BEQ XXAF5D
02340  AF37  A9 00              LDA #$00
02341  AF39  85 70              STA $70
02342  AF3B  20 14 AF           JSR XXAF14
02343  AF3E  90 1C              BCC XXAF5C
02344  AF40  E0 54              CPX #$54        ;'T'
02345  AF42  D0 18              BNE XXAF5C
02346  AF44  C0 C9              CPY #$C9
02347  AF46  D0 14              BNE XXAF5C
02348  AF48  20 84 AF           JSR XXAF84
02349  AF4B  84 5E              STY $5E
02350  AF4D  88                 DEY 
02351  AF4E  84 71              STY $71






BASICV2A.ASM......PAGE 0047

LINE# LOC   CODE        LINE


02352  AF50  A0 06              LDY #$06
02353  AF52  84 5D              STY $5D
02354  AF54  A0 24              LDY #$24        ;'$'
02355  AF56  20 68 BE           JSR XXBE68
02356  AF59  4C 6F B4           JMP XXB46F
02357  AF5C              ;********************************
02358  AF5C              ;
02359  AF5C              ;********************************
02360  AF5C  60          XXAF5C RTS 
02361  AF5D              ;********************************
02362  AF5D              ;
02363  AF5D              ;********************************
02364  AF5D  24 0E       XXAF5D BIT $0E
02365  AF5F  10 0D              BPL XXAF6E
02366  AF61  A0 00              LDY #$00
02367  AF63  B1 64              LDA ($64),Y
02368  AF65  AA                 TAX 
02369  AF66  C8                 INY 
02370  AF67  B1 64              LDA ($64),Y
02371  AF69  A8                 TAY 
02372  AF6A  8A                 TXA 
02373  AF6B  4C 91 B3           JMP XXB391
02374  AF6E              ;********************************
02375  AF6E              ;
02376  AF6E              ;********************************
02377  AF6E  20 14 AF    XXAF6E JSR XXAF14
02378  AF71  90 2D              BCC XXAFA0
02379  AF73  E0 54              CPX #$54        ;'T'
02380  AF75  D0 1B              BNE XXAF92
02381  AF77  C0 49              CPY #$49        ;'I'
02382  AF79  D0 25              BNE XXAFA0
02383  AF7B  20 84 AF           JSR XXAF84
02384  AF7E  98                 TYA 
02385  AF7F  A2 A0              LDX #$A0
02386  AF81  4C 4F BC           JMP XXBC4F
02387  AF84              ;********************************
02388  AF84              ;
02389  AF84              ;********************************
02390  AF84  20 DE FF    XXAF84 JSR $FFDE
02391  AF87  86 64              STX $64
02392  AF89  84 63              STY $63
02393  AF8B  85 65              STA $65
02394  AF8D  A0 00              LDY #$00
02395  AF8F  84 62              STY $62
02396  AF91  60                 RTS 
02397  AF92              ;********************************
02398  AF92              ;
02399  AF92              ;********************************
02400  AF92  E0 53       XXAF92 CPX #$53        ;'S'
02401  AF94  D0 0A              BNE XXAFA0
02402  AF96  C0 54              CPY #$54        ;'T'
02403  AF98  D0 06              BNE XXAFA0
02404  AF9A  20 B7 FF           JSR $FFB7
02405  AF9D  4C 3C BC           JMP XXBC3C
02406  AFA0              ;********************************






BASICV2A.ASM......PAGE 0048

LINE# LOC   CODE        LINE


02407  AFA0              ;
02408  AFA0              ;********************************
02409  AFA0  A5 64       XXAFA0 LDA $64
02410  AFA2  A4 65              LDY $65
02411  AFA4  4C A2 BB           JMP XXBBA2
02412  AFA7              ;********************************
02413  AFA7              ;
02414  AFA7              ;********************************
02415  AFA7  0A          XXAFA7 ASL A
02416  AFA8  48                 PHA 
02417  AFA9  AA                 TAX 
02418  AFAA  20 73 00           JSR $0073
02419  AFAD  E0 8F              CPX #$8F
02420  AFAF  90 20              BCC XXAFD1
02421  AFB1  20 FA AE           JSR XXAEFA
02422  AFB4  20 9E AD           JSR XXAD9E
02423  AFB7  20 FD AE           JSR XXAEFD
02424  AFBA  20 8F AD           JSR XXAD8F
02425  AFBD  68                 PLA 
02426  AFBE  AA                 TAX 
02427  AFBF  A5 65              LDA $65
02428  AFC1  48                 PHA 
02429  AFC2  A5 64              LDA $64
02430  AFC4  48                 PHA 
02431  AFC5  8A                 TXA 
02432  AFC6  48                 PHA 
02433  AFC7  20 9E B7           JSR XXB79E
02434  AFCA  68                 PLA 
02435  AFCB  A8                 TAY 
02436  AFCC  8A                 TXA 
02437  AFCD  48                 PHA 
02438  AFCE  4C D6 AF           JMP XXAFD6
02439  AFD1              ;********************************
02440  AFD1              ;
02441  AFD1              ;********************************
02442  AFD1  20 F1 AE    XXAFD1 JSR XXAEF1
02443  AFD4  68                 PLA 
02444  AFD5  A8                 TAY 
02445  AFD6  B9 EA 9F    XXAFD6 LDA $9FEA,Y
02446  AFD9  85 55              STA $55
02447  AFDB  B9 EB 9F           LDA $9FEB,Y
02448  AFDE  85 56              STA $56
02449  AFE0  20 54 00           JSR $0054
02450  AFE3  4C 8D AD           JMP XXAD8D
02451  AFE6              ;********************************
02452  AFE6              ; OR OPERATOR
02453  AFE6              ;********************************
02454  AFE6  A0 FF       ZZAFE6 LDY #$FF
02455  AFE8              ;********************************
02456  AFE8  2C                 .BYTE $2C
02457  AFE9              ;********************************
02458  AFE9              ; AND OPERATOR
02459  AFE9              ;********************************
02460  AFE9  A0 00       ZZAFE9 LDY #$00
02461  AFEB  84 0B              STY $0B






BASICV2A.ASM......PAGE 0049

LINE# LOC   CODE        LINE


02462  AFED  20 BF B1           JSR XXB1BF
02463  AFF0  A5 64              LDA $64
02464  AFF2  45 0B              EOR $0B
02465  AFF4  85 07              STA $07
02466  AFF6  A5 65              LDA $65
02467  AFF8  45 0B              EOR $0B
02468  AFFA  85 08              STA $08
02469  AFFC  20 FC BB           JSR XXBBFC
02470  AFFF  20 BF B1           JSR XXB1BF
02471  B002  A5 65              LDA $65
02472  B004  45 0B              EOR $0B
02473  B006  25 08              AND $08
02474  B008  45 0B              EOR $0B
02475  B00A  A8                 TAY 
02476  B00B  A5 64              LDA $64
02477  B00D  45 0B              EOR $0B
02478  B00F  25 07              AND $07
02479  B011  45 0B              EOR $0B
02480  B013  4C 91 B3           JMP XXB391
02481  B016              ;********************************
02482  B016              ;
02483  B016              ;********************************
02484  B016  20 90 AD           JSR XXAD90
02485  B019  B0 13              BCS XXB02E
02486  B01B  A5 6E              LDA $6E
02487  B01D  09 7F              ORA #$7F
02488  B01F  25 6A              AND $6A
02489  B021  85 6A              STA $6A
02490  B023  A9 69              LDA #$69
02491  B025  A0 00              LDY #$00
02492  B027  20 5B BC           JSR XXBC5B
02493  B02A  AA                 TAX 
02494  B02B  4C 61 B0           JMP XXB061
02495  B02E              ;********************************
02496  B02E              ;
02497  B02E              ;********************************
02498  B02E  A9 00       XXB02E LDA #$00
02499  B030  85 0D              STA $0D
02500  B032  C6 4D              DEC $4D
02501  B034  20 A6 B6           JSR XXB6A6
02502  B037  85 61              STA $61
02503  B039  86 62              STX $62
02504  B03B  84 63              STY $63
02505  B03D  A5 6C              LDA $6C
02506  B03F  A4 6D              LDY $6D
02507  B041  20 AA B6           JSR XXB6AA
02508  B044  86 6C              STX $6C
02509  B046  84 6D              STY $6D
02510  B048  AA                 TAX 
02511  B049  38                 SEC 
02512  B04A  E5 61              SBC $61
02513  B04C  F0 08              BEQ XXB056
02514  B04E  A9 01              LDA #$01
02515  B050  90 04              BCC XXB056
02516  B052  A6 61              LDX $61






BASICV2A.ASM......PAGE 0050

LINE# LOC   CODE        LINE


02517  B054  A9 FF              LDA #$FF
02518  B056  85 66       XXB056 STA $66
02519  B058  A0 FF              LDY #$FF
02520  B05A  E8                 INX 
02521  B05B  C8          XXB05B INY 
02522  B05C  CA                 DEX 
02523  B05D  D0 07              BNE XXB066
02524  B05F  A6 66              LDX $66
02525  B061  30 0F       XXB061 BMI XXB072
02526  B063  18                 CLC 
02527  B064  90 0C              BCC XXB072
02528  B066  B1 6C       XXB066 LDA ($6C),Y
02529  B068  D1 62              CMP ($62),Y
02530  B06A  F0 EF              BEQ XXB05B
02531  B06C  A2 FF              LDX #$FF
02532  B06E  B0 02              BCS XXB072
02533  B070  A2 01              LDX #$01
02534  B072  E8          XXB072 INX 
02535  B073  8A                 TXA 
02536  B074  2A                 ROL A
02537  B075  25 12              AND $12
02538  B077  F0 02              BEQ XXB07B
02539  B079  A9 FF              LDA #$FF
02540  B07B  4C 3C BC    XXB07B JMP XXBC3C
02541  B07E              ;********************************
02542  B07E              ;
02543  B07E              ;********************************
02544  B07E  20 FD AE    XXB07E JSR XXAEFD
02545  B081              ;********************************
02546  B081              ; DIM COMMAND
02547  B081              ;********************************
02548  B081  AA          ZZB081 TAX 
02549  B082  20 90 B0           JSR XXB090
02550  B085  20 79 00           JSR $0079
02551  B088  D0 F4              BNE XXB07E
02552  B08A  60                 RTS 
02553  B08B              ;********************************
02554  B08B              ; GET NAME AND POINTER TO A VARIABLE
02555  B08B              ;********************************
02556  B08B  A2 00       XXB08B LDX #$00
02557  B08D  20 79 00           JSR $0079
02558  B090  86 0C       XXB090 STX $0C
02559  B092  85 45       XXB092 STA $45
02560  B094  20 79 00           JSR $0079
02561  B097  20 13 B1           JSR XXB113
02562  B09A  B0 03              BCS XXB09F
02563  B09C  4C 08 AF    XXB09C JMP XXAF08
02564  B09F              ;********************************
02565  B09F              ;
02566  B09F              ;********************************
02567  B09F  A2 00       XXB09F LDX #$00
02568  B0A1  86 0D              STX $0D
02569  B0A3  86 0E              STX $0E
02570  B0A5  20 73 00           JSR $0073
02571  B0A8  90 05              BCC XXB0AF






BASICV2A.ASM......PAGE 0051

LINE# LOC   CODE        LINE


02572  B0AA  20 13 B1           JSR XXB113
02573  B0AD  90 0B              BCC XXB0BA
02574  B0AF  AA          XXB0AF TAX 
02575  B0B0  20 73 00    XXB0B0 JSR $0073
02576  B0B3  90 FB              BCC XXB0B0
02577  B0B5  20 13 B1           JSR XXB113
02578  B0B8  B0 F6              BCS XXB0B0
02579  B0BA  C9 24       XXB0BA CMP #$24        ;'$'
02580  B0BC  D0 06              BNE XXB0C4
02581  B0BE  A9 FF              LDA #$FF
02582  B0C0  85 0D              STA $0D
02583  B0C2  D0 10              BNE XXB0D4
02584  B0C4  C9 25       XXB0C4 CMP #$25        ;'%'
02585  B0C6  D0 13              BNE XXB0DB
02586  B0C8  A5 10              LDA $10
02587  B0CA  D0 D0              BNE XXB09C
02588  B0CC  A9 80              LDA #$80
02589  B0CE  85 0E              STA $0E
02590  B0D0  05 45              ORA $45
02591  B0D2  85 45              STA $45
02592  B0D4  8A          XXB0D4 TXA 
02593  B0D5  09 80              ORA #$80
02594  B0D7  AA                 TAX 
02595  B0D8  20 73 00           JSR $0073
02596  B0DB  86 46       XXB0DB STX $46
02597  B0DD  38                 SEC 
02598  B0DE  05 10              ORA $10
02599  B0E0  E9 28              SBC #$28        ;'('
02600  B0E2  D0 03              BNE XXB0E7
02601  B0E4  4C D1 B1           JMP XXB1D1
02602  B0E7              ;********************************
02603  B0E7              ;
02604  B0E7              ;********************************
02605  B0E7  A0 00       XXB0E7 LDY #$00
02606  B0E9  84 10              STY $10
02607  B0EB  A5 2D              LDA VARTAB
02608  B0ED  A6 2E              LDX VARTAB+1
02609  B0EF  86 60       XXB0EF STX $60
02610  B0F1  85 5F       XXB0F1 STA $5F
02611  B0F3  E4 30              CPX ARYTAB+1
02612  B0F5  D0 04              BNE XXB0FB
02613  B0F7  C5 2F              CMP ARYTAB
02614  B0F9  F0 22              BEQ XXB11D
02615  B0FB  A5 45       XXB0FB LDA $45
02616  B0FD  D1 5F              CMP ($5F),Y
02617  B0FF  D0 08              BNE XXB109
02618  B101  A5 46              LDA $46
02619  B103  C8                 INY 
02620  B104  D1 5F              CMP ($5F),Y
02621  B106  F0 7D              BEQ XXB185
02622  B108  88                 DEY 
02623  B109  18          XXB109 CLC 
02624  B10A  A5 5F              LDA $5F
02625  B10C  69 07              ADC #$07
02626  B10E  90 E1              BCC XXB0F1






BASICV2A.ASM......PAGE 0052

LINE# LOC   CODE        LINE


02627  B110  E8                 INX 
02628  B111  D0 DC              BNE XXB0EF
02629  B113              ;********************************
02630  B113              ; CHECK CHARACTER IN A
02631  B113              ; C=1 IF ALPHABETIC, C=0 IF NOT
02632  B113              ;********************************
02633  B113  C9 41       XXB113 CMP #$41        ;'A'
02634  B115  90 05              BCC XXB11C
02635  B117  E9 5B              SBC #$5B        ;'['
02636  B119  38                 SEC 
02637  B11A  E9 A5              SBC #$A5
02638  B11C  60          XXB11C RTS 
02639  B11D              ;********************************
02640  B11D              ; VARIABLE NOT FOUND
02641  B11D              ;********************************
02642  B11D  68          XXB11D PLA 
02643  B11E  48                 PHA 
02644  B11F  C9 2A              CMP #$2A        ;'*'
02645  B121  D0 05              BNE XXB128
02646  B123  A9 13       XXB123 LDA #$13
02647  B125  A0 BF              LDY #$BF
02648  B127  60                 RTS 
02649  B128              ;********************************
02650  B128              ;
02651  B128              ;********************************
02652  B128  A5 45       XXB128 LDA $45
02653  B12A  A4 46              LDY $46
02654  B12C  C9 54              CMP #$54        ;'T'
02655  B12E  D0 0B              BNE XXB13B
02656  B130  C0 C9              CPY #$C9
02657  B132  F0 EF              BEQ XXB123
02658  B134  C0 49              CPY #$49        ;'I'
02659  B136  D0 03              BNE XXB13B
02660  B138  4C 08 AF    XXB138 JMP XXAF08
02661  B13B              ;********************************
02662  B13B              ;
02663  B13B              ;********************************
02664  B13B  C9 53       XXB13B CMP #$53        ;'S'
02665  B13D  D0 04              BNE XXB143
02666  B13F  C0 54              CPY #$54        ;'T'
02667  B141  F0 F5              BEQ XXB138
02668  B143  A5 2F       XXB143 LDA ARYTAB
02669  B145  A4 30              LDY ARYTAB+1
02670  B147  85 5F              STA $5F
02671  B149  84 60              STY $60
02672  B14B  A5 31              LDA STREND
02673  B14D  A4 32              LDY STREND+1
02674  B14F  85 5A              STA $5A
02675  B151  84 5B              STY $5B
02676  B153  18                 CLC 
02677  B154  69 07              ADC #$07
02678  B156  90 01              BCC XXB159
02679  B158  C8                 INY 
02680  B159  85 58       XXB159 STA $58
02681  B15B  84 59              STY $59






BASICV2A.ASM......PAGE 0053

LINE# LOC   CODE        LINE


02682  B15D  20 B8 A3           JSR XXA3B8
02683  B160  A5 58              LDA $58
02684  B162  A4 59              LDY $59
02685  B164  C8                 INY 
02686  B165  85 2F              STA ARYTAB
02687  B167  84 30              STY ARYTAB+1
02688  B169  A0 00              LDY #$00
02689  B16B  A5 45              LDA $45
02690  B16D  91 5F              STA ($5F),Y
02691  B16F  C8                 INY 
02692  B170  A5 46              LDA $46
02693  B172  91 5F              STA ($5F),Y
02694  B174  A9 00              LDA #$00
02695  B176  C8                 INY 
02696  B177  91 5F              STA ($5F),Y
02697  B179  C8                 INY 
02698  B17A  91 5F              STA ($5F),Y
02699  B17C  C8                 INY 
02700  B17D  91 5F              STA ($5F),Y
02701  B17F  C8                 INY 
02702  B180  91 5F              STA ($5F),Y
02703  B182  C8                 INY 
02704  B183  91 5F              STA ($5F),Y
02705  B185              ;********************************
02706  B185              ; VARIABLE FOUND
02707  B185              ;********************************
02708  B185  A5 5F       XXB185 LDA $5F
02709  B187  18                 CLC 
02710  B188  69 02              ADC #$02
02711  B18A  A4 60              LDY $60
02712  B18C  90 01              BCC XXB18F
02713  B18E  C8                 INY 
02714  B18F  85 47       XXB18F STA $47
02715  B191  84 48              STY $48
02716  B193  60                 RTS 
02717  B194              ;********************************
02718  B194              ; COMPUTE POINTER TO ARRAY BODY
02719  B194              ;********************************
02720  B194  A5 0B       XXB194 LDA $0B
02721  B196  0A                 ASL A
02722  B197  69 05              ADC #$05
02723  B199  65 5F              ADC $5F
02724  B19B  A4 60              LDY $60
02725  B19D  90 01              BCC XXB1A0
02726  B19F  C8                 INY 
02727  B1A0  85 58       XXB1A0 STA $58
02728  B1A2  84 59              STY $59
02729  B1A4  60                 RTS 
02730  B1A5              ;********************************
02731  B1A5              ; ; FLOAT NUMBER FOR CONVERSION TO INTEGER
02732  B1A5              ;********************************
02733  B1A5  90          WWB1A5 .BYTE $90
02734  B1A6  80                 .BYTE $80
02735  B1A7  00                 .BYTE $00
02736  B1A8  00                 .BYTE $00






BASICV2A.ASM......PAGE 0054

LINE# LOC   CODE        LINE


02737  B1A9  00                 .BYTE $00
02738  B1AA              ;********************************
02739  B1AA              ; ROUTINE TO CONVERT FLOAT TO FIXED POINT
02740  B1AA              ;********************************
02741  B1AA  20 BF B1    ZZB1AA JSR XXB1BF
02742  B1AD  A5 64              LDA $64
02743  B1AF  A4 65              LDY $65
02744  B1B1  60                 RTS 
02745  B1B2              ;********************************
02746  B1B2              ; CONVERT VALUE FROM STATEMENT TO INTEGER
02747  B1B2              ;********************************
02748  B1B2  20 73 00    XXB1B2 JSR $0073
02749  B1B5  20 9E AD           JSR XXAD9E
02750  B1B8  20 8D AD    XXB1B8 JSR XXAD8D
02751  B1BB  A5 66              LDA $66
02752  B1BD  30 0D              BMI XXB1CC
02753  B1BF              ;********************************
02754  B1BF              ; CONVERT FLOAT NUMBER TO INTEGER
02755  B1BF              ;********************************
02756  B1BF  A5 61       XXB1BF LDA $61
02757  B1C1  C9 90              CMP #$90
02758  B1C3  90 09              BCC XXB1CE
02759  B1C5  A9 A5              LDA #$A5
02760  B1C7  A0 B1              LDY #$B1
02761  B1C9  20 5B BC           JSR XXBC5B
02762  B1CC  D0 7A       XXB1CC BNE XXB248
02763  B1CE  4C 9B BC    XXB1CE JMP XXBC9B
02764  B1D1              ;********************************
02765  B1D1              ; GET POINTER TO DIMENSIONED VARIABLE
02766  B1D1              ;********************************
02767  B1D1  A5 0C       XXB1D1 LDA $0C
02768  B1D3  05 0E              ORA $0E
02769  B1D5  48                 PHA 
02770  B1D6  A5 0D              LDA $0D
02771  B1D8  48                 PHA 
02772  B1D9  A0 00              LDY #$00
02773  B1DB  98          XXB1DB TYA 
02774  B1DC  48                 PHA 
02775  B1DD  A5 46              LDA $46
02776  B1DF  48                 PHA 
02777  B1E0  A5 45              LDA $45
02778  B1E2  48                 PHA 
02779  B1E3  20 B2 B1           JSR XXB1B2
02780  B1E6  68                 PLA 
02781  B1E7  85 45              STA $45
02782  B1E9  68                 PLA 
02783  B1EA  85 46              STA $46
02784  B1EC  68                 PLA 
02785  B1ED  A8                 TAY 
02786  B1EE  BA                 TSX 
02787  B1EF  BD 02 01           LDA STACK+2,X
02788  B1F2  48                 PHA 
02789  B1F3  BD 01 01           LDA STACK+1,X
02790  B1F6  48                 PHA 
02791  B1F7  A5 64              LDA $64






BASICV2A.ASM......PAGE 0055

LINE# LOC   CODE        LINE


02792  B1F9  9D 02 01           STA STACK+2,X
02793  B1FC  A5 65              LDA $65
02794  B1FE  9D 01 01           STA STACK+1,X
02795  B201  C8                 INY 
02796  B202  20 79 00           JSR $0079
02797  B205  C9 2C              CMP #$2C        ;','
02798  B207  F0 D2              BEQ XXB1DB
02799  B209  84 0B              STY $0B
02800  B20B  20 F7 AE           JSR XXAEF7
02801  B20E  68                 PLA 
02802  B20F  85 0D              STA $0D
02803  B211  68                 PLA 
02804  B212  85 0E              STA $0E
02805  B214  29 7F              AND #$7F
02806  B216  85 0C              STA $0C
02807  B218  A6 2F              LDX ARYTAB
02808  B21A  A5 30              LDA ARYTAB+1
02809  B21C  86 5F       XXB21C STX $5F
02810  B21E  85 60              STA $60
02811  B220  C5 32              CMP STREND+1
02812  B222  D0 04              BNE XXB228
02813  B224  E4 31              CPX STREND
02814  B226  F0 39              BEQ XXB261
02815  B228  A0 00       XXB228 LDY #$00
02816  B22A  B1 5F              LDA ($5F),Y
02817  B22C  C8                 INY 
02818  B22D  C5 45              CMP $45
02819  B22F  D0 06              BNE XXB237
02820  B231  A5 46              LDA $46
02821  B233  D1 5F              CMP ($5F),Y
02822  B235  F0 16              BEQ XXB24D
02823  B237  C8          XXB237 INY 
02824  B238  B1 5F              LDA ($5F),Y
02825  B23A  18                 CLC 
02826  B23B  65 5F              ADC $5F
02827  B23D  AA                 TAX 
02828  B23E  C8                 INY 
02829  B23F  B1 5F              LDA ($5F),Y
02830  B241  65 60              ADC $60
02831  B243  90 D7              BCC XXB21C
02832  B245  A2 12       XXB245 LDX #$12        ; ERROR NUMBER
02833  B247              ;********************************
02834  B247  2C                 .BYTE $2C
02835  B248              ;********************************
02836  B248  A2 0E       XXB248 LDX #$0E        ; ERROR NUMBER
02837  B24A  4C 37 A4    XXB24A JMP XXA437
02838  B24D              ;********************************
02839  B24D              ;
02840  B24D              ;********************************
02841  B24D  A2 13       XXB24D LDX #$13        ; ERROR NUMBER
02842  B24F  A5 0C              LDA $0C
02843  B251  D0 F7              BNE XXB24A
02844  B253  20 94 B1           JSR XXB194
02845  B256  A5 0B              LDA $0B
02846  B258  A0 04              LDY #$04






BASICV2A.ASM......PAGE 0056

LINE# LOC   CODE        LINE


02847  B25A  D1 5F              CMP ($5F),Y
02848  B25C  D0 E7              BNE XXB245
02849  B25E  4C EA B2           JMP XXB2EA
02850  B261              ;********************************
02851  B261              ; ALLOCATE ARRAY
02852  B261              ;********************************
02853  B261  20 94 B1    XXB261 JSR XXB194
02854  B264  20 08 A4           JSR XXA408
02855  B267  A0 00              LDY #$00
02856  B269  84 72              STY $72
02857  B26B  A2 05              LDX #$05
02858  B26D  A5 45              LDA $45
02859  B26F  91 5F              STA ($5F),Y
02860  B271  10 01              BPL XXB274
02861  B273  CA                 DEX 
02862  B274  C8          XXB274 INY 
02863  B275  A5 46              LDA $46
02864  B277  91 5F              STA ($5F),Y
02865  B279  10 02              BPL XXB27D
02866  B27B  CA                 DEX 
02867  B27C  CA                 DEX 
02868  B27D  86 71       XXB27D STX $71
02869  B27F  A5 0B              LDA $0B
02870  B281  C8                 INY 
02871  B282  C8                 INY 
02872  B283  C8                 INY 
02873  B284  91 5F              STA ($5F),Y
02874  B286  A2 0B       XXB286 LDX #$0B
02875  B288  A9 00              LDA #$00
02876  B28A  24 0C              BIT $0C
02877  B28C  50 08              BVC XXB296
02878  B28E  68                 PLA 
02879  B28F  18                 CLC 
02880  B290  69 01              ADC #$01
02881  B292  AA                 TAX 
02882  B293  68                 PLA 
02883  B294  69 00              ADC #$00
02884  B296  C8          XXB296 INY 
02885  B297  91 5F              STA ($5F),Y
02886  B299  C8                 INY 
02887  B29A  8A                 TXA 
02888  B29B  91 5F              STA ($5F),Y
02889  B29D  20 4C B3           JSR XXB34C
02890  B2A0  86 71              STX $71
02891  B2A2  85 72              STA $72
02892  B2A4  A4 22              LDY INDEX
02893  B2A6  C6 0B              DEC $0B
02894  B2A8  D0 DC              BNE XXB286
02895  B2AA  65 59              ADC $59
02896  B2AC  B0 5D              BCS XXB30B
02897  B2AE  85 59              STA $59
02898  B2B0  A8                 TAY 
02899  B2B1  8A                 TXA 
02900  B2B2  65 58              ADC $58
02901  B2B4  90 03              BCC XXB2B9






BASICV2A.ASM......PAGE 0057

LINE# LOC   CODE        LINE


02902  B2B6  C8                 INY 
02903  B2B7  F0 52              BEQ XXB30B
02904  B2B9  20 08 A4    XXB2B9 JSR XXA408
02905  B2BC  85 31              STA STREND
02906  B2BE  84 32              STY STREND+1
02907  B2C0  A9 00              LDA #$00
02908  B2C2  E6 72              INC $72
02909  B2C4  A4 71              LDY $71
02910  B2C6  F0 05              BEQ XXB2CD
02911  B2C8  88          XXB2C8 DEY 
02912  B2C9  91 58              STA ($58),Y
02913  B2CB  D0 FB              BNE XXB2C8
02914  B2CD  C6 59       XXB2CD DEC $59
02915  B2CF  C6 72              DEC $72
02916  B2D1  D0 F5              BNE XXB2C8
02917  B2D3  E6 59              INC $59
02918  B2D5  38                 SEC 
02919  B2D6  A5 31              LDA STREND
02920  B2D8  E5 5F              SBC $5F
02921  B2DA  A0 02              LDY #$02
02922  B2DC  91 5F              STA ($5F),Y
02923  B2DE  A5 32              LDA STREND+1
02924  B2E0  C8                 INY 
02925  B2E1  E5 60              SBC $60
02926  B2E3  91 5F              STA ($5F),Y
02927  B2E5  A5 0C              LDA $0C
02928  B2E7  D0 62              BNE XXB34B
02929  B2E9  C8                 INY
02930  B2EA              ;********************************
02931  B2EA              ; COMPUTE REFERENCE TO ARRAY ELEMENT
02932  B2EA              ;********************************
02933  B2EA  B1 5F       XXB2EA LDA ($5F),Y
02934  B2EC  85 0B              STA $0B
02935  B2EE  A9 00              LDA #$00
02936  B2F0  85 71              STA $71
02937  B2F2  85 72       XXB2F2 STA $72
02938  B2F4  C8                 INY 
02939  B2F5  68                 PLA 
02940  B2F6  AA                 TAX 
02941  B2F7  85 64              STA $64
02942  B2F9  68                 PLA 
02943  B2FA  85 65              STA $65
02944  B2FC  D1 5F              CMP ($5F),Y
02945  B2FE  90 0E              BCC XXB30E
02946  B300  D0 06              BNE XXB308
02947  B302  C8                 INY 
02948  B303  8A                 TXA 
02949  B304  D1 5F              CMP ($5F),Y
02950  B306  90 07              BCC XXB30F
02951  B308  4C 45 B2    XXB308 JMP XXB245
02952  B30B              ;********************************
02953  B30B              ;
02954  B30B              ;********************************
02955  B30B  4C 35 A4    XXB30B JMP XXA435
02956  B30E              ;********************************






BASICV2A.ASM......PAGE 0058

LINE# LOC   CODE        LINE


02957  B30E              ;
02958  B30E              ;********************************
02959  B30E  C8          XXB30E INY 
02960  B30F  A5 72       XXB30F LDA $72
02961  B311  05 71              ORA $71
02962  B313  18                 CLC 
02963  B314  F0 0A              BEQ XXB320
02964  B316  20 4C B3           JSR XXB34C
02965  B319  8A                 TXA 
02966  B31A  65 64              ADC $64
02967  B31C  AA                 TAX 
02968  B31D  98                 TYA 
02969  B31E  A4 22              LDY INDEX
02970  B320  65 65       XXB320 ADC $65
02971  B322  86 71              STX $71
02972  B324  C6 0B              DEC $0B
02973  B326  D0 CA              BNE XXB2F2
02974  B328  85 72              STA $72
02975  B32A  A2 05              LDX #$05
02976  B32C  A5 45              LDA $45
02977  B32E  10 01              BPL XXB331
02978  B330  CA                 DEX 
02979  B331  A5 46       XXB331 LDA $46
02980  B333  10 02              BPL XXB337
02981  B335  CA                 DEX 
02982  B336  CA                 DEX 
02983  B337  86 28       XXB337 STX RESHO+2
02984  B339  A9 00              LDA #$00
02985  B33B  20 55 B3           JSR XXB355
02986  B33E  8A                 TXA 
02987  B33F  65 58              ADC $58
02988  B341  85 47              STA $47
02989  B343  98                 TYA 
02990  B344  65 59              ADC $59
02991  B346  85 48              STA $48
02992  B348  A8                 TAY 
02993  B349  A5 47              LDA $47
02994  B34B  60          XXB34B RTS 
02995  B34C              ;********************************
02996  B34C              ; XY = XA = LENGTH * LIMIT FROM ARRAY DATA
02997  B34C              ;********************************
02998  B34C  84 22       XXB34C STY INDEX
02999  B34E  B1 5F              LDA ($5F),Y
03000  B350  85 28              STA RESHO+2
03001  B352  88                 DEY 
03002  B353  B1 5F              LDA ($5F),Y
03003  B355  85 29       XXB355 STA RESHO+3
03004  B357  A9 10              LDA #$10
03005  B359  85 5D              STA $5D
03006  B35B  A2 00              LDX #$00
03007  B35D  A0 00              LDY #$00
03008  B35F  8A          XXB35F TXA 
03009  B360  0A                 ASL A
03010  B361  AA                 TAX 
03011  B362  98                 TYA 






BASICV2A.ASM......PAGE 0059

LINE# LOC   CODE        LINE


03012  B363  2A                 ROL A
03013  B364  A8                 TAY 
03014  B365  B0 A4              BCS XXB30B
03015  B367  06 71              ASL $71
03016  B369  26 72              ROL $72
03017  B36B  90 0B              BCC XXB378
03018  B36D  18                 CLC 
03019  B36E  8A                 TXA 
03020  B36F  65 28              ADC RESHO+2
03021  B371  AA                 TAX 
03022  B372  98                 TYA 
03023  B373  65 29              ADC RESHO+3
03024  B375  A8                 TAY 
03025  B376  B0 93              BCS XXB30B
03026  B378  C6 5D       XXB378 DEC $5D
03027  B37A  D0 E3              BNE XXB35F
03028  B37C  60                 RTS 
03029  B37D              ;********************************
03030  B37D              ; FRE FUNCTION
03031  B37D              ;********************************
03032  B37D  A5 0D       XXB37D LDA $0D
03033  B37F  F0 03              BEQ XXB384
03034  B381  20 A6 B6           JSR XXB6A6
03035  B384  20 26 B5    XXB384 JSR XXB526
03036  B387  38                 SEC 
03037  B388  A5 33              LDA FRETOP
03038  B38A  E5 31              SBC STREND
03039  B38C  A8                 TAY 
03040  B38D  A5 34              LDA FRETOP+1
03041  B38F  E5 32              SBC STREND+1
03042  B391              ;********************************
03043  B391              ; ROUTINE TO CONVERT INTEGER TO FLOAT
03044  B391              ;********************************
03045  B391  A2 00       XXB391 LDX #$00
03046  B393  86 0D              STX $0D
03047  B395  85 62              STA $62
03048  B397  84 63              STY $63
03049  B399  A2 90              LDX #$90
03050  B39B  4C 44 BC           JMP XXBC44
03051  B39E              ;********************************
03052  B39E              ; POS FUNCTION
03053  B39E              ;********************************
03054  B39E  38          XXB39E SEC 
03055  B39F  20 F0 FF           JSR $FFF0
03056  B3A2  A9 00       XXB3A2 LDA #$00
03057  B3A4  F0 EB              BEQ XXB391
03058  B3A6              ;********************************
03059  B3A6              ; CHECK FOR NON-DIRECT MODE
03060  B3A6              ;********************************
03061  B3A6  A6 3A       XXB3A6 LDX CURLIN+1
03062  B3A8  E8                 INX 
03063  B3A9  D0 A0              BNE XXB34B
03064  B3AB  A2 15              LDX #$15        ; ERROR NUMBER
03065  B3AD              ;********************************
03066  B3AD  2C                 .BYTE $2C






BASICV2A.ASM......PAGE 0060

LINE# LOC   CODE        LINE


03067  B3AE              ;********************************
03068  B3AE  A2 1B       XXB3AE LDX #$1B        ; ERROR NUMBER
03069  B3B0  4C 37 A4           JMP XXA437
03070  B3B3              ;********************************
03071  B3B3              ; DEF COMMAND
03072  B3B3              ;********************************
03073  B3B3  20 E1 B3    ZZB3B3 JSR XXB3E1
03074  B3B6  20 A6 B3           JSR XXB3A6
03075  B3B9  20 FA AE           JSR XXAEFA
03076  B3BC  A9 80              LDA #$80
03077  B3BE  85 10              STA $10
03078  B3C0  20 8B B0           JSR XXB08B
03079  B3C3  20 8D AD           JSR XXAD8D
03080  B3C6  20 F7 AE           JSR XXAEF7
03081  B3C9  A9 B2              LDA #$B2
03082  B3CB  20 FF AE           JSR XXAEFF
03083  B3CE  48                 PHA 
03084  B3CF  A5 48              LDA $48
03085  B3D1  48                 PHA 
03086  B3D2  A5 47              LDA $47
03087  B3D4  48                 PHA 
03088  B3D5  A5 7B              LDA $7B
03089  B3D7  48                 PHA 
03090  B3D8  A5 7A              LDA $7A
03091  B3DA  48                 PHA 
03092  B3DB  20 F8 A8           JSR XXA8F8
03093  B3DE  4C 4F B4           JMP XXB44F
03094  B3E1              ;********************************
03095  B3E1              ; GET FUNCTION NAME
03096  B3E1              ;********************************
03097  B3E1  A9 A5       XXB3E1 LDA #$A5
03098  B3E3  20 FF AE           JSR XXAEFF
03099  B3E6  09 80              ORA #$80
03100  B3E8  85 10              STA $10
03101  B3EA  20 92 B0           JSR XXB092
03102  B3ED  85 4E              STA $4E
03103  B3EF  84 4F              STY $4F
03104  B3F1  4C 8D AD           JMP XXAD8D
03105  B3F4              ;********************************
03106  B3F4              ; EXPAND FN CALL
03107  B3F4              ;********************************
03108  B3F4  20 E1 B3    XXB3F4 JSR XXB3E1
03109  B3F7  A5 4F              LDA $4F
03110  B3F9  48                 PHA 
03111  B3FA  A5 4E              LDA $4E
03112  B3FC  48                 PHA 
03113  B3FD  20 F1 AE           JSR XXAEF1
03114  B400  20 8D AD           JSR XXAD8D
03115  B403  68                 PLA 
03116  B404  85 4E              STA $4E
03117  B406  68                 PLA 
03118  B407  85 4F              STA $4F
03119  B409  A0 02              LDY #$02
03120  B40B  B1 4E              LDA ($4E),Y
03121  B40D  85 47              STA $47






BASICV2A.ASM......PAGE 0061

LINE# LOC   CODE        LINE


03122  B40F  AA                 TAX 
03123  B410  C8                 INY 
03124  B411  B1 4E              LDA ($4E),Y
03125  B413  F0 99              BEQ XXB3AE
03126  B415  85 48              STA $48
03127  B417  C8                 INY 
03128  B418  B1 47       XXB418 LDA ($47),Y
03129  B41A  48                 PHA 
03130  B41B  88                 DEY 
03131  B41C  10 FA              BPL XXB418
03132  B41E  A4 48              LDY $48
03133  B420  20 D4 BB           JSR XXBBD4
03134  B423  A5 7B              LDA $7B
03135  B425  48                 PHA 
03136  B426  A5 7A              LDA $7A
03137  B428  48                 PHA 
03138  B429  B1 4E              LDA ($4E),Y
03139  B42B  85 7A              STA $7A
03140  B42D  C8                 INY 
03141  B42E  B1 4E              LDA ($4E),Y
03142  B430  85 7B              STA $7B
03143  B432  A5 48              LDA $48
03144  B434  48                 PHA 
03145  B435  A5 47              LDA $47
03146  B437  48                 PHA 
03147  B438  20 8A AD           JSR XXAD8A
03148  B43B  68                 PLA 
03149  B43C  85 4E              STA $4E
03150  B43E  68                 PLA 
03151  B43F  85 4F              STA $4F
03152  B441  20 79 00           JSR $0079
03153  B444  F0 03              BEQ XXB449
03154  B446  4C 08 AF           JMP XXAF08
03155  B449              ;********************************
03156  B449              ;
03157  B449              ;********************************
03158  B449  68          XXB449 PLA 
03159  B44A  85 7A              STA $7A
03160  B44C  68                 PLA 
03161  B44D  85 7B              STA $7B
03162  B44F  A0 00       XXB44F LDY #$00
03163  B451  68                 PLA 
03164  B452  91 4E              STA ($4E),Y
03165  B454  68                 PLA 
03166  B455  C8                 INY 
03167  B456  91 4E              STA ($4E),Y
03168  B458  68                 PLA 
03169  B459  C8                 INY 
03170  B45A  91 4E              STA ($4E),Y
03171  B45C  68                 PLA 
03172  B45D  C8                 INY 
03173  B45E  91 4E              STA ($4E),Y
03174  B460  68                 PLA 
03175  B461  C8                 INY 
03176  B462  91 4E              STA ($4E),Y






BASICV2A.ASM......PAGE 0062

LINE# LOC   CODE        LINE


03177  B464  60                 RTS 
03178  B465              ;********************************
03179  B465              ; STR$ FUNCTION
03180  B465              ;********************************
03181  B465  20 8D AD    XXB465 JSR XXAD8D
03182  B468  A0 00              LDY #$00
03183  B46A  20 DF BD           JSR XXBDDF
03184  B46D  68                 PLA 
03185  B46E  68                 PLA 
03186  B46F  A9 FF       XXB46F LDA #$FF
03187  B471  A0 00              LDY #$00
03188  B473  F0 12              BEQ XXB487
03189  B475  A6 64       XXB475 LDX $64
03190  B477  A4 65              LDY $65
03191  B479  86 50              STX $50
03192  B47B  84 51              STY $51
03193  B47D              ;********************************
03194  B47D              ; ALLOCATE AREA ACCORDING TO A
03195  B47D              ;********************************
03196  B47D  20 F4 B4    XXB47D JSR XXB4F4
03197  B480  86 62              STX $62
03198  B482  84 63              STY $63
03199  B484  85 61              STA $61
03200  B486  60                 RTS 
03201  B487              ;********************************
03202  B487              ; GET DESCRIPTION OF STRING INTO FLOAT ACCU
03203  B487              ;********************************
03204  B487  A2 22       XXB487 LDX #$22        ;'"'
03205  B489  86 07              STX $07
03206  B48B  86 08              STX $08
03207  B48D  85 6F       XXB48D STA $6F
03208  B48F  84 70              STY $70
03209  B491  85 62              STA $62
03210  B493  84 63              STY $63
03211  B495  A0 FF              LDY #$FF
03212  B497  C8          XXB497 INY 
03213  B498  B1 6F              LDA ($6F),Y
03214  B49A  F0 0C              BEQ XXB4A8
03215  B49C  C5 07              CMP $07
03216  B49E  F0 04              BEQ XXB4A4
03217  B4A0  C5 08              CMP $08
03218  B4A2  D0 F3              BNE XXB497
03219  B4A4  C9 22       XXB4A4 CMP #$22        ;'"'
03220  B4A6  F0 01              BEQ XXB4A9
03221  B4A8  18          XXB4A8 CLC 
03222  B4A9  84 61       XXB4A9 STY $61
03223  B4AB  98                 TYA 
03224  B4AC  65 6F              ADC $6F
03225  B4AE  85 71              STA $71
03226  B4B0  A6 70              LDX $70
03227  B4B2  90 01              BCC XXB4B5
03228  B4B4  E8                 INX 
03229  B4B5  86 72       XXB4B5 STX $72
03230  B4B7  A5 70              LDA $70
03231  B4B9  F0 04              BEQ XXB4BF






BASICV2A.ASM......PAGE 0063

LINE# LOC   CODE        LINE


03232  B4BB  C9 02              CMP #$02
03233  B4BD  D0 0B              BNE XXB4CA
03234  B4BF  98          XXB4BF TYA 
03235  B4C0  20 75 B4           JSR XXB475
03236  B4C3  A6 6F              LDX $6F
03237  B4C5  A4 70              LDY $70
03238  B4C7  20 88 B6           JSR XXB688
03239  B4CA              ;********************************
03240  B4CA              ; SAVE DESCRIPTOR FROM $61-$63 ON STACK
03241  B4CA              ;********************************
03242  B4CA  A6 16       XXB4CA LDX TEMPPT
03243  B4CC  E0 22              CPX #$22        ;'"'
03244  B4CE  D0 05              BNE XXB4D5
03245  B4D0  A2 19              LDX #$19
03246  B4D2  4C 37 A4    XXB4D2 JMP XXA437
03247  B4D5              ;********************************
03248  B4D5              ;
03249  B4D5              ;********************************
03250  B4D5  A5 61       XXB4D5 LDA $61
03251  B4D7  95 00              STA $00,X
03252  B4D9  A5 62              LDA $62
03253  B4DB  95 01              STA $01,X
03254  B4DD  A5 63              LDA $63
03255  B4DF  95 02              STA $02,X
03256  B4E1  A0 00              LDY #$00
03257  B4E3  86 64              STX $64
03258  B4E5  84 65              STY $65
03259  B4E7  84 70              STY $70
03260  B4E9  88                 DEY 
03261  B4EA  84 0D              STY $0D
03262  B4EC  86 17              STX LASTPT
03263  B4EE  E8                 INX 
03264  B4EF  E8                 INX 
03265  B4F0  E8                 INX 
03266  B4F1  86 16              STX TEMPPT
03267  B4F3  60                 RTS 
03268  B4F4              ;********************************
03269  B4F4              ; ALLOCATE NUMBER OF BYTES IN A
03270  B4F4              ;********************************
03271  B4F4  46 0F       XXB4F4 LSR $0F
03272  B4F6  48          XXB4F6 PHA 
03273  B4F7  49 FF              EOR #$FF
03274  B4F9  38                 SEC 
03275  B4FA  65 33              ADC FRETOP
03276  B4FC  A4 34              LDY FRETOP+1
03277  B4FE  B0 01              BCS XXB501
03278  B500  88                 DEY 
03279  B501  C4 32       XXB501 CPY STREND+1
03280  B503  90 11              BCC XXB516
03281  B505  D0 04              BNE XXB50B
03282  B507  C5 31              CMP STREND
03283  B509  90 0B              BCC XXB516
03284  B50B  85 33       XXB50B STA FRETOP
03285  B50D  84 34              STY FRETOP+1
03286  B50F  85 35              STA FRESPC






BASICV2A.ASM......PAGE 0064

LINE# LOC   CODE        LINE


03287  B511  84 36              STY FRESPC+1
03288  B513  AA                 TAX 
03289  B514  68                 PLA 
03290  B515  60                 RTS 
03291  B516              ;********************************
03292  B516              ;
03293  B516              ;********************************
03294  B516  A2 10       XXB516 LDX #$10
03295  B518  A5 0F              LDA $0F
03296  B51A  30 B6              BMI XXB4D2
03297  B51C  20 26 B5           JSR XXB526
03298  B51F  A9 80              LDA #$80
03299  B521  85 0F              STA $0F
03300  B523  68                 PLA 
03301  B524  D0 D0              BNE XXB4F6
03302  B526              ;********************************
03303  B526              ; STRING GARBAGE CLEAN UP
03304  B526              ;********************************
03305  B526  A6 37       XXB526 LDX MEMSIZ
03306  B528  A5 38              LDA MEMSIZ+1
03307  B52A  86 33       XXB52A STX FRETOP
03308  B52C  85 34              STA FRETOP+1
03309  B52E  A0 00              LDY #$00
03310  B530  84 4F              STY $4F
03311  B532  84 4E              STY $4E
03312  B534  A5 31              LDA STREND
03313  B536  A6 32              LDX STREND+1
03314  B538  85 5F              STA $5F
03315  B53A  86 60              STX $60
03316  B53C  A9 19              LDA #$19        ; LOW  0019
03317  B53E  A2 00              LDX #$00        ; HIGH 0019
03318  B540  85 22              STA INDEX
03319  B542  86 23              STX INDEX+1
03320  B544  C5 16       XXB544 CMP TEMPPT
03321  B546  F0 05              BEQ XXB54D
03322  B548  20 C7 B5           JSR XXB5C7
03323  B54B  F0 F7              BEQ XXB544
03324  B54D  A9 07       XXB54D LDA #$07
03325  B54F  85 53              STA $53
03326  B551  A5 2D              LDA VARTAB
03327  B553  A6 2E              LDX VARTAB+1
03328  B555  85 22              STA INDEX
03329  B557  86 23              STX INDEX+1
03330  B559  E4 30       XXB559 CPX ARYTAB+1
03331  B55B  D0 04              BNE XXB561
03332  B55D  C5 2F              CMP ARYTAB
03333  B55F  F0 05              BEQ XXB566
03334  B561  20 BD B5    XXB561 JSR XXB5BD
03335  B564  F0 F3              BEQ XXB559
03336  B566  85 58       XXB566 STA $58
03337  B568  86 59              STX $59
03338  B56A  A9 03              LDA #$03
03339  B56C  85 53              STA $53
03340  B56E  A5 58       XXB56E LDA $58
03341  B570  A6 59              LDX $59






BASICV2A.ASM......PAGE 0065

LINE# LOC   CODE        LINE


03342  B572  E4 32       XXB572 CPX STREND+1
03343  B574  D0 07              BNE XXB57D
03344  B576  C5 31              CMP STREND
03345  B578  D0 03              BNE XXB57D
03346  B57A  4C 06 B6           JMP XXB606
03347  B57D              ;********************************
03348  B57D              ;
03349  B57D              ;********************************
03350  B57D  85 22       XXB57D STA INDEX
03351  B57F  86 23              STX INDEX+1
03352  B581  A0 00              LDY #$00
03353  B583  B1 22              LDA (INDEX),Y
03354  B585  AA                 TAX 
03355  B586  C8                 INY 
03356  B587  B1 22              LDA (INDEX),Y
03357  B589  08                 PHP 
03358  B58A  C8                 INY 
03359  B58B  B1 22              LDA (INDEX),Y
03360  B58D  65 58              ADC $58
03361  B58F  85 58              STA $58
03362  B591  C8                 INY 
03363  B592  B1 22              LDA (INDEX),Y
03364  B594  65 59              ADC $59
03365  B596  85 59              STA $59
03366  B598  28                 PLP 
03367  B599  10 D3              BPL XXB56E
03368  B59B  8A                 TXA 
03369  B59C  30 D0              BMI XXB56E
03370  B59E  C8                 INY 
03371  B59F  B1 22              LDA (INDEX),Y
03372  B5A1  A0 00              LDY #$00
03373  B5A3  0A                 ASL A
03374  B5A4  69 05              ADC #$05
03375  B5A6  65 22              ADC INDEX
03376  B5A8  85 22              STA INDEX
03377  B5AA  90 02              BCC XXB5AE
03378  B5AC  E6 23              INC INDEX+1
03379  B5AE  A6 23       XXB5AE LDX INDEX+1
03380  B5B0  E4 59       XXB5B0 CPX $59
03381  B5B2  D0 04              BNE XXB5B8
03382  B5B4  C5 58              CMP $58
03383  B5B6  F0 BA              BEQ XXB572
03384  B5B8  20 C7 B5    XXB5B8 JSR XXB5C7
03385  B5BB  F0 F3              BEQ XXB5B0
03386  B5BD              ;********************************
03387  B5BD              ; CHECK STRING AREA
03388  B5BD              ;********************************
03389  B5BD  B1 22              XXB5BD LDA (INDEX),Y
03390  B5BF  30 35              BMI XXB5F6
03391  B5C1  C8                 INY 
03392  B5C2  B1 22              LDA (INDEX),Y
03393  B5C4  10 30              BPL XXB5F6
03394  B5C6  C8                 INY 
03395  B5C7              ;********************************
03396  B5C7              ; CHECK STRING AREA






BASICV2A.ASM......PAGE 0066

LINE# LOC   CODE        LINE


03397  B5C7              ;********************************
03398  B5C7  B1 22       XXB5C7 LDA (INDEX),Y
03399  B5C9  F0 2B              BEQ XXB5F6
03400  B5CB  C8                 INY 
03401  B5CC  B1 22              LDA (INDEX),Y
03402  B5CE  AA                 TAX 
03403  B5CF  C8                 INY 
03404  B5D0  B1 22              LDA (INDEX),Y
03405  B5D2  C5 34              CMP FRETOP+1
03406  B5D4  90 06              BCC XXB5DC
03407  B5D6  D0 1E              BNE XXB5F6
03408  B5D8  E4 33              CPX FRETOP
03409  B5DA  B0 1A              BCS XXB5F6
03410  B5DC  C5 60       XXB5DC CMP $60
03411  B5DE  90 16              BCC XXB5F6
03412  B5E0  D0 04              BNE XXB5E6
03413  B5E2  E4 5F              CPX $5F
03414  B5E4  90 10              BCC XXB5F6
03415  B5E6  86 5F       XXB5E6 STX $5F
03416  B5E8  85 60              STA $60
03417  B5EA  A5 22              LDA INDEX
03418  B5EC  A6 23              LDX INDEX+1
03419  B5EE  85 4E              STA $4E
03420  B5F0  86 4F              STX $4F
03421  B5F2  A5 53              LDA $53
03422  B5F4  85 55              STA $55
03423  B5F6  A5 53       XXB5F6 LDA $53
03424  B5F8  18                 CLC 
03425  B5F9  65 22              ADC INDEX
03426  B5FB  85 22              STA INDEX
03427  B5FD  90 02              BCC XXB601
03428  B5FF  E6 23              INC INDEX+1
03429  B601  A6 23       XXB601 LDX INDEX+1
03430  B603  A0 00              LDY #$00
03431  B605  60                 RTS 
03432  B606              ;********************************
03433  B606              ; CONTINUATION OF GARBAGE CLEAN UP
03434  B606              ;********************************
03435  B606  A5 4F       XXB606 LDA $4F
03436  B608  05 4E              ORA $4E
03437  B60A  F0 F5              BEQ XXB601
03438  B60C  A5 55              LDA $55
03439  B60E  29 04              AND #$04
03440  B610  4A                 LSR A
03441  B611  A8                 TAY 
03442  B612  85 55              STA $55
03443  B614  B1 4E              LDA ($4E),Y
03444  B616  65 5F              ADC $5F
03445  B618  85 5A              STA $5A
03446  B61A  A5 60              LDA $60
03447  B61C  69 00              ADC #$00
03448  B61E  85 5B              STA $5B
03449  B620  A5 33              LDA FRETOP
03450  B622  A6 34              LDX FRETOP+1
03451  B624  85 58              STA $58






BASICV2A.ASM......PAGE 0067

LINE# LOC   CODE        LINE


03452  B626  86 59              STX $59
03453  B628  20 BF A3           JSR XXA3BF
03454  B62B  A4 55              LDY $55
03455  B62D  C8                 INY 
03456  B62E  A5 58              LDA $58
03457  B630  91 4E              STA ($4E),Y
03458  B632  AA                 TAX 
03459  B633  E6 59              INC $59
03460  B635  A5 59              LDA $59
03461  B637  C8                 INY 
03462  B638  91 4E              STA ($4E),Y
03463  B63A  4C 2A B5           JMP XXB52A
03464  B63D              ;********************************
03465  B63D              ; JOINING STRINGS
03466  B63D              ;********************************
03467  B63D  A5 65       XXB63D LDA $65
03468  B63F  48                 PHA 
03469  B640  A5 64              LDA $64
03470  B642  48                 PHA 
03471  B643  20 83 AE           JSR XXAE83
03472  B646  20 8F AD           JSR XXAD8F
03473  B649  68                 PLA 
03474  B64A  85 6F              STA $6F
03475  B64C  68                 PLA 
03476  B64D  85 70              STA $70
03477  B64F  A0 00              LDY #$00
03478  B651  B1 6F              LDA ($6F),Y
03479  B653  18                 CLC 
03480  B654  71 64              ADC ($64),Y
03481  B656  90 05              BCC XXB65D
03482  B658  A2 17              LDX #$17
03483  B65A  4C 37 A4           JMP XXA437
03484  B65D              ;********************************
03485  B65D              ;
03486  B65D              ;********************************
03487  B65D  20 75 B4    XXB65D JSR XXB475
03488  B660  20 7A B6           JSR XXB67A
03489  B663  A5 50              LDA $50
03490  B665  A4 51              LDY $51
03491  B667  20 AA B6           JSR XXB6AA
03492  B66A  20 8C B6           JSR XXB68C
03493  B66D  A5 6F              LDA $6F
03494  B66F  A4 70              LDY $70
03495  B671  20 AA B6           JSR XXB6AA
03496  B674  20 CA B4           JSR XXB4CA
03497  B677  4C B8 AD           JMP XXADB8
03498  B67A              ;********************************
03499  B67A              ; MOVE STRING
03500  B67A              ;********************************
03501  B67A  A0 00       XXB67A LDY #$00
03502  B67C  B1 6F              LDA ($6F),Y
03503  B67E  48                 PHA 
03504  B67F  C8                 INY 
03505  B680  B1 6F              LDA ($6F),Y
03506  B682  AA                 TAX 






BASICV2A.ASM......PAGE 0068

LINE# LOC   CODE        LINE


03507  B683  C8                 INY 
03508  B684  B1 6F              LDA ($6F),Y
03509  B686  A8                 TAY 
03510  B687  68                 PLA 
03511  B688              ;********************************
03512  B688              ; MOVE STRING WITH LENGTH A, POINTER IN XY
03513  B688              ;********************************
03514  B688  86 22       XXB688 STX INDEX
03515  B68A  84 23              STY INDEX+1
03516  B68C  A8          XXB68C TAY 
03517  B68D  F0 0A              BEQ XXB699
03518  B68F  48                 PHA 
03519  B690  88          XXB690 DEY 
03520  B691  B1 22              LDA (INDEX),Y
03521  B693  91 35              STA (FRESPC),Y
03522  B695  98                 TYA 
03523  B696  D0 F8              BNE XXB690
03524  B698  68                 PLA 
03525  B699  18          XXB699 CLC 
03526  B69A  65 35              ADC FRESPC
03527  B69C  85 35              STA FRESPC
03528  B69E  90 02              BCC XXB6A2
03529  B6A0  E6 36              INC FRESPC+1
03530  B6A2  60          XXB6A2 RTS 
03531  B6A3              ;********************************
03532  B6A3              ; DE-ALLOCATE TEMPORARY STRING
03533  B6A3              ;********************************
03534  B6A3  20 8F AD    XXB6A3 JSR XXAD8F
03535  B6A6  A5 64       XXB6A6 LDA $64
03536  B6A8  A4 65              LDY $65
03537  B6AA  85 22       XXB6AA STA INDEX
03538  B6AC  84 23              STY INDEX+1
03539  B6AE  20 DB B6           JSR XXB6DB
03540  B6B1  08                 PHP 
03541  B6B2  A0 00              LDY #$00
03542  B6B4  B1 22              LDA (INDEX),Y
03543  B6B6  48                 PHA 
03544  B6B7  C8                 INY 
03545  B6B8  B1 22              LDA (INDEX),Y
03546  B6BA  AA                 TAX 
03547  B6BB  C8                 INY 
03548  B6BC  B1 22              LDA (INDEX),Y
03549  B6BE  A8                 TAY 
03550  B6BF  68                 PLA 
03551  B6C0  28                 PLP 
03552  B6C1  D0 13              BNE XXB6D6
03553  B6C3  C4 34              CPY FRETOP+1
03554  B6C5  D0 0F              BNE XXB6D6
03555  B6C7  E4 33              CPX FRETOP
03556  B6C9  D0 0B              BNE XXB6D6
03557  B6CB  48                 PHA 
03558  B6CC  18                 CLC 
03559  B6CD  65 33              ADC FRETOP
03560  B6CF  85 33              STA FRETOP
03561  B6D1  90 02              BCC XXB6D5






BASICV2A.ASM......PAGE 0069

LINE# LOC   CODE        LINE


03562  B6D3  E6 34              INC FRETOP+1
03563  B6D5  68          XXB6D5 PLA 
03564  B6D6  86 22       XXB6D6 STX INDEX
03565  B6D8  84 23              STY INDEX+1
03566  B6DA  60                 RTS 
03567  B6DB              ;********************************
03568  B6DB              ; CHECK DESCRIPTOR STACK
03569  B6DB              ;********************************
03570  B6DB  C4 18       XXB6DB CPY LASTPT+1
03571  B6DD  D0 0C              BNE XXB6EB
03572  B6DF  C5 17              CMP LASTPT
03573  B6E1  D0 08              BNE XXB6EB
03574  B6E3  85 16              STA TEMPPT
03575  B6E5  E9 03              SBC #$03
03576  B6E7  85 17              STA LASTPT
03577  B6E9  A0 00              LDY #$00
03578  B6EB  60          XXB6EB RTS 
03579  B6EC              ;********************************
03580  B6EC              ; CHR$ FUNCTION
03581  B6EC              ;********************************
03582  B6EC  20 A1 B7    XXB6EC JSR XXB7A1
03583  B6EF  8A                 TXA 
03584  B6F0  48                 PHA 
03585  B6F1  A9 01              LDA #$01
03586  B6F3  20 7D B4           JSR XXB47D
03587  B6F6  68                 PLA 
03588  B6F7  A0 00              LDY #$00
03589  B6F9  91 62              STA ($62),Y
03590  B6FB  68                 PLA 
03591  B6FC  68                 PLA 
03592  B6FD  4C CA B4           JMP XXB4CA
03593  B700              ;********************************
03594  B700              ; LEFT$ FUNCTION
03595  B700              ;********************************
03596  B700  20 61 B7    XXB700 JSR XXB761
03597  B703  D1 50              CMP ($50),Y
03598  B705  98                 TYA 
03599  B706  90 04       XXB706 BCC XXB70C
03600  B708  B1 50              LDA ($50),Y
03601  B70A  AA                 TAX 
03602  B70B  98                 TYA 
03603  B70C  48          XXB70C PHA 
03604  B70D  8A          XXB70D TXA 
03605  B70E  48          XXB70E PHA 
03606  B70F  20 7D B4           JSR XXB47D
03607  B712  A5 50              LDA $50
03608  B714  A4 51              LDY $51
03609  B716  20 AA B6           JSR XXB6AA
03610  B719  68                 PLA 
03611  B71A  A8                 TAY 
03612  B71B  68                 PLA 
03613  B71C  18                 CLC 
03614  B71D  65 22              ADC INDEX
03615  B71F  85 22              STA INDEX
03616  B721  90 02              BCC XXB725






BASICV2A.ASM......PAGE 0070

LINE# LOC   CODE        LINE


03617  B723  E6 23              INC INDEX+1
03618  B725  98          XXB725 TYA 
03619  B726  20 8C B6           JSR XXB68C
03620  B729  4C CA B4           JMP XXB4CA
03621  B72C              ;********************************
03622  B72C              ; RIGHT$ FUNCTIO
03623  B72C              ;********************************
03624  B72C  20 61 B7    XXB72C JSR XXB761
03625  B72F  18                 CLC 
03626  B730  F1 50              SBC ($50),Y
03627  B732  49 FF              EOR #$FF
03628  B734  4C 06 B7           JMP XXB706
03629  B737              ;********************************
03630  B737              ; MID$ FUNCTION
03631  B737              ;********************************
03632  B737  A9 FF       XXB737 LDA #$FF        ; DEFAULT 3 PARAMETER
03633  B739  85 65              STA $65
03634  B73B  20 79 00           JSR $0079
03635  B73E  C9 29              CMP #$29        ;')'
03636  B740  F0 06              BEQ XXB748
03637  B742  20 FD AE           JSR XXAEFD
03638  B745  20 9E B7           JSR XXB79E
03639  B748  20 61 B7    XXB748 JSR XXB761
03640  B74B  F0 4B              BEQ XXB798
03641  B74D  CA                 DEX 
03642  B74E  8A                 TXA 
03643  B74F  48                 PHA 
03644  B750  18                 CLC 
03645  B751  A2 00              LDX #$00
03646  B753  F1 50              SBC ($50),Y
03647  B755  B0 B6              BCS XXB70D
03648  B757  49 FF              EOR #$FF
03649  B759  C5 65              CMP $65
03650  B75B  90 B1              BCC XXB70E
03651  B75D  A5 65              LDA $65
03652  B75F  B0 AD              BCS XXB70E
03653  B761              ;********************************
03654  B761              ; GET FIRST 2 PARAMETERS FOR
03655  B761              ; LEFT$, RIGHT$ AND MID$
03656  B761              ;********************************
03657  B761  20 F7 AE    XXB761 JSR XXAEF7
03658  B764  68                 PLA 
03659  B765  A8                 TAY 
03660  B766  68                 PLA 
03661  B767  85 55              STA $55
03662  B769  68                 PLA 
03663  B76A  68                 PLA 
03664  B76B  68                 PLA 
03665  B76C  AA                 TAX 
03666  B76D  68                 PLA 
03667  B76E  85 50              STA $50
03668  B770  68                 PLA 
03669  B771  85 51              STA $51
03670  B773  A5 55              LDA $55
03671  B775  48                 PHA 






BASICV2A.ASM......PAGE 0071

LINE# LOC   CODE        LINE


03672  B776  98                 TYA 
03673  B777  48                 PHA 
03674  B778  A0 00              LDY #$00
03675  B77A  8A                 TXA 
03676  B77B  60                 RTS 
03677  B77C              ;********************************
03678  B77C              ; LEN FUNCTION
03679  B77C              ;********************************
03680  B77C  20 82 B7    XXB77C JSR XXB782
03681  B77F  4C A2 B3           JMP XXB3A2
03682  B782              ;********************************
03683  B782              ;
03684  B782              ;********************************
03685  B782  20 A3 B6    XXB782 JSR XXB6A3
03686  B785  A2 00              LDX #$00
03687  B787  86 0D              STX $0D
03688  B789  A8                 TAY 
03689  B78A  60                 RTS 
03690  B78B              ;********************************
03691  B78B              ; ASC FUNCTION
03692  B78B              ;********************************
03693  B78B  20 82 B7    XXB78B JSR XXB782
03694  B78E  F0 08              BEQ XXB798
03695  B790  A0 00              LDY #$00
03696  B792  B1 22              LDA (INDEX),Y
03697  B794  A8                 TAY 
03698  B795  4C A2 B3           JMP XXB3A2
03699  B798              ;********************************
03700  B798              ;
03701  B798              ;********************************
03702  B798  4C 48 B2    XXB798 JMP XXB248
03703  B79B              ;********************************
03704  B79B              ; FETCH INTEGER VALUE IN X AND CHECK RANGE
03705  B79B              ;********************************
03706  B79B  20 73 00    XXB79B JSR $0073
03707  B79E  20 8A AD    XXB79E JSR XXAD8A
03708  B7A1  20 B8 B1    XXB7A1 JSR XXB1B8
03709  B7A4  A6 64              LDX $64
03710  B7A6  D0 F0              BNE XXB798
03711  B7A8  A6 65              LDX $65
03712  B7AA  4C 79 00           JMP $0079
03713  B7AD              ;********************************
03714  B7AD              ; VAL FUNCTION
03715  B7AD              ;********************************
03716  B7AD  20 82 B7    XXB7AD JSR XXB782
03717  B7B0  D0 03              BNE XXB7B5
03718  B7B2  4C F7 B8           JMP XXB8F7
03719  B7B5              ;********************************
03720  B7B5              ;
03721  B7B5              ;********************************
03722  B7B5  A6 7A       XXB7B5 LDX $7A
03723  B7B7  A4 7B              LDY $7B
03724  B7B9  86 71              STX $71
03725  B7BB  84 72              STY $72
03726  B7BD  A6 22              LDX INDEX






BASICV2A.ASM......PAGE 0072

LINE# LOC   CODE        LINE


03727  B7BF  86 7A              STX $7A
03728  B7C1  18                 CLC 
03729  B7C2  65 22              ADC INDEX
03730  B7C4  85 24              STA INDEX+2
03731  B7C6  A6 23              LDX INDEX+1
03732  B7C8  86 7B              STX $7B
03733  B7CA  90 01              BCC XXB7CD
03734  B7CC  E8                 INX 
03735  B7CD  86 25       XXB7CD STX INDEX+3
03736  B7CF  A0 00              LDY #$00
03737  B7D1  B1 24              LDA (INDEX+2),Y
03738  B7D3  48                 PHA 
03739  B7D4  98                 TYA 
03740  B7D5  91 24              STA (INDEX+2),Y
03741  B7D7  20 79 00           JSR $0079
03742  B7DA  20 F3 BC           JSR XXBCF3
03743  B7DD  68                 PLA 
03744  B7DE  A0 00              LDY #$00
03745  B7E0  91 24              STA (INDEX+2),Y
03746  B7E2  A6 71       XXB7E2 LDX $71
03747  B7E4  A4 72              LDY $72
03748  B7E6  86 7A              STX $7A
03749  B7E8  84 7B              STY $7B
03750  B7EA  60                 RTS 
03751  B7EB              ;********************************
03752  B7EB              ; GET ADDRESS INTO LINNUM/LINNUM+1 AND INTEGER IN
 X
03753  B7EB              ;********************************
03754  B7EB  20 8A AD    XXB7EB JSR XXAD8A
03755  B7EE  20 F7 B7           JSR XXB7F7
03756  B7F1  20 FD AE    XXB7F1 JSR XXAEFD
03757  B7F4  4C 9E B7           JMP XXB79E
03758  B7F7              ;********************************
03759  B7F7              ; CONVERT FLOAT TI INTEGER IN LINNUM/$1
03760  B7F7              ;********************************
03761  B7F7  A5 66       XXB7F7 LDA $66
03762  B7F9  30 9D              BMI XXB798
03763  B7FB  A5 61              LDA $61
03764  B7FD  C9 91              CMP #$91
03765  B7FF  B0 97              BCS XXB798
03766  B801  20 9B BC           JSR XXBC9B
03767  B804  A5 64              LDA $64
03768  B806  A4 65              LDY $65
03769  B808  84 14              STY LINNUM
03770  B80A  85 15              STA LINNUM+1
03771  B80C  60                 RTS 
03772  B80D              ;********************************
03773  B80D              ; PEEK FUNCTIO
03774  B80D              ;********************************
03775  B80D  A5 15       XXB80D LDA LINNUM+1
03776  B80F  48                 PHA 
03777  B810  A5 14              LDA LINNUM
03778  B812  48                 PHA 
03779  B813  20 F7 B7           JSR XXB7F7
03780  B816  A0 00              LDY #$00
03781  B818  B1 14              LDA (LINNUM),Y






BASICV2A.ASM......PAGE 0073

LINE# LOC   CODE        LINE


03782  B81A  A8                 TAY 
03783  B81B  68                 PLA 
03784  B81C  85 14              STA LINNUM
03785  B81E  68                 PLA 
03786  B81F  85 15              STA LINNUM+1
03787  B821  4C A2 B3           JMP XXB3A2
03788  B824              ;********************************
03789  B824              ; POKE COMMAND
03790  B824              ;********************************
03791  B824  20 EB B7    ZZB824 JSR XXB7EB
03792  B827  8A                 TXA 
03793  B828  A0 00              LDY #$00
03794  B82A  91 14              STA (LINNUM),Y
03795  B82C  60          XXB82C RTS 
03796  B82D              ;********************************
03797  B82D              ; WAIT COMMAND
03798  B82D              ;********************************
03799  B82D  20 EB B7    ZZB82D JSR XXB7EB
03800  B830  86 49              STX $49
03801  B832  A2 00              LDX #$00
03802  B834  20 79 00           JSR $0079
03803  B837  F0 03              BEQ XXB83C
03804  B839  20 F1 B7           JSR XXB7F1
03805  B83C  86 4A       XXB83C STX $4A
03806  B83E  A0 00              LDY #$00
03807  B840  B1 14       XXB840 LDA (LINNUM),Y
03808  B842  45 4A              EOR $4A
03809  B844  25 49              AND $49
03810  B846  F0 F8              BEQ XXB840
03811  B848  60          XXB848 RTS 
03812  B849              ;********************************
03813  B849              ; ADD 0.5 TO FLOAT ACCU (ROUNDING)
03814  B849              ;********************************
03815  B849  A9 11       XXB849 LDA #$11
03816  B84B  A0 BF              LDY #$BF
03817  B84D  4C 67 B8           JMP XXB867
03818  B850              ;********************************
03819  B850              ; MINUS OPERATOR
03820  B850              ;********************************
03821  B850  20 8C BA    XXB850 JSR XXBA8C
03822  B853  A5 66       KKB853 LDA $66
03823  B855  49 FF              EOR #$FF
03824  B857  85 66              STA $66
03825  B859  45 6E              EOR $6E
03826  B85B  85 6F              STA $6F
03827  B85D  A5 61              LDA $61
03828  B85F  4C 6A B8           JMP XXB86A
03829  B862              ;********************************
03830  B862              ;
03831  B862              ;********************************
03832  B862  20 99 B9    XXB862 JSR XXB999
03833  B865  90 3C              BCC XXB8A3
03834  B867              ;********************************
03835  B867              ; ADD FLOAT INDEXED BY AY TO FLOAT ACCU
03836  B867              ;********************************






BASICV2A.ASM......PAGE 0074

LINE# LOC   CODE        LINE


03837  B867  20 8C BA    XXB867 JSR XXBA8C
03838  B86A              ;********************************
03839  B86A              ; PLUS OPERATOR
03840  B86A              ;********************************
03841  B86A  D0 03       XXB86A BNE XXB86F
03842  B86C  4C FC BB           JMP XXBBFC
03843  B86F              ;********************************
03844  B86F              ;
03845  B86F              ;********************************
03846  B86F  A6 70       XXB86F LDX $70
03847  B871  86 56              STX $56
03848  B873  A2 69              LDX #$69
03849  B875  A5 69              LDA $69
03850  B877  A8          XXB877 TAY 
03851  B878  F0 CE              BEQ XXB848
03852  B87A  38                 SEC 
03853  B87B  E5 61              SBC $61
03854  B87D  F0 24              BEQ XXB8A3
03855  B87F  90 12              BCC XXB893
03856  B881  84 61              STY $61
03857  B883  A4 6E              LDY $6E
03858  B885  84 66              STY $66
03859  B887  49 FF              EOR #$FF
03860  B889  69 00              ADC #$00
03861  B88B  A0 00              LDY #$00
03862  B88D  84 56              STY $56
03863  B88F  A2 61              LDX #$61
03864  B891  D0 04              BNE XXB897
03865  B893  A0 00       XXB893 LDY #$00
03866  B895  84 70              STY $70
03867  B897  C9 F9       XXB897 CMP #$F9
03868  B899  30 C7              BMI XXB862
03869  B89B  A8                 TAY 
03870  B89C  A5 70              LDA $70
03871  B89E  56 01              LSR $01,X
03872  B8A0  20 B0 B9           JSR XXB9B0
03873  B8A3  24 6F       XXB8A3 BIT $6F
03874  B8A5  10 57              BPL XXB8FE
03875  B8A7  A0 61              LDY #$61
03876  B8A9  E0 69              CPX #$69
03877  B8AB  F0 02              BEQ XXB8AF
03878  B8AD  A0 69              LDY #$69
03879  B8AF  38          XXB8AF SEC 
03880  B8B0  49 FF              EOR #$FF
03881  B8B2  65 56              ADC $56
03882  B8B4  85 70              STA $70
03883  B8B6  B9 04 00           LDA $0004,Y
03884  B8B9  F5 04              SBC $04,X
03885  B8BB  85 65              STA $65
03886  B8BD  B9 03 00           LDA $0003,Y
03887  B8C0  F5 03              SBC $03,X
03888  B8C2  85 64              STA $64
03889  B8C4  B9 02 00           LDA $0002,Y
03890  B8C7  F5 02              SBC $02,X
03891  B8C9  85 63              STA $63






BASICV2A.ASM......PAGE 0075

LINE# LOC   CODE        LINE


03892  B8CB  B9 01 00           LDA $0001,Y
03893  B8CE  F5 01              SBC $01,X
03894  B8D0  85 62              STA $62
03895  B8D2  B0 03       XXB8D2 BCS XXB8D7
03896  B8D4  20 47 B9           JSR XXB947
03897  B8D7  A0 00       XXB8D7 LDY #$00
03898  B8D9  98                 TYA 
03899  B8DA  18                 CLC 
03900  B8DB  A6 62       XXB8DB LDX $62
03901  B8DD  D0 4A              BNE XXB929
03902  B8DF  A6 63              LDX $63
03903  B8E1  86 62              STX $62
03904  B8E3  A6 64              LDX $64
03905  B8E5  86 63              STX $63
03906  B8E7  A6 65              LDX $65
03907  B8E9  86 64              STX $64
03908  B8EB  A6 70              LDX $70
03909  B8ED  86 65              STX $65
03910  B8EF  84 70              STY $70
03911  B8F1  69 08              ADC #$08
03912  B8F3  C9 20              CMP #$20        ;' '
03913  B8F5  D0 E4              BNE XXB8DB
03914  B8F7  A9 00       XXB8F7 LDA #$00
03915  B8F9  85 61       XXB8F9 STA $61
03916  B8FB  85 66       XXB8FB STA $66
03917  B8FD  60                 RTS 
03918  B8FE              ;********************************
03919  B8FE              ; ADD FRACTIONS
03920  B8FE              ;********************************
03921  B8FE  65 56       XXB8FE ADC $56
03922  B900  85 70              STA $70
03923  B902  A5 65              LDA $65
03924  B904  65 6D              ADC $6D
03925  B906  85 65              STA $65
03926  B908  A5 64              LDA $64
03927  B90A  65 6C              ADC $6C
03928  B90C  85 64              STA $64
03929  B90E  A5 63              LDA $63
03930  B910  65 6B              ADC $6B
03931  B912  85 63              STA $63
03932  B914  A5 62              LDA $62
03933  B916  65 6A              ADC $6A
03934  B918  85 62              STA $62
03935  B91A  4C 36 B9           JMP XXB936
03936  B91D              ;********************************
03937  B91D              ; POSTSHIFT
03938  B91D              ;********************************
03939  B91D  69 01       XXB91D ADC #$01
03940  B91F  06 70              ASL $70
03941  B921  26 65              ROL $65
03942  B923  26 64              ROL $64
03943  B925  26 63              ROL $63
03944  B927  26 62              ROL $62
03945  B929  10 F2       XXB929 BPL XXB91D
03946  B92B  38                 SEC 






BASICV2A.ASM......PAGE 0076

LINE# LOC   CODE        LINE


03947  B92C  E5 61              SBC $61
03948  B92E  B0 C7              BCS XXB8F7
03949  B930  49 FF              EOR #$FF
03950  B932  69 01              ADC #$01
03951  B934  85 61              STA $61
03952  B936  90 0E       XXB936 BCC XXB946
03953  B938  E6 61       XXB938 INC $61
03954  B93A  F0 42              BEQ XXB97E
03955  B93C  66 62              ROR $62
03956  B93E  66 63              ROR $63
03957  B940  66 64              ROR $64
03958  B942  66 65              ROR $65
03959  B944  66 70              ROR $70
03960  B946  60          XXB946 RTS 
03961  B947              ;********************************
03962  B947              ; NEGATE FLOAT ACCU
03963  B947              ;********************************
03964  B947  A5 66       XXB947 LDA $66
03965  B949  49 FF              EOR #$FF
03966  B94B  85 66              STA $66
03967  B94D  A5 62       XXB94D LDA $62
03968  B94F  49 FF              EOR #$FF
03969  B951  85 62              STA $62
03970  B953  A5 63              LDA $63
03971  B955  49 FF              EOR #$FF
03972  B957  85 63              STA $63
03973  B959  A5 64              LDA $64
03974  B95B  49 FF              EOR #$FF
03975  B95D  85 64              STA $64
03976  B95F  A5 65              LDA $65
03977  B961  49 FF              EOR #$FF
03978  B963  85 65              STA $65
03979  B965  A5 70              LDA $70
03980  B967  49 FF              EOR #$FF
03981  B969  85 70              STA $70
03982  B96B  E6 70              INC $70
03983  B96D  D0 0E              BNE XXB97D
03984  B96F              ;********************************
03985  B96F              ; INCREMENT FRACTION
03986  B96F              ;********************************
03987  B96F  E6 65       XXB96F INC $65
03988  B971  D0 0A              BNE XXB97D
03989  B973  E6 64              INC $64
03990  B975  D0 06              BNE XXB97D
03991  B977  E6 63              INC $63
03992  B979  D0 02              BNE XXB97D
03993  B97B  E6 62              INC $62
03994  B97D  60          XXB97D RTS 
03995  B97E              ;********************************
03996  B97E              ;
03997  B97E              ;********************************
03998  B97E  A2 0F       XXB97E LDX #$0F        ; ERROR NUMBER
03999  B980  4C 37 A4           JMP XXA437
04000  B983              ;********************************
04001  B983              ; PRESHIFT






BASICV2A.ASM......PAGE 0077

LINE# LOC   CODE        LINE


04002  B983              ;********************************
04003  B983  A2 25       XXB983 LDX #$25        ;'%'
04004  B985  B4 04       XXB985 LDY $04,X
04005  B987  84 70              STY $70
04006  B989  B4 03              LDY $03,X
04007  B98B  94 04              STY $04,X
04008  B98D  B4 02              LDY $02,X
04009  B98F  94 03              STY $03,X
04010  B991  B4 01              LDY $01,X
04011  B993  94 02              STY $02,X
04012  B995  A4 68              LDY $68
04013  B997  94 01              STY $01,X
04014  B999  69 08       XXB999 ADC #$08
04015  B99B  30 E8              BMI XXB985
04016  B99D  F0 E6              BEQ XXB985
04017  B99F  E9 08              SBC #$08
04018  B9A1  A8                 TAY 
04019  B9A2  A5 70              LDA $70
04020  B9A4  B0 14              BCS XXB9BA
04021  B9A6  16 01       XXB9A6 ASL $01,X
04022  B9A8  90 02              BCC XXB9AC
04023  B9AA  F6 01              INC $01,X
04024  B9AC  76 01       XXB9AC ROR $01,X
04025  B9AE  76 01              ROR $01,X
04026  B9B0  76 02       XXB9B0 ROR $02,X
04027  B9B2  76 03              ROR $03,X
04028  B9B4  76 04              ROR $04,X
04029  B9B6  6A                 ROR A
04030  B9B7  C8                 INY 
04031  B9B8  D0 EC              BNE XXB9A6
04032  B9BA  18          XXB9BA CLC 
04033  B9BB  60                 RTS 
04034  B9BC              ;********************************
04035  B9BC              ; 1
04036  B9BC              ;********************************
04037  B9BC  81          WWB9BC .BYTE $81
04038  B9BD  00                 .BYTE $00
04039  B9BE  00                 .BYTE $00
04040  B9BF  00                 .BYTE $00
04041  B9C0  00                 .BYTE $00
04042  B9C1              ;********************************
04043  B9C1              ; LOG POLYNOMIAL TABLE
04044  B9C1              ;********************************
04045  B9C1  03          WWB9C1 .BYTE $03       ; DEGREE 4
04046  B9C2  7F                 .BYTE $7F
04047  B9C3  5E                 .BYTE $5E
04048  B9C4  56                 .BYTE $56
04049  B9C5  CB                 .BYTE $CB
04050  B9C6  79                 .BYTE $79
04051  B9C7  80                 .BYTE $80
04052  B9C8  13                 .BYTE $13
04053  B9C9  9B                 .BYTE $9B
04054  B9CA  0B                 .BYTE $0B
04055  B9CB  64                 .BYTE $64
04056  B9CC  80                 .BYTE $80






BASICV2A.ASM......PAGE 0078

LINE# LOC   CODE        LINE


04057  B9CD  76                 .BYTE $76
04058  B9CE  38                 .BYTE $38
04059  B9CF  93                 .BYTE $93
04060  B9D0  16                 .BYTE $16
04061  B9D1  82                 .BYTE $82
04062  B9D2  38                 .BYTE $38
04063  B9D3  AA                 .BYTE $AA
04064  B9D4  3B                 .BYTE $3B
04065  B9D5  20                 .BYTE $20
04066  B9D6              ;********************************
04067  B9D6              ; 0,5 * SQR(2)
04068  B9D6              ;********************************
04069  B9D6  80          WWB9D6 .BYTE $80
04070  B9D7  35                 .BYTE $35
04071  B9D8  04                 .BYTE $04
04072  B9D9  F3                 .BYTE $F3
04073  B9DA  34                 .BYTE $34
04074  B9DB              ;********************************
04075  B9DB              ; SQR(2)
04076  B9DB              ;********************************
04077  B9DB  81          WWB9DB .BYTE $81
04078  B9DC  35                 .BYTE $35
04079  B9DD  04                 .BYTE $04
04080  B9DE  F3                 .BYTE $F3
04081  B9DF  34                 .BYTE $34
04082  B9E0              ;********************************
04083  B9E0              ; -0.5
04084  B9E0              ;********************************
04085  B9E0  80          WWB9E0 .BYTE $80
04086  B9E1  80                 .BYTE $80
04087  B9E2  00                 .BYTE $00
04088  B9E3  00                 .BYTE $00
04089  B9E4  00                 .BYTE $00
04090  B9E5              ;********************************
04091  B9E5              ; LOG(2)
04092  B9E5              ;********************************
04093  B9E5  80          WWB9E5 .BYTE $80
04094  B9E6  31                 .BYTE $31
04095  B9E7  72                 .BYTE $72
04096  B9E8  17                 .BYTE $17
04097  B9E9  F8                 .BYTE $F8
04098  B9EA              ;********************************
04099  B9EA              ; LOG FUNCTION
04100  B9EA              ;********************************
04101  B9EA  20 2B BC    XXB9EA JSR XXBC2B
04102  B9ED  F0 02              BEQ XXB9F1
04103  B9EF  10 03              BPL XXB9F4
04104  B9F1  4C 48 B2    XXB9F1 JMP XXB248
04105  B9F4              ;********************************
04106  B9F4              ;
04107  B9F4              ;********************************
04108  B9F4  A5 61       XXB9F4 LDA $61
04109  B9F6  E9 7F              SBC #$7F
04110  B9F8  48                 PHA 
04111  B9F9  A9 80              LDA #$80






BASICV2A.ASM......PAGE 0079

LINE# LOC   CODE        LINE


04112  B9FB  85 61              STA $61
04113  B9FD  A9 D6              LDA #<WWB9D6    ;#$D6   ; LOW  B9D6
04114  B9FF  A0 B9              LDY #>WWB9D6    ;#$B9   ; HIGH B9D6
04115  BA01  20 67 B8           JSR XXB867
04116  BA04  A9 DB              LDA #<WWB9DB    ;#$DB   ; LOW  B9DB
04117  BA06  A0 B9              LDY #>WWB9DB    ;#$B9   ; HIGH B9DB
04118  BA08  20 0F BB           JSR XXBB0F
04119  BA0B  A9 BC              LDA #<WWB9BC    ;#$BC   ; LOW  B9BC
04120  BA0D  A0 B9              LDY #>WWB9BC    ;#$B9   ; HIGH B9BC
04121  BA0F  20 50 B8           JSR XXB850
04122  BA12  A9 C1              LDA #<WWB9C1    ;#$C1   ; LOW  B9C1
04123  BA14  A0 C1              LDY #<WWB9C1    ;#$B9   ; HIGH B9C1
04124  BA16  20 43 E0           JSR $E043
04125  BA19  A9 E0              LDA #<WWB9E0    ;#$E0   ; LOW  B9E0
04126  BA1B  A0 B9              LDY #>WWB9E0    ;#$B9   ; HIGH B9E
04127  BA1D  20 67 B8           JSR XXB867
04128  BA20  68                 PLA 
04129  BA21  20 7E BD           JSR XXBD7E
04130  BA24  A9 E5              LDA #<WWB9E5    ;#$E5   ; LOW  B9E5
04131  BA26  A0 B9              LDY #>WWB9E5    ;#$B9   ; HIGH B9E5
04132  BA28  20 8C BA    XXBA28 JSR XXBA8C
04133  BA2B              ;********************************
04134  BA2B              ; TIMES OPERATOR
04135  BA2B              ;********************************
04136  BA2B  D0 03       ZZBA2B BNE XXBA30
04137  BA2D  4C 8B BA           JMP XXBA8B
04138  BA30              ;********************************
04139  BA30              ;
04140  BA30              ;********************************
04141  BA30  20 B7 BA    XXBA30 JSR XXBAB7
04142  BA33  A9 00              LDA #$00
04143  BA35  85 26              STA RESHO
04144  BA37  85 27              STA RESHO+1
04145  BA39  85 28              STA RESHO+2
04146  BA3B  85 29              STA RESHO+3
04147  BA3D  A5 70              LDA $70
04148  BA3F  20 59 BA           JSR XXBA59
04149  BA42  A5 65              LDA $65
04150  BA44  20 59 BA           JSR XXBA59
04151  BA47  A5 64              LDA $64
04152  BA49  20 59 BA           JSR XXBA59
04153  BA4C  A5 63              LDA $63
04154  BA4E  20 59 BA           JSR XXBA59
04155  BA51  A5 62              LDA $62
04156  BA53  20 5E BA           JSR XXBA5E
04157  BA56  4C 8F BB           JMP XXBB8F
04158  BA59              ;********************************
04159  BA59              ;
04160  BA59              ;********************************
04161  BA59  D0 03       XXBA59 BNE XXBA5E
04162  BA5B  4C 83 B9           JMP XXB983
04163  BA5E              ;********************************
04164  BA5E              ;
04165  BA5E              ;********************************
04166  BA5E  4A          XXBA5E LSR A






BASICV2A.ASM......PAGE 0080

LINE# LOC   CODE        LINE


04167  BA5F  09 80              ORA #$80
04168  BA61  A8          XXBA61 TAY 
04169  BA62  90 19              BCC XXBA7D
04170  BA64  18                 CLC 
04171  BA65  A5 29              LDA RESHO+3
04172  BA67  65 6D              ADC $6D
04173  BA69  85 29              STA RESHO+3
04174  BA6B  A5 28              LDA RESHO+2
04175  BA6D  65 6C              ADC $6C
04176  BA6F  85 28              STA RESHO+2
04177  BA71  A5 27              LDA RESHO+1
04178  BA73  65 6B              ADC $6B
04179  BA75  85 27              STA RESHO+1
04180  BA77  A5 26              LDA RESHO
04181  BA79  65 6A              ADC $6A
04182  BA7B  85 26              STA RESHO
04183  BA7D  66 26       XXBA7D ROR RESHO
04184  BA7F  66 27              ROR RESHO+1
04185  BA81  66 28              ROR RESHO+2
04186  BA83  66 29              ROR RESHO+3
04187  BA85  66 70              ROR $70
04188  BA87  98                 TYA 
04189  BA88  4A                 LSR A
04190  BA89  D0 D6              BNE XXBA61
04191  BA8B  60          XXBA8B RTS 
04192  BA8C              ;********************************
04193  BA8C              ; MOVE FLOAT INDEXED BY AY INTO SECOND FLOAT ACCU

04194  BA8C              ;********************************
04195  BA8C  85 22       XXBA8C STA INDEX
04196  BA8E  84 23              STY INDEX+1
04197  BA90  A0 04              LDY #$04
04198  BA92  B1 22              LDA (INDEX),Y
04199  BA94  85 6D              STA $6D
04200  BA96  88                 DEY 
04201  BA97  B1 22              LDA (INDEX),Y
04202  BA99  85 6C              STA $6C
04203  BA9B  88                 DEY 
04204  BA9C  B1 22              LDA (INDEX),Y
04205  BA9E  85 6B              STA $6B
04206  BAA0  88                 DEY 
04207  BAA1  B1 22              LDA (INDEX),Y
04208  BAA3  85 6E              STA $6E
04209  BAA5  45 66              EOR $66
04210  BAA7  85 6F              STA $6F
04211  BAA9  A5 6E              LDA $6E
04212  BAAB  09 80              ORA #$80
04213  BAAD  85 6A              STA $6A
04214  BAAF  88                 DEY 
04215  BAB0  B1 22              LDA (INDEX),Y
04216  BAB2  85 69              STA $69
04217  BAB4  A5 61              LDA $61
04218  BAB6  60                 RTS 
04219  BAB7              ;********************************
04220  BAB7              ; ADD EXPONENTS
04221  BAB7              ;********************************






BASICV2A.ASM......PAGE 0081

LINE# LOC   CODE        LINE


04222  BAB7  A5 69       XXBAB7 LDA $69
04223  BAB9  F0 1F       KKBAB9 BEQ XXBADA
04224  BABB  18                 CLC 
04225  BABC  65 61              ADC $61
04226  BABE  90 04              BCC XXBAC4
04227  BAC0  30 1D              BMI XXBADF
04228  BAC2  18                 CLC 
04229  BAC3              ;********************************
04230  BAC3  2C                 .BYTE $2C
04231  BAC4              ;********************************
04232  BAC4  10 14       XXBAC4 BPL XXBADA
04233  BAC6  69 80              ADC #$80
04234  BAC8  85 61              STA $61
04235  BACA  D0 03       KKBACA BNE XXBACF
04236  BACC  4C FB B8           JMP XXB8FB
04237  BACF              ;********************************
04238  BACF              ;
04239  BACF              ;********************************
04240  BACF  A5 6F       XXBACF LDA $6F
04241  BAD1  85 66              STA $66
04242  BAD3  60                 RTS 
04243  BAD4              ;********************************
04244  BAD4              ;
04245  BAD4              ;********************************
04246  BAD4  A5 66       KKBAD4 LDA $66
04247  BAD6  49 FF              EOR #$FF
04248  BAD8  30 05              BMI XXBADF
04249  BADA  68          XXBADA PLA 
04250  BADB  68                 PLA 
04251  BADC  4C F7 B8           JMP XXB8F7
04252  BADF              ;********************************
04253  BADF              ;
04254  BADF              ;********************************
04255  BADF  4C 7E B9    XXBADF JMP XXB97E
04256  BAE2              ;********************************
04257  BAE2              ; MULTIPLY FLOAT ACCU BY 10
04258  BAE2              ;********************************
04259  BAE2  20 0C BC    XXBAE2 JSR XXBC0C
04260  BAE5  AA                 TAX 
04261  BAE6  F0 10              BEQ XXBAF8
04262  BAE8  18                 CLC 
04263  BAE9  69 02              ADC #$02
04264  BAEB  B0 F2              BCS XXBADF
04265  BAED  A2 00       XXBAED LDX #$00
04266  BAEF  86 6F              STX $6F
04267  BAF1  20 77 B8           JSR XXB877
04268  BAF4  E6 61              INC $61
04269  BAF6  F0 E7              BEQ XXBADF
04270  BAF8  60          XXBAF8 RTS 
04271  BAF9              ;********************************
04272  BAF9              ; CONSTANT 10 FOR DIVISION
04273  BAF9              ;********************************
04274  BAF9  84          WWBAF9 .BYTE $84
04275  BAFA  20                 .BYTE $20
04276  BAFB  00                 .BYTE $00






BASICV2A.ASM......PAGE 0082

LINE# LOC   CODE        LINE


04277  BAFC  00                 .BYTE $00
04278  BAFD  00                 .BYTE $00
04279  BAFE              ;********************************
04280  BAFE              ; DIVIDE FLOAT BY 10
04281  BAFE              ;********************************
04282  BAFE  20 0C BC    XXBAFE JSR XXBC0C
04283  BB01  A9 F9              LDA #<WWBAF9    ;#$F9   ; LOW  BAF9
04284  BB03  A0 BA              LDY #>WWBAF9    ;#$BA   ; HIGH BAF
04285  BB05  A2 00              LDX #$00
04286  BB07  86 6F       KKBB07 STX $6F
04287  BB09  20 A2 BB           JSR XXBBA2
04288  BB0C  4C 12 BB           JMP XXBB12
04289  BB0F              ;********************************
04290  BB0F              ; DIVIDE NUMBER INDEXED BY AY BY FLOAT ACCU
04291  BB0F              ;********************************
04292  BB0F  20 8C BA    XXBB0F JSR XXBA8C
04293  BB12              ;********************************
04294  BB12              ; DIVIDE OPERATOR
04295  BB12              ;********************************
04296  BB12  F0 76       XXBB12 BEQ XXBB8A
04297  BB14  20 1B BC           JSR XXBC1B
04298  BB17  A9 00              LDA #$00
04299  BB19  38                 SEC 
04300  BB1A  E5 61              SBC $61
04301  BB1C  85 61              STA $61
04302  BB1E  20 B7 BA           JSR XXBAB7
04303  BB21  E6 61              INC $61
04304  BB23  F0 BA              BEQ XXBADF
04305  BB25  A2 FC              LDX #$FC
04306  BB27  A9 01              LDA #$01
04307  BB29  A4 6A       XXBB29 LDY $6A
04308  BB2B  C4 62              CPY $62
04309  BB2D  D0 10              BNE XXBB3F
04310  BB2F  A4 6B              LDY $6B
04311  BB31  C4 63              CPY $63
04312  BB33  D0 0A              BNE XXBB3F
04313  BB35  A4 6C              LDY $6C
04314  BB37  C4 64              CPY $64
04315  BB39  D0 04              BNE XXBB3F
04316  BB3B  A4 6D              LDY $6D
04317  BB3D  C4 65              CPY $65
04318  BB3F  08          XXBB3F PHP 
04319  BB40  2A                 ROL A
04320  BB41  90 09              BCC XXBB4C
04321  BB43  E8                 INX 
04322  BB44  95 29              STA RESHO+3,X
04323  BB46  F0 32              BEQ XXBB7A
04324  BB48  10 34              BPL XXBB7E
04325  BB4A  A9 01              LDA #$01
04326  BB4C  28          XXBB4C PLP 
04327  BB4D  B0 0E              BCS XXBB5D
04328  BB4F  06 6D       XXBB4F ASL $6D
04329  BB51  26 6C              ROL $6C
04330  BB53  26 6B              ROL $6B
04331  BB55  26 6A              ROL $6A






BASICV2A.ASM......PAGE 0083

LINE# LOC   CODE        LINE


04332  BB57  B0 E6              BCS XXBB3F
04333  BB59  30 CE              BMI XXBB29
04334  BB5B  10 E2              BPL XXBB3F
04335  BB5D  A8          XXBB5D TAY 
04336  BB5E  A5 6D              LDA $6D
04337  BB60  E5 65              SBC $65
04338  BB62  85 6D              STA $6D
04339  BB64  A5 6C              LDA $6C
04340  BB66  E5 64              SBC $64
04341  BB68  85 6C              STA $6C
04342  BB6A  A5 6B              LDA $6B
04343  BB6C  E5 63              SBC $63
04344  BB6E  85 6B              STA $6B
04345  BB70  A5 6A              LDA $6A
04346  BB72  E5 62              SBC $62
04347  BB74  85 6A              STA $6A
04348  BB76  98                 TYA 
04349  BB77  4C 4F BB           JMP XXBB4F
04350  BB7A              ;********************************
04351  BB7A              ;
04352  BB7A              ;********************************
04353  BB7A  A9 40       XXBB7A LDA #$40        ;'@'
04354  BB7C  D0 CE              BNE XXBB4C
04355  BB7E  0A          XXBB7E ASL A
04356  BB7F  0A                 ASL A
04357  BB80  0A                 ASL A
04358  BB81  0A                 ASL A
04359  BB82  0A                 ASL A
04360  BB83  0A                 ASL A
04361  BB84  85 70              STA $70
04362  BB86  28                 PLP 
04363  BB87  4C 8F BB           JMP XXBB8F
04364  BB8A              ;********************************
04365  BB8A              ;
04366  BB8A              ;********************************
04367  BB8A  A2 14       XXBB8A LDX #$14        ; ERROR NUMBER
04368  BB8C  4C 37 A4           JMP XXA437
04369  BB8F              ;********************************
04370  BB8F              ;
04371  BB8F              ;********************************
04372  BB8F  A5 26       XXBB8F LDA RESHO
04373  BB91  85 62              STA $62
04374  BB93  A5 27              LDA RESHO+1
04375  BB95  85 63              STA $63
04376  BB97  A5 28              LDA RESHO+2
04377  BB99  85 64              STA $64
04378  BB9B  A5 29              LDA RESHO+3
04379  BB9D  85 65              STA $65
04380  BB9F  4C D7 B8           JMP XXB8D7
04381  BBA2              ;********************************
04382  BBA2              ;
04383  BBA2              ;********************************
04384  BBA2  85 22       XXBBA2 STA INDEX
04385  BBA4  84 23              STY INDEX+1
04386  BBA6  A0 04              LDY #$04






BASICV2A.ASM......PAGE 0084

LINE# LOC   CODE        LINE


04387  BBA8  B1 22              LDA (INDEX),Y
04388  BBAA  85 65              STA $65
04389  BBAC  88                 DEY 
04390  BBAD  B1 22              LDA (INDEX),Y
04391  BBAF  85 64              STA $64
04392  BBB1  88                 DEY 
04393  BBB2  B1 22              LDA (INDEX),Y
04394  BBB4  85 63              STA $63
04395  BBB6  88                 DEY 
04396  BBB7  B1 22              LDA (INDEX),Y
04397  BBB9  85 66              STA $66
04398  BBBB  09 80              ORA #$80
04399  BBBD  85 62              STA $62
04400  BBBF  88                 DEY 
04401  BBC0  B1 22              LDA (INDEX),Y
04402  BBC2  85 61              STA $61
04403  BBC4  84 70              STY $70
04404  BBC6  60                 RTS 
04405  BBC7              ;********************************
04406  BBC7              ; STORE FLOAT ACCU AT $5C-$60
04407  BBC7              ;********************************
04408  BBC7  A2 5C       ZZBBC7 LDX #$5C        ; LOW  005C
04409  BBC9              ;********************************
04410  BBC9  2C                 .BYTE $2C
04411  BBCA              ;********************************
04412  BBCA              ; STORE FLOAT ACCU AT $57-$5B
04413  BBCA              ;********************************
04414  BBCA  A2 57              LDX #$57        ; LOW  0057
04415  BBCC  A0 00              LDY #$00        ; HIGH 0057
04416  BBCE  F0 04              BEQ XXBBD4
04417  BBD0              ;********************************
04418  BBD0              ; STORE FLOAT ACCU IN INDEX AT $49/$4A
04419  BBD0              ;********************************
04420  BBD0  A6 49       XXBBD0 LDX $49
04421  BBD2  A4 4A              LDY $4A
04422  BBD4              ;********************************
04423  BBD4              ; STORE FLOAT ACCU IN INDEX XY
04424  BBD4              ;********************************
04425  BBD4  20 1B BC    XXBBD4 JSR XXBC1B
04426  BBD7  86 22              STX INDEX
04427  BBD9  84 23              STY INDEX+1
04428  BBDB  A0 04              LDY #$04
04429  BBDD  A5 65              LDA $65
04430  BBDF  91 22              STA (INDEX),Y
04431  BBE1  88                 DEY 
04432  BBE2  A5 64              LDA $64
04433  BBE4  91 22              STA (INDEX),Y
04434  BBE6  88                 DEY 
04435  BBE7  A5 63              LDA $63
04436  BBE9  91 22              STA (INDEX),Y
04437  BBEB  88                 DEY 
04438  BBEC  A5 66              LDA $66
04439  BBEE  09 7F              ORA #$7F
04440  BBF0  25 62              AND $62
04441  BBF2  91 22              STA (INDEX),Y






BASICV2A.ASM......PAGE 0085

LINE# LOC   CODE        LINE


04442  BBF4  88                 DEY 
04443  BBF5  A5 61              LDA $61
04444  BBF7  91 22              STA (INDEX),Y
04445  BBF9  84 70              STY $70
04446  BBFB  60                 RTS 
04447  BBFC              ;********************************
04448  BBFC              ; MOVE SECOND FLOAT ACCU INTO FIRST
04449  BBFC              ;********************************
04450  BBFC  A5 6E       XXBBFC LDA $6E
04451  BBFE  85 66       XXBBFE STA $66
04452  BC00  A2 05              LDX #$05
04453  BC02  B5 68       XXBC02 LDA $68,X
04454  BC04  95 60              STA $60,X
04455  BC06  CA                 DEX 
04456  BC07  D0 F9              BNE XXBC02
04457  BC09  86 70              STX $70
04458  BC0B  60                 RTS 
04459  BC0C              ;********************************
04460  BC0C              ; MOVE ROUNDED FLOAT ACCU INTO SECOND
04461  BC0C              ;********************************
04462  BC0C  20 1B BC    XXBC0C JSR XXBC1B
04463  BC0F  A2 06       KKBC0F LDX #$06
04464  BC11  B5 60       XXBC11 LDA $60,X
04465  BC13  95 68              STA $68,X
04466  BC15  CA                 DEX 
04467  BC16  D0 F9              BNE XXBC11
04468  BC18  86 70              STX $70
04469  BC1A  60          XXBC1A RTS 
04470  BC1B              ;********************************
04471  BC1B              ; ROUND FLOAT ACCU ACCORDING TO GUARD BIT
04472  BC1B              ;********************************
04473  BC1B  A5 61       XXBC1B LDA $61
04474  BC1D  F0 FB              BEQ XXBC1A
04475  BC1F  06 70              ASL $70
04476  BC21  90 F7              BCC XXBC1A
04477  BC23  20 6F B9    XXBC23 JSR XXB96F
04478  BC26  D0 F2              BNE XXBC1A
04479  BC28  4C 38 B9           JMP XXB938
04480  BC2B              ;********************************
04481  BC2B              ; GET SIGN OF FLOAT ACCU IN 
04482  BC2B              ;********************************
04483  BC2B  A5 61       XXBC2B LDA $61
04484  BC2D  F0 09              BEQ XXBC38
04485  BC2F  A5 66       XXBC2F LDA $66
04486  BC31  2A          XXBC31 ROL A
04487  BC32  A9 FF              LDA #$FF
04488  BC34  B0 02              BCS XXBC38
04489  BC36  A9 01              LDA #$01
04490  BC38  60          XXBC38 RTS 
04491  BC39              ;********************************
04492  BC39              ; SGN FUNCTION
04493  BC39              ;********************************
04494  BC39  20 2B BC    XXBC39 JSR XXBC2B
04495  BC3C              ;********************************
04496  BC3C              ; MOVE SIGNED NUMBER FROM A INTO FLOAT ACCU






BASICV2A.ASM......PAGE 0086

LINE# LOC   CODE        LINE


04497  BC3C              ;********************************
04498  BC3C  85 62       XXBC3C STA $62
04499  BC3E  A9 00              LDA #$00
04500  BC40  85 63              STA $63
04501  BC42  A2 88              LDX #$88
04502  BC44  A5 62       XXBC44 LDA $62
04503  BC46  49 FF              EOR #$FF
04504  BC48  2A                 ROL A
04505  BC49  A9 00       XXBC49 LDA #$00
04506  BC4B  85 65              STA $65
04507  BC4D  85 64              STA $64
04508  BC4F  86 61       XXBC4F STX $61
04509  BC51  85 70              STA $70
04510  BC53  85 66              STA $66
04511  BC55  4C D2 B8           JMP XXB8D2
04512  BC58              ;********************************
04513  BC58              ; ABS FUNCTION
04514  BC58              ;********************************
04515  BC58  46 66       XXBC58 LSR $66
04516  BC5A  60                 RTS 
04517  BC5B              ;********************************
04518  BC5B              ; COMPARE FLOAT ACCU TO FLOAT INDEXED BY XY
04519  BC5B              ;********************************
04520  BC5B  85 24       XXBC5B STA INDEX+2
04521  BC5D  84 25       XXBC5D STY INDEX+3
04522  BC5F  A0 00              LDY #$00
04523  BC61  B1 24              LDA (INDEX+2),Y
04524  BC63  C8                 INY 
04525  BC64  AA                 TAX 
04526  BC65  F0 C4              BEQ XXBC2B
04527  BC67  B1 24              LDA (INDEX+2),Y
04528  BC69  45 66              EOR $66
04529  BC6B  30 C2              BMI XXBC2F
04530  BC6D  E4 61              CPX $61
04531  BC6F  D0 21              BNE XXBC92
04532  BC71  B1 24              LDA (INDEX+2),Y
04533  BC73  09 80              ORA #$80
04534  BC75  C5 62              CMP $62
04535  BC77  D0 19              BNE XXBC92
04536  BC79  C8                 INY 
04537  BC7A  B1 24              LDA (INDEX+2),Y
04538  BC7C  C5 63              CMP $63
04539  BC7E  D0 12              BNE XXBC92
04540  BC80  C8                 INY 
04541  BC81  B1 24              LDA (INDEX+2),Y
04542  BC83  C5 64              CMP $64
04543  BC85  D0 0B              BNE XXBC92
04544  BC87  C8                 INY 
04545  BC88  A9 7F              LDA #$7F
04546  BC8A  C5 70              CMP $70
04547  BC8C  B1 24              LDA (INDEX+2),Y
04548  BC8E  E5 65              SBC $65
04549  BC90  F0 28              BEQ XXBCBA
04550  BC92  A5 66       XXBC92 LDA $66
04551  BC94  90 02              BCC XXBC98






BASICV2A.ASM......PAGE 0087

LINE# LOC   CODE        LINE


04552  BC96  49 FF              EOR #$FF
04553  BC98  4C 31 BC    XXBC98 JMP XXBC31
04554  BC9B              ;********************************
04555  BC9B              ; CONVERT FLOAT TO A 4 BYTE SIGNED INTEGER
04556  BC9B              ;********************************
04557  BC9B  A5 61       XXBC9B LDA $61
04558  BC9D  F0 4A              BEQ XXBCE9
04559  BC9F  38                 SEC 
04560  BCA0  E9 A0              SBC #$A0
04561  BCA2  24 66              BIT $66
04562  BCA4  10 09              BPL XXBCAF
04563  BCA6  AA                 TAX 
04564  BCA7  A9 FF              LDA #$FF
04565  BCA9  85 68              STA $68
04566  BCAB  20 4D B9           JSR XXB94D
04567  BCAE  8A                 TXA 
04568  BCAF  A2 61       XXBCAF LDX #$61
04569  BCB1  C9 F9              CMP #$F9
04570  BCB3  10 06              BPL XXBCBB
04571  BCB5  20 99 B9           JSR XXB999
04572  BCB8  84 68              STY $68
04573  BCBA  60          XXBCBA RTS 
04574  BCBB              ;********************************
04575  BCBB              ;
04576  BCBB              ;********************************
04577  BCBB  A8          XXBCBB TAY 
04578  BCBC  A5 66              LDA $66
04579  BCBE  29 80              AND #$80
04580  BCC0  46 62              LSR $62
04581  BCC2  05 62              ORA $62
04582  BCC4  85 62              STA $62
04583  BCC6  20 B0 B9           JSR XXB9B0
04584  BCC9  84 68              STY $68
04585  BCCB  60                 RTS 
04586  BCCC              ;********************************
04587  BCCC              ; INT FUNCTION
04588  BCCC              ;********************************
04589  BCCC  A5 61       XXBCCC LDA $61
04590  BCCE  C9 A0              CMP #$A0
04591  BCD0  B0 20              BCS XXBCF2
04592  BCD2  20 9B BC           JSR XXBC9B
04593  BCD5  84 70              STY $70
04594  BCD7  A5 66              LDA $66
04595  BCD9  84 66              STY $66
04596  BCDB  49 80              EOR #$80
04597  BCDD  2A                 ROL A
04598  BCDE  A9 A0              LDA #$A0
04599  BCE0  85 61              STA $61
04600  BCE2  A5 65              LDA $65
04601  BCE4  85 07              STA $07
04602  BCE6  4C D2 B8           JMP XXB8D2
04603  BCE9              ;********************************
04604  BCE9              ; CLEAR FLOAT ACCU
04605  BCE9              ;********************************
04606  BCE9  85 62       XXBCE9 STA $62






BASICV2A.ASM......PAGE 0088

LINE# LOC   CODE        LINE


04607  BCEB  85 63              STA $63
04608  BCED  85 64              STA $64
04609  BCEF  85 65              STA $65
04610  BCF1  A8                 TAY 
04611  BCF2  60          XXBCF2 RTS 
04612  BCF3              ;********************************
04613  BCF3              ; CONVERT STRING TO FLOAT IN FLOAT ACCU
04614  BCF3              ;********************************
04615  BCF3  A0 00       XXBCF3 LDY #$00
04616  BCF5  A2 0A              LDX #$0A
04617  BCF7  94 5D       XXBCF7 STY $5D,X
04618  BCF9  CA                 DEX 
04619  BCFA  10 FB              BPL XXBCF7
04620  BCFC  90 0F              BCC XXBD0D
04621  BCFE  C9 2D              CMP #$2D        ;'-'
04622  BD00  D0 04              BNE XXBD06
04623  BD02  86 67              STX $67
04624  BD04  F0 04              BEQ XXBD0A
04625  BD06  C9 2B       XXBD06 CMP #$2B        ;'+'
04626  BD08  D0 05              BNE XXBD0F
04627  BD0A  20 73 00    XXBD0A JSR $0073
04628  BD0D  90 5B       XXBD0D BCC XXBD6A
04629  BD0F  C9 2E       XXBD0F CMP #$2E        ;'.'
04630  BD11  F0 2E              BEQ XXBD41
04631  BD13  C9 45              CMP #$45        ;'E'
04632  BD15  D0 30              BNE XXBD47
04633  BD17  20 73 00           JSR $0073
04634  BD1A  90 17              BCC XXBD33
04635  BD1C  C9 AB              CMP #$AB
04636  BD1E  F0 0E              BEQ XXBD2E
04637  BD20  C9 2D              CMP #$2D        ;'-'
04638  BD22  F0 0A              BEQ XXBD2E
04639  BD24  C9 AA              CMP #$AA
04640  BD26  F0 08              BEQ XXBD30
04641  BD28  C9 2B              CMP #$2B        ;'+'
04642  BD2A  F0 04              BEQ XXBD30
04643  BD2C  D0 07              BNE XXBD35
04644  BD2E  66 60       XXBD2E ROR $60
04645  BD30  20 73 00    XXBD30 JSR $0073
04646  BD33  90 5C       XXBD33 BCC XXBD91
04647  BD35  24 60       XXBD35 BIT $60
04648  BD37  10 0E              BPL XXBD47
04649  BD39  A9 00              LDA #$00
04650  BD3B  38                 SEC 
04651  BD3C  E5 5E              SBC $5E
04652  BD3E  4C 49 BD           JMP XXBD49
04653  BD41              ;********************************
04654  BD41              ;
04655  BD41              ;********************************
04656  BD41  66 5F       XXBD41 ROR $5F
04657  BD43  24 5F              BIT $5F
04658  BD45  50 C3              BVC XXBD0A
04659  BD47  A5 5E       XXBD47 LDA $5E
04660  BD49  38          XXBD49 SEC 
04661  BD4A  E5 5D              SBC $5D






BASICV2A.ASM......PAGE 0089

LINE# LOC   CODE        LINE


04662  BD4C  85 5E              STA $5E
04663  BD4E  F0 12              BEQ XXBD62
04664  BD50  10 09              BPL XXBD5B
04665  BD52  20 FE BA    XXBD52 JSR XXBAFE
04666  BD55  E6 5E              INC $5E
04667  BD57  D0 F9              BNE XXBD52
04668  BD59  F0 07              BEQ XXBD62
04669  BD5B  20 E2 BA    XXBD5B JSR XXBAE2
04670  BD5E  C6 5E              DEC $5E
04671  BD60  D0 F9              BNE XXBD5B
04672  BD62  A5 67       XXBD62 LDA $67
04673  BD64  30 01              BMI XXBD67
04674  BD66  60                 RTS 
04675  BD67              ;********************************
04676  BD67              ;
04677  BD67              ;********************************
04678  BD67  4C B4 BF    XXBD67 JMP XXBFB4
04679  BD6A              ;********************************
04680  BD6A              ;
04681  BD6A              ;********************************
04682  BD6A  48          XXBD6A PHA 
04683  BD6B  24 5F              BIT $5F
04684  BD6D  10 02              BPL XXBD71
04685  BD6F  E6 5D              INC $5D
04686  BD71  20 E2 BA    XXBD71 JSR XXBAE2
04687  BD74  68                 PLA 
04688  BD75  38                 SEC 
04689  BD76  E9 30              SBC #$30        ;'0'
04690  BD78  20 7E BD           JSR XXBD7E
04691  BD7B  4C 0A BD           JMP XXBD0A
04692  BD7E              ;********************************
04693  BD7E              ; ADD SIGNED INTEGER FROM A TO FLOAT ACCU
04694  BD7E              ;********************************
04695  BD7E  48          XXBD7E PHA 
04696  BD7F  20 0C BC           JSR XXBC0C
04697  BD82  68                 PLA 
04698  BD83  20 3C BC           JSR XXBC3C
04699  BD86  A5 6E              LDA $6E
04700  BD88  45 66              EOR $66
04701  BD8A  85 6F              STA $6F
04702  BD8C  A6 61              LDX $61
04703  BD8E  4C 6A B8           JMP XXB86A
04704  BD91              ;********************************
04705  BD91              ; GET EXPONENT OF NUMBER FROM STRING
04706  BD91              ;********************************
04707  BD91  A5 5E       XXBD91 LDA $5E
04708  BD93  C9 0A              CMP #$0A
04709  BD95  90 09              BCC XXBDA0
04710  BD97  A9 64              LDA #$64
04711  BD99  24 60              BIT $60
04712  BD9B  30 11              BMI XXBDAE
04713  BD9D  4C 7E B9           JMP XXB97E
04714  BDA0              ;********************************
04715  BDA0              ;
04716  BDA0              ;********************************






BASICV2A.ASM......PAGE 0090

LINE# LOC   CODE        LINE


04717  BDA0  0A          XXBDA0 ASL A
04718  BDA1  0A                 ASL A
04719  BDA2  18                 CLC 
04720  BDA3  65 5E              ADC $5E
04721  BDA5  0A                 ASL A
04722  BDA6  18                 CLC 
04723  BDA7  A0 00              LDY #$00
04724  BDA9  71 7A              ADC ($7A),Y
04725  BDAB  38                 SEC 
04726  BDAC  E9 30              SBC #$30        ;'0'
04727  BDAE  85 5E       XXBDAE STA $5E
04728  BDB0  4C 30 BD           JMP XXBD30
04729  BDB3              ;********************************
04730  BDB3              ; CONSTANTS FOR FLOAT TO STRING CONVERSION
04731  BDB3              ;********************************
04732  BDB3  9B          ZZBDB3 .BYTE $9B,$3E,$BC,$1F,$FD
04732  BDB4  3E 
04732  BDB5  BC 
04732  BDB6  1F 
04732  BDB7  FD 
04733  BDB8  9E          WWBDB8 .BYTE $9E,$6E,$6B,$27,$FD
04733  BDB9  6E 
04733  BDBA  6B 
04733  BDBB  27 
04733  BDBC  FD 
04734  BDBD  9E          WWBDBD .BYTE $9E,$6E,$6B,$28,$00
04734  BDBE  6E 
04734  BDBF  6B 
04734  BDC0  28 
04734  BDC1  00 
04735  BDC2              ;********************************
04736  BDC2              ; PRINT IN FOLLOWED BY LINE NUMBER
04737  BDC2              ;********************************
04738  BDC2  A9 71       XXBDC2 LDA #<WWA371    ;#$71   ; LOW  A371
04739  BDC4  A0 A3              LDY #>WWA371    ;#$A3   ; HIGH A371
04740  BDC6  20 DA BD           JSR XXBDDA
04741  BDC9  A5 3A              LDA CURLIN+1
04742  BDCB  A6 39              LDX CURLIN
04743  BDCD              ;********************************
04744  BDCD              ; PRINT NUMBER FROM AX
04745  BDCD              ;********************************
04746  BDCD  85 62       XXBDCD STA $62
04747  BDCF  86 63              STX $63
04748  BDD1  A2 90              LDX #$90
04749  BDD3  38                 SEC 
04750  BDD4  20 49 BC           JSR XXBC49
04751  BDD7  20 DF BD           JSR XXBDDF
04752  BDDA  4C 1E AB    XXBDDA JMP XXAB1E
04753  BDDD              ;********************************
04754  BDDD              ; CONVERT NUMBER IN FLOAT ACCU TO STRING
04755  BDDD              ;********************************
04756  BDDD  A0 01       XXBDDD LDY #$01
04757  BDDF  A9 20       XXBDDF LDA #$20        ;' '
04758  BDE1  24 66              BIT $66
04759  BDE3  10 02              BPL XXBDE7






BASICV2A.ASM......PAGE 0091

LINE# LOC   CODE        LINE


04760  BDE5  A9 2D              LDA #$2D        ;'-'
04761  BDE7  99 FF 00    XXBDE7 STA $00FF,Y
04762  BDEA  85 66              STA $66
04763  BDEC  84 71              STY $71
04764  BDEE  C8                 INY 
04765  BDEF  A9 30              LDA #$30        ;'0'
04766  BDF1  A6 61              LDX $61
04767  BDF3  D0 03              BNE XXBDF8
04768  BDF5  4C 04 BF           JMP XXBF04
04769  BDF8              ;********************************
04770  BDF8              ;
04771  BDF8              ;********************************
04772  BDF8  A9 00       XXBDF8 LDA #$00
04773  BDFA  E0 80              CPX #$80
04774  BDFC  F0 02              BEQ XXBE00
04775  BDFE  B0 09              BCS XXBE09
04776  BE00  A9 BD       XXBE00 LDA #$BD        ; LOW  BDBD
04777  BE02  A0 BD              LDY #$BD        ; HIGH BDBD
04778  BE04  20 28 BA           JSR XXBA28
04779  BE07  A9 F7              LDA #$F7
04780  BE09  85 5D       XXBE09 STA $5D
04781  BE0B  A9 B8       XXBE0B LDA #$B8        ; LOW  BDB8
04782  BE0D  A0 BD              LDY #$BD        ; HIGH BDB8
04783  BE0F  20 5B BC           JSR XXBC5B
04784  BE12  F0 1E              BEQ XXBE32
04785  BE14  10 12              BPL XXBE28
04786  BE16  A9 B3       XXBE16 LDA #$B3        ; LOW  BDB3
04787  BE18  A0 BD              LDY #$BD        ; HIGH BDB3
04788  BE1A  20 5B BC           JSR XXBC5B
04789  BE1D  F0 02              BEQ XXBE21
04790  BE1F  10 0E              BPL XXBE2F
04791  BE21  20 E2 BA    XXBE21 JSR XXBAE2
04792  BE24  C6 5D              DEC $5D
04793  BE26  D0 EE              BNE XXBE16
04794  BE28  20 FE BA    XXBE28 JSR XXBAFE
04795  BE2B  E6 5D              INC $5D
04796  BE2D  D0 DC              BNE XXBE0B
04797  BE2F  20 49 B8    XXBE2F JSR XXB849
04798  BE32  20 9B BC    XXBE32 JSR XXBC9B
04799  BE35  A2 01              LDX #$01
04800  BE37  A5 5D              LDA $5D
04801  BE39  18                 CLC 
04802  BE3A  69 0A              ADC #$0A
04803  BE3C  30 09              BMI XXBE47
04804  BE3E  C9 0B              CMP #$0B
04805  BE40  B0 06              BCS XXBE48
04806  BE42  69 FF              ADC #$FF
04807  BE44  AA                 TAX 
04808  BE45  A9 02              LDA #$02
04809  BE47  38          XXBE47 SEC 
04810  BE48  E9 02       XXBE48 SBC #$02
04811  BE4A  85 5E              STA $5E
04812  BE4C  86 5D              STX $5D
04813  BE4E  8A                 TXA 
04814  BE4F  F0 02              BEQ XXBE53






BASICV2A.ASM......PAGE 0092

LINE# LOC   CODE        LINE


04815  BE51  10 13              BPL XXBE66
04816  BE53  A4 71       XXBE53 LDY $71
04817  BE55  A9 2E              LDA #$2E        ;'.'
04818  BE57  C8                 INY 
04819  BE58  99 FF 00           STA $00FF,Y
04820  BE5B  8A                 TXA 
04821  BE5C  F0 06              BEQ XXBE64
04822  BE5E  A9 30              LDA #$30        ;'0'
04823  BE60  C8                 INY 
04824  BE61  99 FF 00           STA $00FF,Y
04825  BE64  84 71       XXBE64 STY $71
04826  BE66  A0 00       XXBE66 LDY #$00
04827  BE68  A2 80       XXBE68 LDX #$80
04828  BE6A  A5 65       XXBE6A LDA $65
04829  BE6C  18                 CLC 
04830  BE6D  79 19 BF           ADC XXBF19,Y
04831  BE70  85 65              STA $65
04832  BE72  A5 64              LDA $64
04833  BE74  79 18 BF           ADC XXBF18,Y
04834  BE77  85 64              STA $64
04835  BE79  A5 63              LDA $63
04836  BE7B  79 17 BF           ADC XXBF17,Y
04837  BE7E  85 63              STA $63
04838  BE80  A5 62              LDA $62
04839  BE82  79 16 BF           ADC XXBF16,Y
04840  BE85  85 62              STA $62
04841  BE87  E8                 INX 
04842  BE88  B0 04              BCS XXBE8E
04843  BE8A  10 DE              BPL XXBE6A
04844  BE8C  30 02              BMI XXBE90
04845  BE8E  30 DA       XXBE8E BMI XXBE6A
04846  BE90  8A          XXBE90 TXA 
04847  BE91  90 04              BCC XXBE97
04848  BE93  49 FF              EOR #$FF
04849  BE95  69 0A              ADC #$0A
04850  BE97  69 2F       XXBE97 ADC #$2F        ;'/'
04851  BE99  C8                 INY 
04852  BE9A  C8                 INY 
04853  BE9B  C8                 INY 
04854  BE9C  C8                 INY 
04855  BE9D  84 47              STY $47
04856  BE9F  A4 71              LDY $71
04857  BEA1  C8                 INY 
04858  BEA2  AA                 TAX 
04859  BEA3  29 7F              AND #$7F
04860  BEA5  99 FF 00           STA $00FF,Y
04861  BEA8  C6 5D              DEC $5D
04862  BEAA  D0 06              BNE XXBEB2
04863  BEAC  A9 2E              LDA #$2E        ;'.'
04864  BEAE  C8                 INY 
04865  BEAF  99 FF 00           STA $00FF,Y
04866  BEB2  84 71       XXBEB2 STY $71
04867  BEB4  A4 47              LDY $47
04868  BEB6  8A                 TXA 
04869  BEB7  49 FF              EOR #$FF






BASICV2A.ASM......PAGE 0093

LINE# LOC   CODE        LINE


04870  BEB9  29 80              AND #$80
04871  BEBB  AA                 TAX 
04872  BEBC  C0 24              CPY #$24        ;'$'
04873  BEBE  F0 04              BEQ XXBEC4
04874  BEC0  C0 3C              CPY #$3C        ;'<'
04875  BEC2  D0 A6              BNE XXBE6A
04876  BEC4  A4 71       XXBEC4 LDY $71
04877  BEC6  B9 FF 00    XXBEC6 LDA $00FF,Y
04878  BEC9  88                 DEY 
04879  BECA  C9 30              CMP #$30        ;'0'
04880  BECC  F0 F8              BEQ XXBEC6
04881  BECE  C9 2E              CMP #$2E        ;'.'
04882  BED0  F0 01              BEQ XXBED3
04883  BED2  C8                 INY 
04884  BED3  A9 2B       XXBED3 LDA #$2B        ;'+'
04885  BED5  A6 5E              LDX $5E
04886  BED7  F0 2E              BEQ XXBF07
04887  BED9  10 08              BPL XXBEE3
04888  BEDB  A9 00              LDA #$00
04889  BEDD  38                 SEC 
04890  BEDE  E5 5E              SBC $5E
04891  BEE0  AA                 TAX 
04892  BEE1  A9 2D              LDA #$2D        ;'-'
04893  BEE3  99 01 01    XXBEE3 STA STACK+1,Y
04894  BEE6  A9 45              LDA #$45        ;'E'
04895  BEE8  99 00 01           STA STACK,Y
04896  BEEB  8A                 TXA 
04897  BEEC  A2 2F              LDX #$2F        ;'/'
04898  BEEE  38                 SEC 
04899  BEEF  E8          XXBEEF INX 
04900  BEF0  E9 0A              SBC #$0A
04901  BEF2  B0 FB              BCS XXBEEF
04902  BEF4  69 3A              ADC #$3A        ;':'
04903  BEF6  99 03 01           STA STACK+3,Y
04904  BEF9  8A                 TXA 
04905  BEFA  99 02 01           STA STACK+2,Y
04906  BEFD  A9 00              LDA #$00
04907  BEFF  99 04 01           STA STACK+4,Y
04908  BF02  F0 08              BEQ XXBF0C
04909  BF04  99 FF 00    XXBF04 STA $00FF,Y
04910  BF07  A9 00       XXBF07 LDA #$00
04911  BF09  99 00 01           STA STACK,Y
04912  BF0C  A9 00       XXBF0C LDA #$00        ; LOW  0100
04913  BF0E  A0 01              LDY #$01        ; HIGH 0100
04914  BF10  60                 RTS 
04915  BF11              ;********************************
04916  BF11              ; 0.5
04917  BF11              ;********************************
04918  BF11  80          ZZBF11 .BYTE $80,$00,$00,$00,$00
04918  BF12  00 
04918  BF13  00 
04918  BF14  00 
04918  BF15  00 
04919  BF16              ;********************************
04920  BF16              ; DIVISORS FOR DECIMAL CONVERSION






BASICV2A.ASM......PAGE 0094

LINE# LOC   CODE        LINE


04921  BF16              ;********************************
04922  BF16  FA          XXBF16 .BYTE $FA
04923  BF17  0A          XXBF17 .BYTE $0A
04924  BF18  1F          XXBF18 .BYTE $1F
04925  BF19  00          XXBF19 .BYTE $00
04926  BF1A  00          ZZBF1A .BYTE $00,$98,$96,$80
04926  BF1B  98 
04926  BF1C  96 
04926  BF1D  80 
04927  BF1E  FF                 .BYTE $FF,$F0,$BD,$C0
04927  BF1F  F0 
04927  BF20  BD 
04927  BF21  C0 
04928  BF22  00                 .BYTE $00,$01,$86,$A0
04928  BF23  01 
04928  BF24  86 
04928  BF25  A0 
04929  BF26  FF                 .BYTE $FF,$FF,$D8,$F0
04929  BF27  FF 
04929  BF28  D8 
04929  BF29  F0 
04930  BF2A  00                 .BYTE $00,$00,$03,$E8
04930  BF2B  00 
04930  BF2C  03 
04930  BF2D  E8 
04931  BF2E  FF                 .BYTE $FF,$FF,$FF,$9C
04931  BF2F  FF 
04931  BF30  FF 
04931  BF31  9C 
04932  BF32  00                 .BYTE $00,$00,$00,$0A
04932  BF33  00 
04932  BF34  00 
04932  BF35  0A 
04933  BF36  FF                 .BYTE $FF,$FF,$FF,$FF
04933  BF37  FF 
04933  BF38  FF 
04933  BF39  FF 
04934  BF3A              ;********************************
04935  BF3A              ; DIVISORS FOR TIME CONVERSION
04936  BF3A              ;********************************
04937  BF3A  FF          ZZBF3A .BYTE $FF,$DF,$0A,$80
04937  BF3B  DF 
04937  BF3C  0A 
04937  BF3D  80 
04938  BF3E  00                 .BYTE $00,$03,$4B,$C0
04938  BF3F  03 
04938  BF40  4B 
04938  BF41  C0 
04939  BF42  FF                 .BYTE $FF,$FF,$73,$60
04939  BF43  FF 
04939  BF44  73 
04939  BF45  60 
04940  BF46  00                 .BYTE $00,$00,$0E,$10
04940  BF47  00 
04940  BF48  0E 






BASICV2A.ASM......PAGE 0095

LINE# LOC   CODE        LINE


04940  BF49  10 
04941  BF4A  FF                 .BYTE $FF,$FF,$FD,$A8
04941  BF4B  FF 
04941  BF4C  FD 
04941  BF4D  A8 
04942  BF4E  00                 .BYTE $00,$00,$00,$3C
04942  BF4F  00 
04942  BF50  00 
04942  BF51  3C 
04943  BF52              ;********************************
04944  BF52              ; UNUSED
04945  BF52              ; IS THIS SOME VERSION ID?
04946  BF52              ;********************************
04947  BF52  EC          ZZBF52 .BYTE $EC
04948  BF53              ;********************************
04949  BF53              ; UNUSED
04950  BF53              ;********************************
04951  BF53  AA          ZZBF53 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
04951  BF54  AA 
04951  BF55  AA 
04951  BF56  AA 
04951  BF57  AA 
04951  BF58  AA 
04951  BF59  AA 
04951  BF5A  AA 
04952  BF5B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
04952  BF5C  AA 
04952  BF5D  AA 
04952  BF5E  AA 
04952  BF5F  AA 
04952  BF60  AA 
04952  BF61  AA 
04952  BF62  AA 
04953  BF63  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA,$AA,$AA
04953  BF64  AA 
04953  BF65  AA 
04953  BF66  AA 
04953  BF67  AA 
04953  BF68  AA 
04953  BF69  AA 
04953  BF6A  AA 
04954  BF6B  AA                 .BYTE $AA,$AA,$AA,$AA,$AA,$AA
04954  BF6C  AA 
04954  BF6D  AA 
04954  BF6E  AA 
04954  BF6F  AA 
04954  BF70  AA 
04955  BF71              ;********************************
04956  BF71              ; SQR FUNCTION
04957  BF71              ;********************************
04958  BF71  20 0C BC    XXBF71 JSR XXBC0C
04959  BF74  A9 11              LDA #$11
04960  BF76  A0 BF              LDY #$BF
04961  BF78  20 A2 BB           JSR XXBBA2
04962  BF7B  F0 70              BEQ XXBFED






BASICV2A.ASM......PAGE 0096

LINE# LOC   CODE        LINE


04963  BF7D              ;********************************
04964  BF7D              ; POWER OPERATOR
04965  BF7D              ;********************************
04966  BF7D  A5 69       ZZBF7B LDA $69
04967  BF7F  D0 03              BNE XXBF84
04968  BF81  4C F9 B8           JMP XXB8F9
04969  BF84              ;********************************
04970  BF84              ;
04971  BF84              ;********************************
04972  BF84  A2 4E       XXBF84 LDX #$4E        ; LOW  004E
04973  BF86  A0 00              LDY #$00        ; HIGH 004E
04974  BF88  20 D4 BB           JSR XXBBD4
04975  BF8B  A5 6E              LDA $6E
04976  BF8D  10 0F              BPL XXBF9E
04977  BF8F  20 CC BC           JSR XXBCCC
04978  BF92  A9 4E              LDA #$4E        ; LOW  004E
04979  BF94  A0 00              LDY #$00        ; HIGH 004E
04980  BF96  20 5B BC           JSR XXBC5B
04981  BF99  D0 03              BNE XXBF9E
04982  BF9B  98                 TYA 
04983  BF9C  A4 07              LDY $07
04984  BF9E  20 FE BB    XXBF9E JSR XXBBFE
04985  BFA1  98                 TYA 
04986  BFA2  48                 PHA 
04987  BFA3  20 EA B9           JSR XXB9EA
04988  BFA6  A9 4E              LDA #$4E        ; LOW  004E
04989  BFA8  A0 00              LDY #$00        ; HIGH 004E
04990  BFAA  20 28 BA           JSR XXBA28
04991  BFAD  20 ED BF           JSR XXBFED
04992  BFB0  68                 PLA 
04993  BFB1  4A                 LSR A
04994  BFB2  90 0A              BCC XXBFBE
04995  BFB4              ;********************************
04996  BFB4              ; MINUS OPERATOR
04997  BFB4              ;********************************
04998  BFB4  A5 61       XXBFB4 LDA $61
04999  BFB6  F0 06              BEQ XXBFBE
05000  BFB8  A5 66              LDA $66
05001  BFBA  49 FF              EOR #$FF
05002  BFBC  85 66              STA $66
05003  BFBE  60          XXBFBE RTS 
05004  BFBF              ;********************************
05005  BFBF              ; FLOATING POINT CONSTANDS FOR EXP
05006  BFBF              ;
05007  BFBF              ; 1/LOG(2)
05008  BFBF              ;********************************
05009  BFBF  81          ZZBFBF .BYTE $81,$38,$AA,$3B,$29
05009  BFC0  38 
05009  BFC1  AA 
05009  BFC2  3B 
05009  BFC3  29 
05010  BFC4              ;********************************
05011  BFC4              ; EXP POLYNOMIAL TABLE
05012  BFC4              ;********************************
05013  BFC4  07          ZZBFC4 .BYTE $07       ; DEGREE 8






BASICV2A.ASM......PAGE 0097

LINE# LOC   CODE        LINE


05014  BFC5  71                 .BYTE $71,$34,$58,$3E,$56
05014  BFC6  34 
05014  BFC7  58 
05014  BFC8  3E 
05014  BFC9  56 
05015  BFCA  74                 .BYTE $74,$16,$7E,$B3,$1B
05015  BFCB  16 
05015  BFCC  7E 
05015  BFCD  B3 
05015  BFCE  1B 
05016  BFCF  77                 .BYTE $77,$2F,$EE,$E3,$85
05016  BFD0  2F 
05016  BFD1  EE 
05016  BFD2  E3 
05016  BFD3  85 
05017  BFD4  7A                 .BYTE $7A,$1D,$84,$1C,$2A
05017  BFD5  1D 
05017  BFD6  84 
05017  BFD7  1C 
05017  BFD8  2A 
05018  BFD9  7C                 .BYTE $7C,$63,$59,$58,$0A
05018  BFDA  63 
05018  BFDB  59 
05018  BFDC  58 
05018  BFDD  0A 
05019  BFDE  7E                 .BYTE $7E,$75,$FD,$E7,$C6
05019  BFDF  75 
05019  BFE0  FD 
05019  BFE1  E7 
05019  BFE2  C6 
05020  BFE3  80                 .BYTE $80,$31,$72,$18,$10
05020  BFE4  31 
05020  BFE5  72 
05020  BFE6  18 
05020  BFE7  10 
05021  BFE8  81                 .BYTE $81,$00,$00,$00,$00
05021  BFE9  00 
05021  BFEA  00 
05021  BFEB  00 
05021  BFEC  00 
05022  BFED              ;********************************
05023  BFED              ; EXP COMMAND
05024  BFED              ;********************************
05025  BFED  A9 BF       XXBFED LDA #$BF
05026  BFEF  A0 BF              LDY #$BF
05027  BFF1  20 28 BA           JSR XXBA28
05028  BFF4  A5 70              LDA $70
05029  BFF6  69 50              ADC #$50        ;'P'
05030  BFF8  90 03              BCC XXBFFD
05031  BFFA  20 23 BC           JSR XXBC23
05032  BFFD  4C 00 E0    XXBFFD JMP KERNAL      ;$E000
05033  C000              ;********************************
05034  C000              .END








BASICV2A.ASM......PAGE 0098

LINE# LOC   CODE        LINE


ERRORS = 00000


SYMBOL TABLE

SYMBOL VALUE
 AAA00E   A00E    ARYTAB   002F    AUTODN   0292    BASCLD   E394
 BASWRM   E37B    BAUDOF   0299    BITNUM   0298    BUF      0200
 CBINV    0316    CHRGET   0073    CIA1CA   02A2    CIA1CB   02A4
 CIA1IR   02A3    CLALL    FFE7    COLOR    0286    CURLIN   0039
 DATLIN   003F    DATPRT   0041    ENABL    02A1    FAT      0263
 FRESPC   0035    FRETOP   0033    GDCOL    0287    HIBASE   0288
 IBASIN   0324    IBSOUT   0326    ICHKIN   031E    ICKOUT   0320
 ICLALL   032C    ICLOSE   031C    ICLRCH   0322    ICRNCH   0304
 IERROR   0300    IEVAL    030A    IGETIN   032A    IGONE    0308
 ILOAD    0330    IMAIN    0302    INDEX    0022    IOPNE    031A
 IQPLOP   0306    IRQTMP   029F    ISAVE    0332    ISTOP    0328
 KERNAL   E000    KEYD     0277    KEYLOG   028F    KKA43A   A43A
 KKA483   A483    KKA52A   A52A    KKA57C   A57C    KKA644   A644
 KKA663   A663    KKA677   A677    KKA7E4   A7E4    KKAE86   AE86
 KKB853   B853    KKBAB9   BAB9    KKBACA   BACA    KKBAD4   BAD4
 KKBB07   BB07    KKBC0F   BC0F    LASTPT   0017    LAT      0259
 LINNUM   0014    LSTSHF   028E    M51AJB   0295    M51CDR   0294
 M51CTR   0293    MEMSI2   0282    MEMSIZ   0037    MEMSTR   0281
 MODE     0291    NEXSRO   02A5    NMINV    0318    OLDLIN   003B
 OLDTXT   003D    PALNTS   02A6    RESHO    0026    RIDBE    029B
 RIDBS    029C    RODBE    029E    RODBS    029D    RSSTAT   0297
 SAREG    030C    SAT      026D    SPREG    030F    STACK    0100
 STREND   0031    SXREG    030D    SYREG    030E    TBUFER   033C
 TEMPPT   0016    TEMPST   0019    TIMOUT   0285    TXTTAB   002B
 USRADD   0311    USRCMD   03EE    USRPOK   0310    VARTAB   002D
 VICSCN   0400    WWA328   A328    WWA364   A364    WWA369   A369
 WWA371   A371    WWA376   A376    WWA381   A381    WWB1A5   B1A5
 WWB9BC   B9BC    WWB9C1   B9C1    WWB9D6   B9D6    WWB9DB   B9DB
 WWB9E0   B9E0    WWB9E5   B9E5    WWBAF9   BAF9    WWBDB8   BDB8
 WWBDBD   BDBD    XMAX     0289    XXA080   A080    XXA081   A081
 XXA082   A082    XXA09D   A09D    XXA09E   A09E    XXA19E   A19E
 XXA1AC   A1AC    XXA1B5   A1B5    XXA1C2   A1C2    XXA1D0   A1D0
 XXA1E2   A1E2    XXA1F0   A1F0    XXA1FF   A1FF    XXA210   A210
 XXA225   A225    XXA235   A235    XXA23B   A23B    XXA24F   A24F
 XXA25A   A25A    XXA26A   A26A    XXA272   A272    XXA27F   A27F
 XXA290   A290    XXA29D   A29D    XXA2AA   A2AA    XXA2BA   A2BA
 XXA2C8   A2C8    XXA2D5   A2D5    XXA2E4   A2E4    XXA2ED   A2ED
 XXA300   A300    XXA30E   A30E    XXA31E   A31E    XXA324   A324
 XXA327   A327    XXA383   A383    XXA38A   A38A    XXA38F   A38F
 XXA3A4   A3A4    XXA3B0   A3B0    XXA3B7   A3B7    XXA3B8   A3B8
 XXA3BF   A3BF    XXA3DC   A3DC    XXA3E8   A3E8    XXA3EC   A3EC
 XXA3F3   A3F3    XXA3FB   A3FB    XXA408   A408    XXA412   A412
 XXA416   A416    XXA421   A421    XXA434   A434    XXA435   A435
 XXA437   A437    XXA456   A456    XXA469   A469    XXA474   A474
 XXA480   A480    XXA49C   A49C    XXA4D7   A4D7    XXA4DF   A4DF
 XXA4ED   A4ED    XXA508   A508    XXA522   A522    XXA533   A533
 XXA53C   A53C    XXA544   A544    XXA55F   A55F    XXA560   A560
 XXA562   A562    XXA576   A576    XXA579   A579    XXA582   A582








SYMBOL TABLE

SYMBOL VALUE
 XXA58E   A58E    XXA5A4   A5A4    XXA5AC   A5AC    XXA5B6   A5B6
 XXA5B8   A5B8    XXA5C7   A5C7    XXA5C9   A5C9    XXA5DC   A5DC
 XXA5DE   A5DE    XXA5E5   A5E5    XXA5EE   A5EE    XXA5F5   A5F5
 XXA5F9   A5F9    XXA609   A609    XXA613   A613    XXA617   A617
 XXA62E   A62E    XXA637   A637    XXA640   A640    XXA641   A641
 XXA659   A659    XXA660   A660    XXA67A   A67A    XXA68D   A68D
 XXA68E   A68E    XXA69B   A69B    XXA6A4   A6A4    XXA6BB   A6BB
 XXA6C9   A6C9    XXA6E6   A6E6    XXA6E8   A6E8    XXA6EF   A6EF
 XXA6F3   A6F3    XXA700   A700    XXA714   A714    XXA717   A717
 XXA72C   A72C    XXA72F   A72F    XXA737   A737    XXA753   A753
 XXA79F   A79F    XXA7AE   A7AE    XXA7BE   A7BE    XXA7CE   A7CE
 XXA7E1   A7E1    XXA7ED   A7ED    XXA7EF   A7EF    XXA804   A804
 XXA807   A807    XXA80B   A80B    XXA80E   A80E    XXA81D   A81D
 XXA827   A827    XXA82B   A82B    XXA82C   A82C    XXA832   A832
 XXA849   A849    XXA84B   A84B    XXA854   A854    XXA862   A862
 XXA870   A870    XXA87D   A87D    XXA897   A897    XXA8A0   A8A0
 XXA8BC   A8BC    XXA8C0   A8C0    XXA8D1   A8D1    XXA8E3   A8E3
 XXA8E8   A8E8    XXA8EB   A8EB    XXA8F8   A8F8    XXA8FB   A8FB
 XXA905   A905    XXA906   A906    XXA909   A909    XXA911   A911
 XXA919   A919    XXA937   A937    XXA940   A940    XXA948   A948
 XXA953   A953    XXA957   A957    XXA95F   A95F    XXA96A   A96A
 XXA96B   A96B    XXA971   A971    XXA99F   A99F    XXA9A5   A9A5
 XXA9C2   A9C2    XXA9D6   A9D6    XXA9D9   A9D9    XXA9DA   A9DA
 XXA9ED   A9ED    XXAA07   AA07    XXAA1D   AA1D    XXAA24   AA24
 XXAA27   AA27    XXAA2C   AA2C    XXAA3D   AA3D    XXAA4B   AA4B
 XXAA52   AA52    XXAA68   AA68    XXAA7F   AA7F    XXAA86   AA86
 XXAA90   AA90    XXAA9A   AA9A    XXAA9D   AA9D    XXAAA0   AAA0
 XXAAA2   AAA2    XXAACA   AACA    XXAAD7   AAD7    XXAAE5   AAE5
 XXAAE7   AAE7    XXAAE8   AAE8    XXAAEE   AAEE    XXAAF8   AAF8
 XXAB0E   AB0E    XXAB0F   AB0F    XXAB10   AB10    XXAB13   AB13
 XXAB19   AB19    XXAB1E   AB1E    XXAB21   AB21    XXAB28   AB28
 XXAB3B   AB3B    XXAB42   AB42    XXAB45   AB45    XXAB47   AB47
 XXAB4D   AB4D    XXAB57   AB57    XXAB5B   AB5B    XXAB5F   AB5F
 XXAB62   AB62    XXAB6B   AB6B    XXAB7A   AB7A    XXAB92   AB92
 XXABA4   ABA4    XXABB5   ABB5    XXABB7   ABB7    XXABBE   ABBE
 XXABCE   ABCE    XXABD6   ABD6    XXABEA   ABEA    XXABF9   ABF9
 XXAC03   AC03    XXAC0D   AC0D    XXAC0F   AC0F    XXAC15   AC15
 XXAC41   AC41    XXAC4A   AC4A    XXAC4D   AC4D    XXAC51   AC51
 XXAC65   AC65    XXAC71   AC71    XXAC72   AC72    XXAC7D   AC7D
 XXAC89   AC89    XXAC91   AC91    XXAC9D   AC9D    XXACB8   ACB8
 XXACD1   ACD1    XXACDF   ACDF    XXACEA   ACEA    XXACFB   ACFB
 XXAD1D   AD1D    XXAD24   AD24    XXAD27   AD27    XXAD32   AD32
 XXAD35   AD35    XXAD75   AD75    XXAD78   AD78    XXAD8A   AD8A
 XXAD8D   AD8D    XXAD8F   AD8F    XXAD90   AD90    XXAD96   AD96
 XXAD97   AD97    XXAD99   AD99    XXAD9E   AD9E    XXADA4   ADA4
 XXADA9   ADA9    XXADB8   ADB8    XXADBB   ADBB    XXADD7   ADD7
 XXADE8   ADE8    XXADF0   ADF0    XXADF9   ADF9    XXADFA   ADFA
 XXAE07   AE07    XXAE11   AE11    XXAE19   AE19    XXAE20   AE20
 XXAE30   AE30    XXAE33   AE33    XXAE38   AE38    XXAE43   AE43
 XXAE58   AE58    XXAE5B   AE5B    XXAE5D   AE5D    XXAE64   AE64
 XXAE66   AE66    XXAE80   AE80    XXAE83   AE83    XXAE8A   AE8A
 XXAE8F   AE8F    XXAE92   AE92    XXAE9A   AE9A    XXAEAD   AEAD
 XXAEBD   AEBD    XXAEC6   AEC6    XXAECC   AECC    XXAEE3   AEE3
 XXAEEA   AEEA    XXAEF1   AEF1    XXAEF7   AEF7    XXAEFA   AEFA
 XXAEFD   AEFD    XXAEFF   AEFF    XXAF08   AF08    XXAF0D   AF0D








SYMBOL TABLE

SYMBOL VALUE
 XXAF0F   AF0F    XXAF14   AF14    XXAF27   AF27    XXAF28   AF28
 XXAF5C   AF5C    XXAF5D   AF5D    XXAF6E   AF6E    XXAF84   AF84
 XXAF92   AF92    XXAFA0   AFA0    XXAFA7   AFA7    XXAFD1   AFD1
 XXAFD6   AFD6    XXB02E   B02E    XXB056   B056    XXB05B   B05B
 XXB061   B061    XXB066   B066    XXB072   B072    XXB07B   B07B
 XXB07E   B07E    XXB08B   B08B    XXB090   B090    XXB092   B092
 XXB09C   B09C    XXB09F   B09F    XXB0AF   B0AF    XXB0B0   B0B0
 XXB0BA   B0BA    XXB0C4   B0C4    XXB0D4   B0D4    XXB0DB   B0DB
 XXB0E7   B0E7    XXB0EF   B0EF    XXB0F1   B0F1    XXB0FB   B0FB
 XXB109   B109    XXB113   B113    XXB11C   B11C    XXB11D   B11D
 XXB123   B123    XXB128   B128    XXB138   B138    XXB13B   B13B
 XXB143   B143    XXB159   B159    XXB185   B185    XXB18F   B18F
 XXB194   B194    XXB1A0   B1A0    XXB1B2   B1B2    XXB1B8   B1B8
 XXB1BF   B1BF    XXB1CC   B1CC    XXB1CE   B1CE    XXB1D1   B1D1
 XXB1DB   B1DB    XXB21C   B21C    XXB228   B228    XXB237   B237
 XXB245   B245    XXB248   B248    XXB24A   B24A    XXB24D   B24D
 XXB261   B261    XXB274   B274    XXB27D   B27D    XXB286   B286
 XXB296   B296    XXB2B9   B2B9    XXB2C8   B2C8    XXB2CD   B2CD
 XXB2EA   B2EA    XXB2F2   B2F2    XXB308   B308    XXB30B   B30B
 XXB30E   B30E    XXB30F   B30F    XXB320   B320    XXB331   B331
 XXB337   B337    XXB34B   B34B    XXB34C   B34C    XXB355   B355
 XXB35F   B35F    XXB378   B378    XXB37D   B37D    XXB384   B384
 XXB391   B391    XXB39E   B39E    XXB3A2   B3A2    XXB3A6   B3A6
 XXB3AE   B3AE    XXB3E1   B3E1    XXB3F4   B3F4    XXB418   B418
 XXB449   B449    XXB44F   B44F    XXB465   B465    XXB46F   B46F
 XXB475   B475    XXB47D   B47D    XXB487   B487    XXB48D   B48D
 XXB497   B497    XXB4A4   B4A4    XXB4A8   B4A8    XXB4A9   B4A9
 XXB4B5   B4B5    XXB4BF   B4BF    XXB4CA   B4CA    XXB4D2   B4D2
 XXB4D5   B4D5    XXB4F4   B4F4    XXB4F6   B4F6    XXB501   B501
 XXB50B   B50B    XXB516   B516    XXB526   B526    XXB52A   B52A
 XXB544   B544    XXB54D   B54D    XXB559   B559    XXB561   B561
 XXB566   B566    XXB56E   B56E    XXB572   B572    XXB57D   B57D
 XXB5AE   B5AE    XXB5B0   B5B0    XXB5B8   B5B8    XXB5BD   B5BD
 XXB5C7   B5C7    XXB5DC   B5DC    XXB5E6   B5E6    XXB5F6   B5F6
 XXB601   B601    XXB606   B606    XXB63D   B63D    XXB65D   B65D
 XXB67A   B67A    XXB688   B688    XXB68C   B68C    XXB690   B690
 XXB699   B699    XXB6A2   B6A2    XXB6A3   B6A3    XXB6A6   B6A6
 XXB6AA   B6AA    XXB6D5   B6D5    XXB6D6   B6D6    XXB6DB   B6DB
 XXB6EB   B6EB    XXB6EC   B6EC    XXB700   B700    XXB706   B706
 XXB70C   B70C    XXB70D   B70D    XXB70E   B70E    XXB725   B725
 XXB72C   B72C    XXB737   B737    XXB748   B748    XXB761   B761
 XXB77C   B77C    XXB782   B782    XXB78B   B78B    XXB798   B798
 XXB79B   B79B    XXB79E   B79E    XXB7A1   B7A1    XXB7AD   B7AD
 XXB7B5   B7B5    XXB7CD   B7CD    XXB7E2   B7E2    XXB7EB   B7EB
 XXB7F1   B7F1    XXB7F7   B7F7    XXB80D   B80D    XXB82C   B82C
 XXB83C   B83C    XXB840   B840    XXB848   B848    XXB849   B849
 XXB850   B850    XXB862   B862    XXB867   B867    XXB86A   B86A
 XXB86F   B86F    XXB877   B877    XXB893   B893    XXB897   B897
 XXB8A3   B8A3    XXB8AF   B8AF    XXB8D2   B8D2    XXB8D7   B8D7
 XXB8DB   B8DB    XXB8F7   B8F7    XXB8F9   B8F9    XXB8FB   B8FB
 XXB8FE   B8FE    XXB91D   B91D    XXB929   B929    XXB936   B936
 XXB938   B938    XXB946   B946    XXB947   B947    XXB94D   B94D
 XXB96F   B96F    XXB97D   B97D    XXB97E   B97E    XXB983   B983
 XXB985   B985    XXB999   B999    XXB9A6   B9A6    XXB9AC   B9AC
 XXB9B0   B9B0    XXB9BA   B9BA    XXB9EA   B9EA    XXB9F1   B9F1








SYMBOL TABLE

SYMBOL VALUE
 XXB9F4   B9F4    XXBA28   BA28    XXBA30   BA30    XXBA59   BA59
 XXBA5E   BA5E    XXBA61   BA61    XXBA7D   BA7D    XXBA8B   BA8B
 XXBA8C   BA8C    XXBAB7   BAB7    XXBAC4   BAC4    XXBACF   BACF
 XXBADA   BADA    XXBADF   BADF    XXBAE2   BAE2    XXBAED   BAED
 XXBAF8   BAF8    XXBAFE   BAFE    XXBB0F   BB0F    XXBB12   BB12
 XXBB29   BB29    XXBB3F   BB3F    XXBB4C   BB4C    XXBB4F   BB4F
 XXBB5D   BB5D    XXBB7A   BB7A    XXBB7E   BB7E    XXBB8A   BB8A
 XXBB8F   BB8F    XXBBA2   BBA2    XXBBD0   BBD0    XXBBD4   BBD4
 XXBBFC   BBFC    XXBBFE   BBFE    XXBC02   BC02    XXBC0C   BC0C
 XXBC11   BC11    XXBC1A   BC1A    XXBC1B   BC1B    XXBC23   BC23
 XXBC2B   BC2B    XXBC2F   BC2F    XXBC31   BC31    XXBC38   BC38
 XXBC39   BC39    XXBC3C   BC3C    XXBC44   BC44    XXBC49   BC49
 XXBC4F   BC4F    XXBC58   BC58    XXBC5B   BC5B    XXBC5D   BC5D
 XXBC92   BC92    XXBC98   BC98    XXBC9B   BC9B    XXBCAF   BCAF
 XXBCBA   BCBA    XXBCBB   BCBB    XXBCCC   BCCC    XXBCE9   BCE9
 XXBCF2   BCF2    XXBCF3   BCF3    XXBCF7   BCF7    XXBD06   BD06
 XXBD0A   BD0A    XXBD0D   BD0D    XXBD0F   BD0F    XXBD2E   BD2E
 XXBD30   BD30    XXBD33   BD33    XXBD35   BD35    XXBD41   BD41
 XXBD47   BD47    XXBD49   BD49    XXBD52   BD52    XXBD5B   BD5B
 XXBD62   BD62    XXBD67   BD67    XXBD6A   BD6A    XXBD71   BD71
 XXBD7E   BD7E    XXBD91   BD91    XXBDA0   BDA0    XXBDAE   BDAE
 XXBDC2   BDC2    XXBDCD   BDCD    XXBDDA   BDDA    XXBDDD   BDDD
 XXBDDF   BDDF    XXBDE7   BDE7    XXBDF8   BDF8    XXBE00   BE00
 XXBE09   BE09    XXBE0B   BE0B    XXBE16   BE16    XXBE21   BE21
 XXBE28   BE28    XXBE2F   BE2F    XXBE32   BE32    XXBE47   BE47
 XXBE48   BE48    XXBE53   BE53    XXBE64   BE64    XXBE66   BE66
 XXBE68   BE68    XXBE6A   BE6A    XXBE8E   BE8E    XXBE90   BE90
 XXBE97   BE97    XXBEB2   BEB2    XXBEC4   BEC4    XXBEC6   BEC6
 XXBED3   BED3    XXBEE3   BEE3    XXBEEF   BEEF    XXBF04   BF04
 XXBF07   BF07    XXBF0C   BF0C    XXBF16   BF16    XXBF17   BF17
 XXBF18   BF18    XXBF19   BF19    XXBF71   BF71    XXBF84   BF84
 XXBF9E   BF9E    XXBFB4   BFB4    XXBFBE   BFBE    XXBFED   BFED
 XXBFFD   BFFD    ZZA000   A000    ZZA002   A002    ZZA004   A004
 ZZA00C   A00C    ZZA052   A052    ZZA129   A129    ZZA642   A642
 ZZA69C   A69C    ZZA71A   A71A    ZZA742   A742    ZZA78B   A78B
 ZZA831   A831    ZZA857   A857    ZZA871   A871    ZZA883   A883
 ZZABA5   ABA5    ZZABBF   ABBF    ZZAD1E   AD1E    ZZAFE6   AFE6
 ZZAFE9   AFE9    ZZB081   B081    ZZB1AA   B1AA    ZZB3B3   B3B3
 ZZB824   B824    ZZB82D   B82D    ZZBA2B   BA2B    ZZBBC7   BBC7
 ZZBDB3   BDB3    ZZBF11   BF11    ZZBF1A   BF1A    ZZBF3A   BF3A
 ZZBF52   BF52    ZZBF53   BF53    ZZBF7B   BF7D    ZZBFBF   BFBF
 ZZBFC4   BFC4   

END OF ASSEMBLY
